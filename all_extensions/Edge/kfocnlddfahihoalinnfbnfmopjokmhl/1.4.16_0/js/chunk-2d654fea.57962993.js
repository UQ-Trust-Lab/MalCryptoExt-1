(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d654fea"],{3153:function(t,e,s){"use strict";s("3a1d")},"3a1d":function(t,e,s){},b22f:function(t,e,s){"use strict";s.r(e),s("99af"),s("a15b"),s("a9e3"),s("ac1f"),s("1276"),s("498a"),s("96cf");var a=s("1da1"),r=s("0a35"),n=s("b097"),i=s("20df"),o={name:"CreateForm",props:{isLoading:{type:Boolean,default:!1},navigationClass:{type:[String,Array],default:""}},data:function(){return{seeRestoreKey:!1,error:{passwd:"",passwdCheck:""},form:{passwd:"",passwdCheck:""}}},mounted:function(){var t=this;this.$nextTick((function(){t.$refs.passwd.focus()}))},watch:{"form.passwd":function(t,e){t!==e&&(this.error.passwd=""),t.length>0&&t.trim().length<8?this.error.passwd="message.errLengthPasswd":this.form.passwdCheck.length>0&&t!=this.form.passwdCheck&&(this.error.passwdCheck="message.errNotMatchPasswd")},"form.passwdCheck":function(t,e){t!==e&&(this.error.passwdCheck=""),this.form.passwd.length>0&&t!=this.form.passwd&&(this.error.passwdCheck="message.errNotMatchPasswd")}},computed:{clsNavigation:function(){var t=[];return this.navigationClass&&(Array.isArray(this.navigationClass)?t=this.navigationClass:t.push(this.navigationClass)),["app-navigation"].concat(t)},isDisableSubmit:function(){return!(this.form.passwd.length>7&&this.form.passwdCheck.length>7&&this.error.passwd.length<1&&this.error.passwdCheck.length<1)||null}},methods:{clickBack:function(){this.$emit("click:back")},clickSubmit:function(){null==this.isDisableSubmit&&this.$emit("click:submit",this.form||{})}}},c=s("2877"),u=Object(c.a)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{class:t.clsNavigation},[s("a",{attrs:{href:"#"},on:{click:t.clickBack}},[t._v("< "+t._s(t.$t("action.back")))])]),s("div",{staticClass:"app-content"},[s("div",{staticClass:"mb-3 text-center"},[s("div",{staticClass:"h3 strong"},[t._v(t._s(t.$t("createUser.title")))])]),s("div",{staticClass:"form-group mt-2"},[s("label",[t._v(t._s(t.$t("form.newPasswd")))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.passwd,expression:"form.passwd"}],ref:"passwd",staticClass:"form-control form-control-md",attrs:{type:"password"},domProps:{value:t.form.passwd},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:this.$refs.pwCheck.focus(e)},input:function(e){e.target.composing||t.$set(t.form,"passwd",e.target.value)}}}),t.error.passwd.length>0?s("span",{staticClass:"form-text text-danger-400"},[t._v(t._s(t.$t(t.error.passwd)))]):t._e()]),s("div",{staticClass:"form-group mt-1"},[s("label",[t._v(t._s(t.$t("form.passwdCheck")))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.passwdCheck,expression:"form.passwdCheck"}],ref:"pwCheck",staticClass:"form-control form-control-md",attrs:{type:"password"},domProps:{value:t.form.passwdCheck},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.clickSubmit(e)},input:function(e){e.target.composing||t.$set(t.form,"passwdCheck",e.target.value)}}}),t.error.passwdCheck.length>0?s("span",{staticClass:"form-text text-danger-400"},[t._v(t._s(t.$t(t.error.passwdCheck)))]):t._e()]),s("vue-ladda",{staticClass:"btn btn-lg wfull btn-primary",attrs:{type:"button",loading:t.isLoading,disabled:t.isDisableSubmit},on:{click:t.clickSubmit}},[t._v(t._s(t.$t("action.createWallet")))])],1)])}),[],!1,null,null,null).exports,l=s("b994"),d={name:"Intro",components:{UploadCloudIcon:r.p,PlusSquareIcon:r.m,Logo:n.a,RestoreForm:i.a,CreateForm:u,RestoreKeyForm:l.a},data:function(){return{step:1,width:0,height:0,mouseX:0,mouseY:0,mouseLeaveDelay:null,isLoading:!1,restoreKey:""}},created:function(){this.pageData.step&&this.moveStep(this.pageData.step.split("-")[0]||1)},mounted:function(){this.width=this.$refs.intro.offsetWidth,this.height=this.$refs.intro.offsetHeight},computed:{clsIntro:function(){var t=["content p-md d-flex justify-content-center align-items-center"];return 1!=this.step&&2!=this.step||(1==this.step&&t.push("bg-dark-light"),t.push("align-items-center")),t},mousePX:function(){return this.mouseX/this.width},mousePY:function(){return this.mouseY/this.height},cardStyle:function(){var t=30*this.mousePX,e=-30*this.mousePY;return{transform:"rotateY(".concat(t,"deg) rotateX(").concat(e,"deg)")}},cardBgTransform:function(){var t=-40*this.mousePX,e=-40*this.mousePY;return{transform:"translateX(".concat(t,"px) translateY(").concat(e,"px)")}},cardBgImage:function(){return{backgroundImage:"url(".concat(this.dataImage,")")}}},methods:{handleMouseMove:function(t){this.$refs.intro&&(this.mouseX=t.pageX-this.$refs.intro.offsetLeft-this.width/2,this.mouseY=t.pageY-this.$refs.intro.offsetTop-this.height/2)},handleMouseEnter:function(){clearTimeout(this.mouseLeaveDelay)},handleMouseLeave:function(){var t=this;this.mouseLeaveDelay=setTimeout((function(){t.mouseX=0,t.mouseY=0}),1e3)},moveStep:function(t){this.isLoading||(this.step=t||(Number(this.step)||0)+1,this.evtBgAppState("Intro",t))},clickRestoreKey:function(t,e){var s=this;return Object(a.a)(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!s.isLoading){a.next=2;break}return a.abrupt("return");case 2:return s.isLoading=!0,r={key:t},a.next=6,s.evtBgRestoreValidate(r).then((function(){s.isLoading=!1,s.restoreKey=t,e(!0)})).catch((function(){s.isLoading=!1,s.restoreKey="",e(!1)}));case 6:case"end":return a.stop()}}),a)})))()},clickRestore:function(t){var e=this;return Object(a.a)(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!e.isLoading){s.next=2;break}return s.abrupt("return");case 2:if(e.isLoading=!0,a=null,t.restoreKey&&12==t.restoreKey.split(" ").length?t.passwd.length>0&&t.passwd.trim().length<8?a="message.errLengthPasswd":t.passwdCheck.length>0&&t.passwd!=t.passwdCheck&&(a="message.errNotMatchPasswd"):a="message.errValidateRestoreKey",null==a){s.next=7;break}return s.abrupt("return",e.$toast.open({message:e.$t(a),type:"error"}));case 7:return s.next=9,e.evtBgRestore(t).then((function(){e.isLoading=!1,e.evtUpdatePage("Home")})).catch((function(){e.isLoading=!1}));case 9:case"end":return s.stop()}}),s)})))()},clickCreate:function(t){var e=this;return Object(a.a)(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!e.isLoading){s.next=2;break}return s.abrupt("return");case 2:e.isLoading=!0,e.evtBgSignUp(t).then((function(t){if(e.isLoading=!1,t.data){var s=t.data.key||null;if(!s)return;e.restoreKey=s.join(" "),e.moveStep(3)}})).catch((function(){e.isLoading=!1}));case 4:case"end":return s.stop()}}),s)})))()},clickComplete:function(){this.evtUpdatePage("Home")}}},m=(s("3153"),Object(c.a)(d,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"intro",class:t.clsIntro,on:{mousemove:t.handleMouseMove,mouseenter:t.handleMouseEnter,mouseleave:t.handleMouseLeave}},[s("transition",{attrs:{name:"fade",mode:"out-in"}},[1==t.step?s("div",{key:"intro",staticClass:"text-center"},[s("div",{staticClass:"svg-inline"},[s("Logo",{style:t.cardStyle,attrs:{size:80}})],1),s("div",{staticClass:"h5 mt-5"},[t._v(t._s(t.$t("intro.title")))]),s("div",{staticClass:"h6 mt-3 text-muted"},[t._v(t._s(t.$t("intro.info")))]),s("button",{staticClass:"mt-4 btn btn-lg wfull btn-primary",attrs:{type:"button"},on:{click:function(e){return t.moveStep()}}},[t._v(" "+t._s(t.$t("start"))+" ")])]):2==t.step?s("div",{key:"create"},[s("div",{staticClass:"svg-inline mb-3 text-center"},[s("Logo",{style:t.cardStyle,attrs:{size:30}}),s("div",{staticClass:"h5 strong mt-3"},[t._v(" "+t._s(t.$t("introConfirm.title"))+" ")])],1),s("div",{staticClass:"card bg-dark text-center border-1"},[s("div",{staticClass:"card-body svg-inline p-2 px-3"},[s("UploadCloudIcon",{staticClass:"mb-3",attrs:{size:"3x"}}),s("h5",{staticClass:"card-title strong"},[t._v(" "+t._s(t.$t("introConfirm.loadTitle"))+" ")]),s("p",{staticClass:"mb-3 text-muted"},[t._v(" "+t._s(t.$t("introConfirm.loadInfo"))+" ")]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.moveStep("2-1")}}},[t._v(" "+t._s(t.$t("action.loadWallet"))+" ")])],1)]),s("div",{staticClass:"card bg-dark text-center border-1"},[s("div",{staticClass:"card-body svg-inline p-2 px-3"},[s("PlusSquareIcon",{staticClass:"mb-3",attrs:{size:"3x"}}),s("h5",{staticClass:"card-title strong"},[t._v(" "+t._s(t.$t("introConfirm.createTitle"))+" ")]),s("p",{staticClass:"mb-3 text-muted"},[t._v(" "+t._s(t.$t("introConfirm.createInfo"))+" ")]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.moveStep("2-2")}}},[t._v(" "+t._s(t.$t("action.createWallet"))+" ")])],1)])]):"2-1"==t.step?s("RestoreForm",{key:"restoreUser",attrs:{navigationClass:"fixed",isLoading:t.isLoading},on:{"click:back":function(e){return t.moveStep(2)},"click:submit:key":t.clickRestoreKey,"click:submit":t.clickRestore}}):"2-2"==t.step?s("CreateForm",{key:"createUser",attrs:{navigationClass:"fixed",isLoading:t.isLoading},on:{"click:back":function(e){return t.moveStep(2)},"click:submit":t.clickCreate}}):3==t.step?s("RestoreKeyForm",{key:"restoreKey",attrs:{isLoading:t.isLoading,restoreKey:t.restoreKey},on:{"click:submit":t.clickComplete}}):t._e()],1)],1)}),[],!1,null,"06755288",null));e.default=m.exports}}]);
{"version":3,"sources":["images/logo.png","utils/testingTools.js","logic/chromeTools.js","logic/browser-specific/googlechrome.js","logic/browser-specific/firefox.js","logic/browser-specific/opera.js","logic/browser-specific/edge.js","logic/onAppMount.js","components/Upper/LangSelect/LangOptions.jsx","components/Upper/LangSelect/LangSelect.jsx","components/Upper/Upper.jsx","components/Lower/IFrameWarning/IFrameWarning.jsx","components/Lower/InputSlider/InputSlider.jsx","components/Lower/Lower.jsx","components/theme.jsx","components/ErrorMessage.jsx","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","testingTools","devMode","chrome","runtime","getManifest","devLog","str","console","log","setupTestEnv","process","tools","injectionError","contentResponse","operaErrors","extensionSettings","popupWarning","pushFSToStorage","minFontSize","storage","local","set","pushLangToStorage","language","getFromStorage","a","Promise","resolve","get","response","result","JSON","stringify","handleFirstMessageResponse","lastError","tabId","obj","_errorCallback","tabs","executeScript","file","handleJqueryInjection","handleJqueryInjectErr","injectContentScript","lastErrorMessage","message","secondMessageToScripts","sendMessage","frameId","error","sendToContent","tab_id","googlechrome","chromeErrorString","webstoreErrorString","isChrome","navigator","userAgent","match","urlInvalid","tab","url","Error","firefox","addonsErrorString","aboutErrorString","isFirefox","browser","getBrowserInfo","opera","isOpera","edge","edgeErrorString","isEdge","onAppMount","userBrowser","main","getQueryResult","query","active","currentWindow","id","validBrowser","invalidUrl","LangOptions","value","label","useStyles","makeStyles","menuItem","fontSize","minHeight","paddingTop","paddingBottom","select","width","background","color","grey","fontWeight","borderStyle","borderWidth","borderRadius","marginBottom","paddingLeft","boxShadow","borderColor","icon","right","position","userSelect","pointerEvents","paper","marginTop","maxHeight","maxWidth","top","list","overflowY","overflowX","LangSelect","changeHandler","classes","menuProps","anchorOrigin","vertical","horizontal","transformOrigin","getContentAnchorEl","FormControl","Select","disableUnderline","root","MenuProps","IconComponent","props","className","onChange","event","target","handleSelectChange","inputProps","map","option","MenuItem","dense","key","Typography","LangSelectBar","getLangIndex","currentLang","find","element","indexOf","Grid","container","spacing","justify","alignItems","item","IconButton","size","onClick","newIndex","length","previousLang","nextLang","logo","height","toolbar","Upper","AppBar","Toolbar","disableGutters","src","alt","warning","marginLeft","marginRight","textAlign","hidden","display","IFrameWarning","Box","grid","slider","input","InputSlider","Slider","max","newValue","handleSliderChange","Input","margin","Number","handleInputChange","onBlur","step","min","type","lower","help","bottom","left","Lower","iFrames","href","theme","createMuiTheme","typography","body1","palette","primary","contrastText","common","white","secondary","contrastThreshold","tonalOffset","backgroundColor","overflow","flexDirection","justifyContent","errorMessage","ErrorMessage","ThemeProvider","Container","fixed","Paper","elevation","App","useState","setMinFontSize","setLanguage","setTabId","setReady","setiFrames","setErrorMessage","useEffect","fetchStoredData","fetchTabInfo","handleInfo","tabInfo","storedData","contentObj","createContentObj","newErrorMessage","checkTabValidity","injectionErr","multipleFrames","newLanguage","err","newMinFontSize","Boolean","window","location","hostname","ReactDOM","render","StrictMode","document","getElementById","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.7516e4dd.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAFVWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS41LjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgZXhpZjpQaXhlbFhEaW1lbnNpb249IjY0IgogICBleGlmOlBpeGVsWURpbWVuc2lvbj0iNjQiCiAgIGV4aWY6Q29sb3JTcGFjZT0iMSIKICAgdGlmZjpJbWFnZVdpZHRoPSI2NCIKICAgdGlmZjpJbWFnZUxlbmd0aD0iNjQiCiAgIHRpZmY6UmVzb2x1dGlvblVuaXQ9IjIiCiAgIHRpZmY6WFJlc29sdXRpb249IjMwMC4wIgogICB0aWZmOllSZXNvbHV0aW9uPSIzMDAuMCIKICAgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIKICAgcGhvdG9zaG9wOklDQ1Byb2Zp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\"","/*global chrome*/\r\n\r\nconst testingTools = {\r\n  devMode: () => {\r\n    if(process.env.NODE_ENV === \"development\" || process.env.NODE_ENV === \"test\") {\r\n      return true\r\n    } else if (chrome && chrome.runtime && typeof chrome.runtime.getManifest !== 'undefined') {\r\n      // update_url is set by chrome webstore on submit. If it doesn't exist, the extension was loaded locally rather than installed from webstore\r\n      return !('update_url' in chrome.runtime.getManifest());\r\n    } else {\r\n      return false\r\n    }\r\n  },\r\n\r\n  devLog: (str) => {\r\n    if(testingTools.devMode()) {console.log(str)} \r\n  },\r\n\r\n  setupTestEnv: () => {\r\n  // npm start runs app in browser tab which doesn't have accesse to required chrome apis, so we provide them here for UI testing purposes\r\n  if(process.env.NODE_ENV === 'development') {\r\n    global.chrome = {\r\n      runtime: {\r\n        getManifest: () => {return {update_url: true}}\r\n      },\r\n      tabs: {\r\n        query: ()=>{},\r\n        sendMessage: ()=>{}\r\n      },\r\n      storage: {\r\n        local: {\r\n          get: ()=>{},\r\n          set: ()=>{}\r\n        }\r\n      }\r\n    }\r\n  }\r\n  }\r\n}\r\n\r\nexport default testingTools;","/*global chrome*/\r\nimport testingTools from '../utils/testingTools';\r\n\r\nconst tools = {\r\n  injectionError: null,\r\n  contentResponse: {},\r\n\r\n  operaErrors: {\r\n    extensionSettings: 'This page cannot be scripted due to an ExtensionsSettings policy.',\r\n    popupWarning: 'You must enable \"Allow access to search page results\" in Hanzisize extension settings for Hanzisize to work on this page'\r\n  },\r\n\r\n  // push submitted fontsize to chrome local storage\r\n  pushFSToStorage: (minFontSize) => {\r\n    chrome.storage.local.set({minFontSize: minFontSize}, () => {\r\n      testingTools.devLog(`tools.pushFSToStorage New minimum font size stored as: ${minFontSize}`)\r\n    })\r\n  },  \r\n  \r\n  // push submitted language to chrome local storage\r\n  pushLangToStorage: (language) => {\r\n    chrome.storage.local.set({language: language}, () => {\r\n      testingTools.devLog(`tools.pushFSToStorage New language stored as: ${language}`)\r\n    })\r\n  },\r\n\r\n  // return minFontSize and language from chrome local storage if exist, if not, return default values\r\n  getFromStorage: async () => {\r\n    const result = await new Promise(resolve => {\r\n      chrome.storage.local.get(['minFontSize', 'language'], response => { resolve(response)})});\r\n\r\n      if(result.minFontSize && result.language) {\r\n        testingTools.devLog(`tools.getFromStorage Retrieved object from storage: ${JSON.stringify(await result)}`);\r\n      } \r\n      if(!result.minFontSize) {\r\n        testingTools.devLog('tools.getFromStorage result.minFontSize not found');\r\n        result.minFontSize = 0\r\n      }\r\n      if(!result.language) {\r\n        testingTools.devLog('tools.getFromStorage result.language not found');\r\n        result.language = 'chinese'\r\n      }\r\n      return await result;\r\n  },\r\n\r\n  // Handle initial message response\r\n  handleFirstMessageResponse: (lastError, response, tabId, obj, _errorCallback) => {\r\n    // if tab does not send back a response, the content script hasn't been injected yet\r\n    if (lastError && !response) {\r\n\r\n      testingTools.devLog(`tools.sendToContent initial message send failed. injecting jquery...`);\r\n      // First try to inject jquery into active tab. Requires \"permissions\": [\"activeTab\"] in manifest.json\r\n      chrome.tabs.executeScript(tabId, { file: process.env.PUBLIC_URL + 'jquery-3.5.1.slim.min.js' }, function () {\r\n        tools.handleJqueryInjection(chrome.runtime.lastError, tabId, obj, _errorCallback);\r\n      });\r\n    } else {\r\n      tools.contentResponse = response;\r\n      if (_errorCallback) {_errorCallback(tools.injectionError, tools.contentResponse)}\r\n    }\r\n  },\r\n\r\n  // Handle response from jquery injection\r\n  handleJqueryInjection: (lastError, tabId, obj, _errorCallback) => {\r\n    // if an error is returned, the user is probably trying to use the extension on a page that the browser doesn't allow (e.g. chrome webstore, addons.mozilla.org, etc.) or is using Opera on search results without the proper settings\r\n    if(lastError) {\r\n      tools.handleJqueryInjectErr(chrome.runtime.lastError, _errorCallback);\r\n    } else {\r\n      testingTools.devLog('jquery injected. injecting content script...')\r\n      // If jquery injects properly, inject contentScript.js in active tab. Requires \"permissions\": [\"activeTab\"] in manifest.json\r\n      tools.injectContentScript(tabId, obj, _errorCallback)\r\n    }\r\n  },\r\n\r\n  // Handle Opera search results permission & other injection errors\r\n  handleJqueryInjectErr: (lastErrorMessage, _errorCallback) => {\r\n    testingTools.devLog(`jquery injection error: ${JSON.stringify(lastErrorMessage)}`);\r\n  \r\n    // Opera throws the following error if extension is used on google search results without first given permission\r\n    if (lastErrorMessage.message === tools.operaErrors.extensionSettings) {\r\n      testingTools.devLog('extension called on google search results with setting disabled')\r\n\r\n      tools.injectionError = tools.operaErrors.popupWarning;\r\n    } else {\r\n      tools.injectionError = lastErrorMessage.message;\r\n    }\r\n    if (_errorCallback) {_errorCallback(tools.injectionError, tools.contentResponse)}\r\n  },\r\n\r\n  // Inject contentScript after jquery has been injected\r\n  injectContentScript: (tabId, obj, _errorCallback) => {\r\n    chrome.tabs.executeScript(tabId, {file: process.env.PUBLIC_URL + '/contentScript.js'}, function() {\r\n      console.log(`executeScript: ${JSON.stringify(chrome.runtime.lastError)}`)\r\n      if (chrome.runtime.lastError) {\r\n        testingTools.devLog(`content script injection error ${chrome.runtime.lastError.message}`);\r\n        tools.injectionError = chrome.runtime.lastError.message;\r\n        if (_errorCallback) {_errorCallback(tools.injectionError, tools.contentResponse)}\r\n      } else {               \r\n        // if contentScript.js has been successfully injected, call sendMessage a second time to finally send the object to the active tab\r\n        tools.secondMessageToScripts(tabId, obj, _errorCallback) \r\n      }\r\n    });\t\r\n  },\r\n\r\n  // Send message after scripts have been injected\r\n  secondMessageToScripts: (tabId, obj, _errorCallback) => {\r\n    try {\r\n      chrome.tabs.sendMessage(tabId, obj, {frameId: 0}, function(response) {\r\n         testingTools.devLog(`tools.sendToContent (2nd try) recieved response: ${JSON.stringify(response)}`);\r\n         tools.contentResponse = response;\r\n         if (_errorCallback) {_errorCallback(tools.injectionError, tools.contentResponse)}\r\n      })\r\n     } catch (error) {\r\n        testingTools.devLog(`scripts injected, but message could not be sent. ${error}`)\r\n    } \r\n  },\r\n\r\n  // this function gets called on initial load of the extension as well as every time the user selects a new language or changes minFontSize\r\n  sendToContent: (tab_id, obj, _errorCallback) => {\r\n    // attempt to send object to content script\r\n    chrome.tabs.sendMessage(tab_id, obj, {frameId: 0}, function(response) {\r\n      tools.handleFirstMessageResponse(chrome.runtime.lastError, response, tab_id, obj, _errorCallback);\r\n    \r\n      testingTools.devLog(`tools.sendToContent recieved response: ${JSON.stringify(response)}`);\r\n    });\r\n  }\r\n}\r\n\r\nexport default tools;","const googlechrome = {// chrome specific url checking\r\n  chromeErrorString: \"NOTE: Google blocks extensions and does not allow them to work on special <chrome://> pages such as the current page.\",\r\n  webstoreErrorString: \"NOTE: For this extension to work you must leave the Chrome Webstore and go to another website. Google blocks extensions from functioning on special Google pages such as the Chrome Webstore.\",\r\n\r\n  isChrome: () => {\r\n    try { // no regex match means user not on Chrome\r\n      return (navigator.userAgent.match(/Chrome\\//) ? true : false);\r\n    } catch (error) { // returns false if navigator.userAgent is not found, user not using chrome-based browser\r\n      return false;\r\n    }\r\n  },\r\n\r\n  urlInvalid: (tab) => {\r\n    // Extensions are not allowed in chrome settings pages or in the webstore. This function checks for these urls\r\n    if ('url' in tab) {\r\n      if(tab.url.match(/^chrome/i)) {\r\n        return googlechrome.chromeErrorString;\r\n      } else if (tab.url.match(/chrome\\.google.com\\/webstore/i)) {\r\n        return googlechrome.webstoreErrorString;\r\n      } else {\r\n        return false;\r\n      }\r\n    } else {\r\n      throw new Error('Active tab has no url value')\r\n    }\r\n  },\r\n}\r\n\r\nexport default googlechrome;","/*global browser*/\r\n// above needed for testing\r\n\r\nconst firefox = {// firefox specific url checking\r\n  addonsErrorString: \"NOTE: For this addon to work you must leave addons.mozilla.org and go to another website. Mozilla blocks addons from functioning on special Mozilla pages such as this one.\",\r\n  aboutErrorString: \"NOTE: For this addon to work you must leave this page and go to another website. Mozilla blocks addons from functioning on special Firefox pages such as this one.\",\r\n\r\n  isFirefox: () => {\r\n    if (typeof browser !== 'undefined') {\r\n      if(typeof browser.runtime.getBrowserInfo === 'function') { // user is on firefox\r\n        return true;\r\n      } else { \r\n        return false;\r\n      }\r\n    }\r\n  },\r\n\r\n  // addons are not allowed on addons.mozilla.org or settings pages. This function checks for these urls\r\n  urlInvalid: (tab) => {\r\n    if ('url' in tab) {\r\n      if (tab.url.match(/\\/addons\\.mozilla\\.org/i)) {\r\n        return firefox.addonsErrorString;\r\n      } else if (tab.url.match(/^about:/i)) {\r\n        return firefox.aboutErrorString;\r\n      } else {\r\n        return false\r\n      }\r\n    } else {\r\n      throw new Error('Active tab has no url value')\r\n    }\r\n  }\r\n}\r\n\r\nexport default firefox;","const opera = {// opera specific url checking\r\n  chromeErrorString: \"NOTE: Opera blocks extensions and does not allow them to work on special settings pages such as the current page.\",\r\n  addonsErrorString: \"NOTE: For this addon to work you must leave addons.opera.com and go to another website. Opera blocks addons from functioning on special pages such as this one.\",\r\n\r\n  // determines if the user is on Opera or not\r\n  isOpera: () => {\r\n    try { // if no regex match = user not on Chrome\r\n      return (navigator.userAgent.match(/Opera|OPR\\//) ? true : false);\r\n    } catch (error) { // returns false if navigator.userAgent is not found\r\n      return false;\r\n    }\r\n  },\r\n\r\n  // addons are not allowed on addons.mozilla.org or settings pages. This function checks for these urls\r\n  urlInvalid: (tab) => {\r\n    if ('url' in tab) {\r\n      if (tab.url.match(/\\/addons\\.opera\\.com/i)) {\r\n        return opera.addonsErrorString;\r\n      } else if(tab.url.match(/^chrome/i)) {\r\n        return opera.chromeErrorString;\r\n      } else {\r\n        return false\r\n      }\r\n    } else {\r\n      throw new Error('Active tab has no url value')\r\n    }\r\n  }\r\n}\r\n\r\nexport default opera;","const edge = {// chrome specific url checking\r\n  edgeErrorString: \"NOTE: Microsoft blocks extensions and does not allow them to work on special <edge://> pages such as the current page.\",\r\n  addonsErrorString: \"NOTE: For this extension to work you must leave the Edge Addons store and go to another website. Microsoft blocks extensions from functioning on special pages such as this one.\",\r\n\r\n  isEdge: () => {\r\n    try { // no regex match means user not on Edge\r\n      return (navigator.userAgent.match(/Edg\\//) ? true : false);\r\n    } catch (error) { // returns false if navigator.userAgent is not found\r\n      return null;\r\n    }\r\n  },\r\n\r\n  urlInvalid: (tab) => {\r\n    // Extensions are not allowed in chrome settings pages or in the webstore. This function checks for these urls\r\n    if ('url' in tab) {\r\n      if(tab.url.match(/^edge/i)) {\r\n        return edge.edgeErrorString;\r\n      } else if (tab.url.match(/microsoftedge\\.microsoft\\.com\\/addons/i)) {\r\n        return edge.addonsErrorString;\r\n      } else {\r\n        return false\r\n      }\r\n    } else {\r\n      throw new Error('Active tab has no url value')\r\n    }\r\n  },\r\n}\r\n\r\nexport default edge;","/*global chrome*/\r\n// above needed for testing\r\nimport googlechrome from './browser-specific/googlechrome';\r\nimport firefox from './browser-specific/firefox';\r\nimport opera from './browser-specific/opera';\r\nimport edge from './browser-specific/edge';\r\n\r\nimport testingTools from '../utils/testingTools';\r\n\r\nconst onAppMount = {\r\n\r\n  // determine user's browser\r\n  userBrowser:  () => {\r\n    if (firefox.isFirefox() === true) {// user is on firefox\r\n      return 'firefox';\r\n    } else if (opera.isOpera() === true) { // user is on opera\r\n      return 'opera';\r\n    } else if (edge.isEdge() === true) { // user is on edge\r\n      return 'edge';\r\n    } else if (googlechrome.isChrome() === true) { // test googlechrome last because the above browsers' useragent strings also contain the string \"Chrome\"\r\n      return 'chrome';\r\n    } else {\r\n      return false;\r\n    }\r\n  },\r\n\r\n  // check for disallowed urls by browser\r\n  urlInvalid: (tab, browser) => {\r\n    let result;\r\n    switch(browser) {\r\n      case 'firefox':\r\n        result = firefox.urlInvalid(tab)\r\n        break;\r\n      case 'opera':\r\n        result = opera.urlInvalid(tab)\r\n        break;\r\n      case 'edge':\r\n        result = edge.urlInvalid(tab)\r\n        break;\r\n      case 'chrome':\r\n        result = googlechrome.urlInvalid(tab);\r\n        break;\r\n      default:\r\n        result = true;\r\n    }\r\n    return result;\r\n  },\r\n\r\n  // gets and validates current tab.id and gets url validity string, sends both to callback\r\n  main: async () => {\r\n\r\n    // get active tab info\r\n    const getQueryResult = () => {\r\n      return new Promise(resolve => {\r\n        chrome.tabs.query({active: true, currentWindow: true}, response => resolve(response))\r\n      }) \r\n    }\r\n\r\n    const tabs = await getQueryResult()\r\n    const tab = await tabs[0];\r\n\r\n    testingTools.devLog(`onAppMount.main tab ${JSON.stringify(tab)}`)\r\n    // tab object validation\r\n    if(!tab.id) {throw new Error('tab.id not defined')};\r\n    if(!tab.url) {throw new Error('tab.url not defined')}\r\n    \r\n    // check browser\r\n    const validBrowser = onAppMount.userBrowser();\r\n    // check url\r\n    const invalidUrl = onAppMount.urlInvalid(tab, validBrowser);\r\n    return {\r\n      tabId: tab.id, \r\n      validBrowser: validBrowser,\r\n      invalidUrl: invalidUrl\r\n    };\r\n  }\r\n}\r\n\r\nexport default onAppMount;","const LangOptions = [\r\n  {value: 'arabic', label: 'العربية Arabic'},\r\n  {value: 'burmese', label: 'မြန်မာဘာသာ Burmese'},\r\n  {value: 'chinese', label: '中文 Chinese'},\r\n  {value: 'english', label: 'English'},\r\n  {value: 'georgian', label: 'ქართული Georgian'},\r\n  {value: 'hangul', label: '한국어 Korean'},\r\n  {value: 'hebrew', label: 'עברית Hebrew'},\r\n  {value: 'hindi', label: 'हिन्दी Hindi'},\r\n  {value: 'japanese', label: '日本語 Japanese'},\r\n  {value: 'thai', label: 'ไทย Thai'}\r\n];\r\n\r\nexport default LangOptions;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport NavigateBeforeicon from '@material-ui/icons/NavigateBefore';\r\nimport NavigateNexticon from '@material-ui/icons/NavigateNext';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { grey } from '@material-ui/core/colors';\r\n\r\nimport LangOptions from './LangOptions';\r\n\r\nconst useStyles = makeStyles({\r\n  menuItem: {\r\n    fontSize: \".7rem\",\r\n    minHeight: \"1.3rem\",\r\n    paddingTop: \"0px\",\r\n    paddingBottom: \"0px\",\r\n  },\r\n  select: {\r\n    width: 140,\r\n    background: 'white',\r\n    color: grey[600],\r\n    fontWeight:200,\r\n    fontSize: 12,\r\n    borderStyle:'none',\r\n    borderWidth: 2,\r\n    borderRadius: 12,\r\n    marginBottom: 0,\r\n    paddingLeft: 24,\r\n    paddingTop: 10,\r\n    paddingBottom: 10,\r\n    boxShadow: '0px 5px 8px -3px rgba(0,0,0,0.14)',\r\n    \"&:focus\":{\r\n      borderRadius: 12,\r\n      background: 'white',\r\n      borderColor: grey[100]\r\n    },\r\n  },\r\n  icon:{\r\n    color: grey[500],\r\n    right: 12,\r\n    position: 'absolute',\r\n    userSelect: 'none',\r\n    pointerEvents: 'none'\r\n  },\r\n  paper: {\r\n    borderRadius: 12,\r\n    marginTop: 4,\r\n    maxHeight: '80%',\r\n    maxWidth: '40%',\r\n    top: '7px',\r\n  },\r\n  list: {\r\n    overflowY: 'scroll',\r\n    overflowX: 'hidden',\r\n    paddingTop:0,\r\n    paddingBottom:0,\r\n    background:'white',\r\n    \"& li\":{\r\n      fontSize: 12,\r\n      fontWeight:200,\r\n      color: grey[800],\r\n      paddingTop:2,\r\n      paddingBottom:2,\r\n    },\r\n    \"& li:hover\":{\r\n      background: grey[100]\r\n    },\r\n    \"& li.Mui-selected\":{\r\n      color:'white',\r\n      background: grey[400]\r\n    },\r\n    \"& li.Mui-selected:hover\":{\r\n      background: grey[500]\r\n    }\r\n  }\r\n})\r\n\r\nfunction LangSelect({language, changeHandler}) {\r\n  const classes = useStyles();\r\n\r\n  // moves the menu below the select input\r\n  const menuProps = {\r\n    classes: {\r\n      paper: classes.paper,\r\n      list: classes.list\r\n    },\r\n    anchorOrigin: {\r\n      vertical: \"bottom\",\r\n        horizontal: \"left\"\r\n    },\r\n    transformOrigin: {\r\n      vertical: \"top\",\r\n        horizontal: \"left\"\r\n    },\r\n    getContentAnchorEl: null\r\n  };\r\n\r\n  const handleSelectChange = (event) => {\r\n    changeHandler(event.target.value)\r\n  };\r\n\r\n  const iconComponent = (props) => {\r\n    return (\r\n      <ExpandMoreIcon className={props.className + \" \" + classes.icon}/>\r\n    )};\r\n\r\n  return (\r\n    <FormControl>\r\n      <Select\r\n        disableUnderline\r\n        classes={{ root: classes.select }}\r\n        MenuProps={menuProps}\r\n        IconComponent={iconComponent}\r\n        value={language}\r\n        onChange={(event) => {handleSelectChange(event)}}\r\n        inputProps={{\r\n          'aria-label': 'language'\r\n        }}\r\n      >\r\n        {LangOptions.map(option => {\r\n          return (\r\n            <MenuItem \r\n              dense={true} \r\n              value={option.value}\r\n              key={option.value}\r\n            >\r\n              <Typography>{option.label}</Typography>\r\n            </MenuItem>\r\n          )\r\n        })}\r\n      </Select>\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nfunction LangSelectBar({language, changeHandler}) {\r\n\r\n  const getLangIndex = (value) => {\r\n    const currentLang = LangOptions.find(element => element.value === value);\r\n    const index = LangOptions.indexOf(currentLang);\r\n    return index;\r\n  }\r\n\r\n  const previousLang = () => {\r\n    const newIndex = (getLangIndex(language) - 1 + LangOptions.length) % LangOptions.length;\r\n    changeHandler(LangOptions[newIndex].value);\r\n  }\r\n\r\n  const nextLang = () => {\r\n    const newIndex = (getLangIndex(language) + 1) % LangOptions.length;\r\n    changeHandler(LangOptions[newIndex].value);\r\n  }\r\n\r\n  return (\r\n    <Grid \r\n      container\r\n      spacing={1} \r\n      justify=\"center\" \r\n      alignItems=\"center\"\r\n    >\r\n      <Grid item>\r\n        <IconButton \r\n          size=\"small\" \r\n          color=\"secondary\"\r\n          onClick={()=>{previousLang()}}\r\n        >\r\n          <NavigateBeforeicon />\r\n        </IconButton>\r\n      </Grid>\r\n      <Grid item>\r\n        <LangSelect \r\n          language = {language}\r\n          changeHandler = {changeHandler}\r\n        />\r\n      </Grid>\r\n      <Grid item>\r\n        <IconButton \r\n          size=\"small\" \r\n          color=\"secondary\"\r\n          onClick={()=>{nextLang()}}\r\n        >\r\n          <NavigateNexticon />\r\n        </IconButton>\r\n      </Grid>\r\n    </Grid>\r\n  )\r\n}\r\n\r\nexport default LangSelectBar;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport LangSelectBar from './LangSelect/LangSelect';\r\nimport logo from '../../images/logo.png';\r\n\r\n\r\nconst useStyles = makeStyles({\r\n  logo: {\r\n    width: '2rem',\r\n    height: '2rem',\r\n  },\r\n  toolbar: {\r\n    minHeight: '64px'\r\n  }\r\n})\r\n\r\nexport default function Upper({language, changeHandler}) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className=\"upper-container\">\r\n      <AppBar position=\"static\">\r\n        <Toolbar \r\n          className={classes.toolbar}\r\n          color=\"primary\"\r\n          disableGutters\r\n        >\r\n          <Grid \r\n            container \r\n            spacing={1} \r\n            justify=\"center\" \r\n            alignItems=\"center\"\r\n          >\r\n            <Grid item>\r\n              <img src={logo} alt=\"logo\" className={classes.logo}/>\r\n            </Grid>\r\n            <Grid item>\r\n              <LangSelectBar \r\n                language={language}\r\n                changeHandler={changeHandler}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\nimport Box from '@material-ui/core/Box';\r\nimport Paper from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles({\r\n  warning: {\r\n    fontSize: '.7rem',\r\n    height: 'auto',\r\n    width: '80%',\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    textAlign: 'center',\r\n  },\r\n  hidden: {\r\n    display: 'none',\r\n  }\r\n})\r\n\r\nexport default function IFrameWarning({display}) {\r\nconst classes = useStyles();\r\n\r\n  return (\r\n    <Box className={display ? classes.warning : classes.hidden}>\r\n      <Typography>\r\n        \"Warning: This page contains iframes. Hanzisize may not work properly.\"\r\n      </Typography>\r\n    </Box>\r\n  )\r\n}","import React from 'react';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport Input from '@material-ui/core/Input';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { grey } from '@material-ui/core/colors';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\n// import './InputSlider.css';\r\n\r\nconst useStyles = makeStyles({\r\n  grid: {\r\n    paddingTop: 10,\r\n    paddingBottom: 4,\r\n  },\r\n  slider: {\r\n    marginLeft: 85,\r\n    width: 175,\r\n  },\r\n  input: {\r\n    width: 35,\r\n    color: grey[600],\r\n    fontWeight: 800,\r\n  },\r\n})\r\n\r\nexport default function InputSlider({minFontSize, changeHandler}) {\r\n  const classes = useStyles();\r\n\r\n  const handleSliderChange = (event, newValue) => {\r\n    changeHandler(newValue);\r\n  };\r\n\r\n  const handleInputChange = (event) => {\r\n    changeHandler(event.target.value === '' ? '' : Number(event.target.value));\r\n  };\r\n\r\n  const handleBlur = () => {\r\n    if (minFontSize < 0) {\r\n      changeHandler(0);\r\n    } else if (minFontSize > 99) {\r\n      changeHandler(99);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Grid \r\n      container \r\n      className={classes.grid} \r\n      spacing={2} \r\n      alignItems=\"center\" \r\n      justify=\"center\"\r\n    >\r\n      <Grid item>\r\n        <Slider\r\n          className={classes.slider}\r\n          value={typeof minFontSize === 'number' ? minFontSize : 0}\r\n          max={99}\r\n          onChange={(event, newValue) => {handleSliderChange(event, newValue)}}\r\n          inputProps={{\r\n            'aria-label': 'minimum font size'\r\n          }}\r\n        />\r\n      </Grid>\r\n      <Grid item>\r\n        <Input\r\n          // readOnly={true}\r\n          disableUnderline\r\n          className={classes.input}\r\n          value={minFontSize}\r\n          margin=\"dense\"\r\n          onChange={(event) => {handleInputChange(event)}}\r\n          onBlur={handleBlur}\r\n          inputProps={{\r\n            step: 1,\r\n            min: 0,\r\n            max: 99,\r\n            type: 'number',\r\n            'aria-label': 'minimum font size',\r\n          }}\r\n        />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}","import React from 'react';\r\nimport IFrameWarning from './IFrameWarning/IFrameWarning';\r\n\r\nimport InputSlider from './InputSlider/InputSlider';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Box from '@material-ui/core/Box';\r\nimport HelpOutline from '@material-ui/icons/HelpOutline';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport 'fontsource-roboto';\r\n\r\nconst useStyles = makeStyles({\r\n  lower: {\r\n    position: 'relative',\r\n    paddingBottom: 2,\r\n  },\r\n  help: {\r\n    position: 'absolute',\r\n    bottom: 0,\r\n    left: 0,\r\n  },\r\n})\r\n\r\nexport default function Lower({minFontSize, changeHandler, iFrames}) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className=\"lower-container\">\r\n      <Box className={classes.lower}>\r\n      <InputSlider \r\n        minFontSize={minFontSize}\r\n        changeHandler={changeHandler}\r\n      />\r\n      <Box \r\n        className={classes.help}\r\n      >\r\n        <IconButton size=\"small\" href='https://github.com/rjpeterson/Hanzisize#donate' target=\"_blank\">\r\n          <HelpOutline />\r\n        </IconButton>\r\n      </Box>\r\n      <IFrameWarning \r\n        display={iFrames}\r\n      />\r\n      </Box>\r\n    </div>\r\n  )\r\n}","import { createMuiTheme } from '@material-ui/core/styles';\r\nimport { grey } from '@material-ui/core/colors';\r\nimport { common } from \"@material-ui/core/colors\";\r\n\r\nconst theme = createMuiTheme({\r\n  typography: {\r\n    body1: {\r\n      fontSize: 14,\r\n    }\r\n  },\r\n  palette: {\r\n    primary: {\r\n      main: '#74BED3',\r\n      contrastText: common.white,\r\n    },\r\n    secondary: {\r\n      main: grey[100],\r\n    },\r\n    contrastThreshold: 1,\r\n    tonalOffset: .4,\r\n  }\r\n})\r\n\r\nexport default theme;","import React from 'react';\r\nimport Container from '@material-ui/core/Container';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles, ThemeProvider } from '@material-ui/core/styles';\r\nimport theme from './theme';\r\nimport 'fontsource-roboto';\r\n\r\nconst useStyles = makeStyles({\r\n  container: {\r\n    width: 340,\r\n    backgroundColor: theme.palette.primary.main,\r\n    overflow: 'hidden',\r\n    flexDirection: 'row',\r\n    paddingTop: 6,\r\n    paddingBottom: 6,\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n  },\r\n  errorMessage: {\r\n    backgroundColor: theme.palette.secondary.main,\r\n    maxWidth: '80%',\r\n    textAlign: 'center',\r\n  },\r\n})\r\n\r\nexport default function ErrorMessage({errorMessage}) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <Container\r\n        className={classes.container}\r\n        fixed\r\n      >\r\n        <Paper \r\n          elevation={3}\r\n          className={classes.errorMessage}\r\n        >\r\n          <Typography>\r\n            {errorMessage}\r\n          </Typography>\r\n        </Paper>\r\n      </Container>\r\n    </ThemeProvider>\r\n  )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport tools from '../logic/chromeTools';\r\nimport onAppMount from '../logic/onAppMount';\r\nimport Upper from './Upper/Upper';\r\nimport Lower from './Lower/Lower';\r\nimport ErrorMessage from './ErrorMessage';\r\nimport testingTools from '../utils/testingTools';\r\n\r\n\r\nimport { makeStyles, ThemeProvider } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport theme from './theme';\r\nimport 'fontsource-roboto';\r\n\r\ntestingTools.setupTestEnv();\r\n\r\nconst useStyles = makeStyles({\r\n  container: {\r\n    width: 340,\r\n    backgroundColor: theme.palette.secondary.main,\r\n    overflow: 'hidden',\r\n    flexDirection: 'row',\r\n  }\r\n})\r\n\r\nfunction App() {\r\n  const classes = useStyles();\r\n\r\n  const [minFontSize, setMinFontSize] = useState(0);\r\n  const [language, setLanguage] = useState('chinese');\r\n  const [tabId, setTabId] = useState(null);\r\n  const [ready, setReady] = useState(false);\r\n  const [iFrames, setiFrames] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n\r\n    const fetchStoredData = async () => {\r\n      const result = await tools.getFromStorage();\r\n      testingTools.devLog(`app.useEffect fetched stored data: ${JSON.stringify(result)}`);\r\n      return result;\r\n    }\r\n\r\n    const fetchTabInfo = async () => {\r\n      const result = await onAppMount.main()\r\n      testingTools.devLog(`app.useEffect fetched tab info: ${JSON.stringify(result)}`);\r\n      return result;\r\n    }\r\n    \r\n    const checkTabValidity = (tabInfo) => {\r\n      let newErrorMessage;\r\n      if (!tabInfo.validBrowser || tabInfo.invalidUrl) {\r\n        newErrorMessage = tabInfo.invalidUrl || 'user browser unknown. unable to check for valid urls';\r\n        setErrorMessage(newErrorMessage);\r\n        return false\r\n      } else {\r\n        return true\r\n      }\r\n    }\r\n\r\n    const createContentObj = (storedData) => {\r\n      const contentObj = {\r\n        'language': storedData.language,\r\n        'newMinFontSize': storedData.minFontSize,\r\n        'mode': 'initial',\r\n      };\r\n      testingTools.devLog(`creating content object: ${JSON.stringify(contentObj)}`)\r\n      return contentObj;\r\n    }\r\n\r\n    const handleInfo = (tabInfo, storedData) => {\r\n      const contentObj = createContentObj(storedData);\r\n      const validTab = checkTabValidity(tabInfo);\r\n\r\n      if(!validTab) {return}\r\n\r\n      testingTools.devLog(`useEffect sending content obj: ${JSON.stringify(contentObj)}`)\r\n\r\n      tools.sendToContent(tabInfo.tabId, contentObj, (injectionErr, response) => {\r\n          setErrorMessage(injectionErr);\r\n          setTabId(tabInfo.tabId);\r\n          setReady(true);\r\n          setiFrames(response.multipleFrames);\r\n      })\r\n    }\r\n\r\n    const main = async () => {\r\n      const storedData = await fetchStoredData();\r\n      const tabInfo = await fetchTabInfo();\r\n\r\n      handleInfo(tabInfo, storedData);\r\n      setMinFontSize(storedData.minFontSize);\r\n      setLanguage(storedData.language);\r\n    }\r\n\r\n    main();\r\n  }, [])\r\n  \r\n  // fire resizing when user selects a new language from dropdown\r\n  const handleLangChange = (newLanguage) => {\r\n    // const newLanguage = newLanguageObj.value;\r\n    // first store new language\r\n    try{tools.pushLangToStorage(newLanguage)}\r\n    catch(err) {console.log(`app.handleLangChange Could not push to storage: ${err}`)}\r\n\r\n    const contentObj = {\r\n      'language' : newLanguage,\r\n      'newMinFontSize': minFontSize,\r\n      'mode': 'lang-change'\r\n    };\r\n    testingTools.devLog(`handleLangChange sending content obj: ${JSON.stringify(contentObj)}`)\r\n    // then send to content script\r\n    try{tools.sendToContent(tabId, contentObj)}\r\n    catch(err) {console.log(`app.handleLangChange Could not send to content script: ${err} tabId: ${tabId} contentObj: ${JSON.stringify(contentObj)}`)}\r\n\r\n    // finally update state\r\n    setLanguage(newLanguage)\r\n  }\r\n\r\n  // fire resizing when user inputs a new minimum font size\r\n  const handleFSChange = (newMinFontSize) => {\r\n    // first store new minfontsize\r\n    try{tools.pushFSToStorage(newMinFontSize)}\r\n    catch(err) {console.log(`app.handleFSChange Could not push to storage: ${err}`)}\r\n\r\n    const contentObj = {\r\n      'language' : language,\r\n      'newMinFontSize': newMinFontSize,\r\n      'mode': 'fontsize-change'\r\n    };\r\n    testingTools.devLog(`handleFSChange sending content obj: ${JSON.stringify(contentObj)}`)\r\n    // then send to content script\r\n    try{tools.sendToContent(tabId, contentObj)}\r\n    catch(err) {console.log(`app.handleLangChange Could not send to content script: ${err} tabId: ${tabId} contentObj: ${JSON.stringify(contentObj)}`)}\r\n\r\n    // finally update state\r\n    setMinFontSize(newMinFontSize)\r\n  }\r\n\r\n  // display any error messages recieved\r\n  if(errorMessage) {\r\n    testingTools.devLog('display error message')\r\n    return (<ErrorMessage errorMessage={errorMessage} />)\r\n  }   \r\n  // display active interface\r\n  else {\r\n    testingTools.devLog('display active interface')\r\n    return (\r\n      <ThemeProvider theme={theme}>\r\n        <Container \r\n          className={classes.container} \r\n          disableGutters \r\n          fixed={true} \r\n          maxWidth=\"xs\"\r\n        >\r\n          <div className=\"App\">\r\n            <Upper \r\n              language={language}\r\n              changeHandler={handleLangChange}\r\n            />\r\n            <Lower \r\n              minFontSize={minFontSize}\r\n              changeHandler={handleFSChange}\r\n              iFrames={iFrames}\r\n            />\r\n          </div>\r\n        </Container>\r\n      </ThemeProvider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","// import 'react-devtools'\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}
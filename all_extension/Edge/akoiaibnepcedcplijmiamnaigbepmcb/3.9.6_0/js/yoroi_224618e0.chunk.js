(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{100:function(e,t,r){"use strict";r.d(t,"a",(function(){return g})),r.d(t,"b",(function(){return d}));var o=r(273),s=r.n(o),n=r(56),a=r.n(n),i=r(1),l=r.n(i),c=r(361);class g{constructor(e){var t;l()(this,"selected",void 0),l()(this,"backup",void 0),l()(this,"getOrDefault",e=>{const t=this.selected.Endpoints[e];if(null!=t)return{name:this.selected.Name,baseUrl:t};const r=this.backup.Endpoints[e];return null!=r?{name:this.backup.Name,baseUrl:r}:void 0}),this.selected=null!==(t=e.selected)&&void 0!==t?t:e.backup,this.backup=e.backup}}function d(){const e=new a.a;for(const[t,r]of s()(c.a).call(c.a))e.set(t,new g({backup:r}));return e}},102:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return l}));var o=r(58),s=r.n(o),n=r(1),a=r.n(n);const i={STAKE_DELEGATED:0,STAKE_UNDELEGATED:1,STAKE_REDELEGATED:2,FEE_CHANGED:3,COST_CHANGED:4,REWARD_RECEIVED:5,POOL_TO_RETIRE:6,NO_REWARDS_FOR_UNDELEGATION:7};class l{constructor(e){a()(this,"id",void 0),a()(this,"kind",void 0),a()(this,"date",void 0),a()(this,"poolTicker","EMG1"),a()(this,"oldPoolTicker","EMG2"),a()(this,"oldFee",.017),a()(this,"newFee",.02),a()(this,"oldCost",4.67),a()(this,"newCost",8.08),a()(this,"rewardAmount",20.082),a()(this,"epochNumber",199),s()(this,e)}}},109:function(e,t,r){"use strict";r.d(t,"b",(function(){return P})),r.d(t,"a",(function(){return D})),r.d(t,"c",(function(){return A}));var o,s,n,a,i,l,c,g,d,u,p=r(18),h=r.n(p),m=r(58),f=r.n(m),w=r(12),T=r.n(w),b=(r(1),r(4)),E=r.n(b),y=(r(59),r(3)),C=r(29),v=r.n(C),S=r(366),k=r(142),x=r(38);let P=(o=class{constructor(e){T()(this,"txid",s,this),T()(this,"block",n,this),T()(this,"type",a,this),T()(this,"amount",i,this),T()(this,"fee",l,this),T()(this,"date",c,this),T()(this,"addresses",g,this),T()(this,"state",d,this),T()(this,"errorMsg",u,this),f()(this,e)}get uniqueKey(){const e=null==this.block?"undefined":this.block.Hash;return`${this.txid}-${this.state}-${e}`}getAssuranceLevelForMode(e,t){return null==this.block?S.a.LOW:t-this.block.Height<e.low?S.a.LOW:t-this.block.Height<e.medium?S.a.MEDIUM:S.a.HIGH}},s=E()(o.prototype,"txid",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n=E()(o.prototype,"block",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=E()(o.prototype,"type",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=E()(o.prototype,"amount",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=E()(o.prototype,"fee",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=E()(o.prototype,"date",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=E()(o.prototype,"addresses",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{from:[],to:[]}}}),d=E()(o.prototype,"state",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=E()(o.prototype,"errorMsg",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E()(o.prototype,"uniqueKey",[y.computed],h()(o.prototype,"uniqueKey"),o.prototype),o);function D(e,t,r,o,s){const n={total:new x.a([],s),incoming:new x.a([],s),outgoing:new x.a([],s),incomingInSelectedCurrency:new v.a(0),outgoingInSelectedCurrency:new v.a(0)};for(const s of e){if(s.state<0)continue;if(s.getAssuranceLevelForMode(r,t)!==S.a.HIGH){if(n.total.joinAddMutable(s.amount.absCopy()),s.type===k.a.EXPEND){n.outgoing=n.outgoing.joinAddMutable(s.amount.absCopy());const e=o(s.date);null!=e&&(n.outgoingInSelectedCurrency?n.outgoingInSelectedCurrency=n.outgoingInSelectedCurrency.plus(s.amount.getDefault().absoluteValue().multipliedBy(String(e.Price))):n.outgoingInSelectedCurrency=null)}if(s.type===k.a.INCOME){n.incoming=n.incoming.joinAddMutable(s.amount.absCopy());const e=o(s.date);null!=e&&(n.incomingInSelectedCurrency?n.incomingInSelectedCurrency=n.incomingInSelectedCurrency.plus(s.amount.getDefault().absoluteValue().multipliedBy(String(e.Price))):n.incomingInSelectedCurrency=null)}}}return n}const A=e=>{const t=[];for(const r of e.rows){const o=e.addressLookupMap.get(r.AddressId);if(null==o)throw new Error("toAddr address not in map");const s=new x.a([],e.defaultToken);for(const t of e.tokens)t.TokenList.ListId===r.TokenListId&&s.add({identifier:t.Token.Identifier,amount:new v.a(t.TokenList.Amount),networkId:t.Token.NetworkId});t.push({address:o,value:s})}return t}},114:function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var o,s,n,a=r(1),i=r.n(a),l=r(0),c=r.n(l),g=r(9),d=r(67),u=r(5),p=r(7),h=(r(100),r(497));let m=Object(g.a)((n=s=class extends l.Component{render(){const{intl:e}=this.context,t=this.props.selectedExplorer.getOrDefault(this.props.linkType);var r;if(null==t)return null!==(r=this.props.children)&&void 0!==r?r:null;const o=t.name+" "+e.formatMessage(p.a.blockchainExplorer);return(c.a.createElement(h.a,{websiteName:o,url:t.baseUrl+this.props.hash,light:this.props.light,onExternalLinkClick:d.c,tooltipOpensUpward:this.props.tooltipOpensUpward},this.props.children))}},i()(s,"defaultProps",{tooltipOpensUpward:!1}),i()(s,"contextTypes",{intl:u.f.isRequired}),o=n))||o},1322:function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var o=r(1323),s=r(1324),n=r(1325),a=r(1326),i=r(1327),l=r(1328),c=r(1329);const g=[{symbol:"USD",svg:o.a},{symbol:"JPY",svg:s.a},{symbol:"EUR",svg:n.a},{symbol:"CNY",svg:a.a},{symbol:"KRW",svg:i.a},{symbol:"BTC",svg:l.a},{symbol:"ETH",svg:c.a}]},1341:function(e,t,r){"use strict";r.d(t,"a",(function(){return E}));var o,s,n=r(18),a=r.n(n),i=r(11),l=r.n(i),c=r(4),g=r.n(c),d=r(28),u=r.n(d),p=r(0),h=r.n(p),m=r(9),f=r(3),w=r(1342),T=r(67);let b=Object(m.a)((s=class extends p.Component{render(){return h.a.createElement(w.a,{onClose:this.props.onClose,onExternalLinkClick:T.c,checksumTextPart:this.props.checksumTextPart})}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("DebugWalletDialogContainer no way to generated props");return l()({})}},g()(s.prototype,"generated",[f.computed],a()(s.prototype,"generated"),s.prototype),o=s))||o;function E(e,t,r){return()=>h.a.createElement(b,u()({},r,{checksumTextPart:e,onClose:t}))}},1467:function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));var o,s,n,a,i=r(18),l=r.n(i),c=r(11),g=r.n(c),d=r(1),u=r.n(d),p=r(4),h=r.n(p),m=r(0),f=r.n(m),w=r(3),T=r(9),b=r(5),E=r(47),y=r(233),C=r(234),v=r(126),S=r(1468),k=r(274),x=r(275),P=r(684),D=r(158),A=(r(17),r(50),r(20));const R=Object(b.e)({title:{id:"profile.languageSelect.title",defaultMessage:"!!!Language Select"}});let O=Object(T.a)((a=n=class extends m.Component{constructor(...e){super(...e),u()(this,"onSelectLanguage",e=>{this.generated.actions.profile.updateTentativeLocale.trigger(e)}),u()(this,"onSubmit",async e=>{await this.generated.actions.profile.commitLocaleToStorage.trigger()})}async componentDidMount(){const e=this.generated.stores.profile;if(e.isCurrentLocaleSet){const t=e.currentLocale;this.generated.actions.profile.updateTentativeLocale.trigger({locale:t})}await this.generated.actions.profile.resetLocale.trigger()}renderByron(e){const t=f.a.createElement(y.a,{title:this.context.intl.formatMessage(R.title)}),{selected:r}=this.generated.stores.wallets,o=null!=r&&Object(A.i)(r.getParent().getNetworkInfo()),s=e.stores.profile.isClassicTheme?f.a.createElement(C.a,{title:t}):void 0,n=e.stores.serverConnectionStore.checkAdaServerStatus===D.a.Healthy?f.a.createElement(k.a,{isTestnet:o}):f.a.createElement(x.a,{errorType:e.stores.serverConnectionStore.checkAdaServerStatus});return f.a.createElement(v.a,{topbar:s,languageSelectionBackground:!0,banner:n},f.a.createElement(P.a,{isNightly:E.a.isNightly()}),f.a.createElement(S.a,{onSelectLanguage:this.onSelectLanguage,onSubmit:this.onSubmit,isSubmitting:e.stores.profile.setProfileLocaleRequest.isExecuting,currentLocale:e.stores.profile.currentLocale,languages:e.stores.profile.LANGUAGE_OPTIONS,error:e.stores.profile.setProfileLocaleRequest.error}))}render(){return this.renderByron(this.generated)}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("LanguageSelectionPage no way to generated props");const{stores:e,actions:t}=this.props,r=e.profile;return g()({stores:{wallets:{selected:e.wallets.selected},profile:{LANGUAGE_OPTIONS:r.LANGUAGE_OPTIONS,isCurrentLocaleSet:r.isCurrentLocaleSet,currentLocale:r.currentLocale,isClassicTheme:r.isClassicTheme,setProfileLocaleRequest:{error:r.setProfileLocaleRequest.error,isExecuting:r.setProfileLocaleRequest.isExecuting}},serverConnectionStore:{checkAdaServerStatus:e.serverConnectionStore.checkAdaServerStatus}},actions:{profile:{resetLocale:{trigger:t.profile.resetLocale.trigger},updateTentativeLocale:{trigger:t.profile.updateTentativeLocale.trigger},commitLocaleToStorage:{trigger:t.profile.commitLocaleToStorage.trigger}}}})}},u()(n,"contextTypes",{intl:b.f.isRequired}),s=a,h()(s.prototype,"generated",[w.computed],l()(s.prototype,"generated"),s.prototype),o=s))||o},1470:function(e,t,r){"use strict";r.d(t,"a",(function(){return A}));var o,s,n,a,i=r(18),l=r.n(i),c=r(11),g=r.n(c),d=r(1),u=r.n(d),p=r(4),h=r.n(p),m=r(0),f=r.n(m),w=r(3),T=r(9),b=r(5),E=r(233),y=r(234),C=r(126),v=r(1698),S=r(274),k=r(275),x=r(158),P=(r(17),r(50),r(20));const D=Object(b.e)({title:{id:"profile.termsOfUse.title",defaultMessage:"!!!Terms Of Use"}});let A=Object(T.a)((a=n=class extends m.Component{render(){const{checkAdaServerStatus:e}=this.generated.stores.serverConnectionStore,{selected:t}=this.generated.stores.wallets,r=null!=t&&Object(P.i)(t.getParent().getNetworkInfo()),o=e===x.a.Healthy?f.a.createElement(S.a,{isTestnet:r}):f.a.createElement(k.a,{errorType:e}),s=f.a.createElement(E.a,{title:this.context.intl.formatMessage(D.title)}),n=f.a.createElement(y.a,{title:s});return f.a.createElement(C.a,{topbar:n,banner:o},f.a.createElement(v.a,{localizedTermsOfUse:this.generated.stores.profile.termsOfUse,onSubmit:this.generated.actions.profile.acceptTermsOfUse.trigger,isSubmitting:this.generated.stores.profile.setTermsOfUseAcceptanceRequest.isExecuting,error:this.generated.stores.profile.setTermsOfUseAcceptanceRequest.error}))}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("TermsOfUsePage no way to generated props");const{stores:e,actions:t}=this.props,r=e.profile;return g()({stores:{profile:{setTermsOfUseAcceptanceRequest:{error:r.setTermsOfUseAcceptanceRequest.error,isExecuting:r.setTermsOfUseAcceptanceRequest.isExecuting},termsOfUse:r.termsOfUse},serverConnectionStore:{checkAdaServerStatus:e.serverConnectionStore.checkAdaServerStatus},wallets:{selected:e.wallets.selected}},actions:{profile:{acceptTermsOfUse:{trigger:t.profile.acceptTermsOfUse.trigger}}}})}},u()(n,"contextTypes",{intl:b.f.isRequired}),s=a,h()(s.prototype,"generated",[w.computed],l()(s.prototype,"generated"),s.prototype),o=s))||o},1473:function(e,t,r){"use strict";r.d(t,"a",(function(){return F}));var o,s,n,a,i,l=r(18),c=r.n(l),g=r(11),d=r.n(g),u=r(12),p=r.n(u),h=r(1),m=r.n(h),f=r(4),w=r.n(f),T=(r(59),r(0)),b=r.n(T),E=r(9),y=r(3),C=r(5),v=r(233),S=r(234),k=r(126),x=r(1474),P=r(1477),D=r(1479),A=r(274),R=r(275),O=r(158),I=r(686),M=r(7),N=(r(50),r(20));const W="accept",L="skip";let F=Object(E.a)((i=a=class extends T.Component{constructor(...e){super(...e),p()(this,"selectedChoice",n,this),m()(this,"onAccept",()=>{Object(I.a)(),Object(y.runInAction)(()=>{this.selectedChoice=W})}),m()(this,"onSkip",()=>{Object(y.runInAction)(()=>{this.selectedChoice=L})}),m()(this,"onBack",()=>{Object(y.runInAction)(()=>{this.selectedChoice=null})}),m()(this,"_getContent",()=>{switch(this.selectedChoice){case null:return b.a.createElement(x.a,{onAccept:this.onAccept,onSkip:this.onSkip,classicTheme:this.generated.stores.profile.isClassicTheme});case W:return b.a.createElement(P.a,{onConfirm:this.generated.actions.profile.acceptUriScheme.trigger,onBack:this.onBack,classicTheme:this.generated.stores.profile.isClassicTheme});case L:return b.a.createElement(D.a,{onConfirm:this.generated.actions.profile.acceptUriScheme.trigger,onBack:this.onBack,classicTheme:this.generated.stores.profile.isClassicTheme});default:throw new Error("UriPromptPage::_getContent Should never happen")}})}render(){const{checkAdaServerStatus:e}=this.generated.stores.serverConnectionStore,{selected:t}=this.generated.stores.wallets,r=null!=t&&Object(N.i)(t.getParent().getNetworkInfo()),o=e===O.a.Healthy?b.a.createElement(A.a,{isTestnet:r}):b.a.createElement(R.a,{errorType:e}),s=b.a.createElement(v.a,{title:this.context.intl.formatMessage(M.a.uriSchemeLabel)}),n=b.a.createElement(S.a,{title:s});return b.a.createElement(k.a,{topbar:n,banner:o},this._getContent())}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("UriPromptPage no way to generated props");const{stores:e,actions:t}=this.props,r=e.profile;return d()({stores:{profile:{isClassicTheme:r.isClassicTheme},serverConnectionStore:{checkAdaServerStatus:e.serverConnectionStore.checkAdaServerStatus},wallets:{selected:e.wallets.selected}},actions:{profile:{acceptUriScheme:{trigger:t.profile.acceptUriScheme.trigger}}}})}},m()(a,"contextTypes",{intl:C.f.isRequired}),s=i,n=w()(s.prototype,"selectedChoice",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w()(s.prototype,"generated",[y.computed],c()(s.prototype,"generated"),s.prototype),o=s))||o},1480:function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));var o,s,n,a,i=r(18),l=r.n(i),c=r(11),g=r.n(c),d=r(28),u=r.n(d),p=r(1),h=r.n(p),m=r(4),f=r.n(m),w=r(0),T=r.n(w),b=r(3),E=r(9),y=r(5),C=r(7),v=r(1481),S=r(477),k=r(1699),x=r(175),P=r(67),D=r(126),A=r(232),R=r(349);r(50);let O=Object(E.a)((a=n=class extends w.Component{constructor(...e){super(...e),h()(this,"isActivePage",e=>{const{location:t}=this.generated.stores.router;return!!t&&t.pathname===Object(P.a)(e)})}render(){const{children:e}=this.props,{actions:t,stores:r}=this.generated,{profile:o}=r,s=T.a.createElement(A.a,this.generated.SidebarContainerProps),n=T.a.createElement(k.a,{onItemClick:e=>t.router.goToRoute.trigger({route:e}),isActiveItem:this.isActivePage,currentLocale:o.currentLocale,currentTheme:o.currentTheme}),a=T.a.createElement(S.a,u()({},this.generated.NavBarContainerProps,{title:T.a.createElement(R.a,{title:this.context.intl.formatMessage(C.a.sidebarSettings)})}));return T.a.createElement(D.a,{banner:T.a.createElement(x.a,this.generated.BannerContainerProps),sidebar:s,navbar:a,showInContainer:!0,showAsCard:!0},T.a.createElement(v.a,{menu:n},null!=e?e:null))}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("Settings no way to generated props");const{stores:e,actions:t}=this.props;return g()({stores:{profile:{currentLocale:e.profile.currentLocale,currentTheme:e.profile.currentTheme},router:{location:e.router.location},wallets:{selected:e.wallets.selected}},actions:{router:{goToRoute:{trigger:t.router.goToRoute.trigger}}},SidebarContainerProps:{actions:t,stores:e},NavBarContainerProps:{actions:t,stores:e},BannerContainerProps:{actions:t,stores:e}})}},h()(n,"defaultProps",{children:void 0}),h()(n,"contextTypes",{intl:y.f.isRequired}),s=a,f()(s.prototype,"generated",[b.computed],l()(s.prototype,"generated"),s.prototype),o=s))||o},1493:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var o,s,n=r(18),a=r.n(n),i=r(11),l=r.n(i),c=r(4),g=r.n(c),d=r(0),u=r.n(d),p=r(9),h=r(3),m=r(67),f=r(1494),w=r(1700),T=r(1690);r(17);let b=Object(p.a)((s=class extends d.Component{render(){const e=this.generated.stores.profile,t=e.setProfileLocaleRequest.isExecuting,{currentTheme:r}=e;return u.a.createElement(u.a.Fragment,null,u.a.createElement(f.a,{onSelectLanguage:this.generated.actions.profile.updateLocale.trigger,isSubmitting:t,languages:e.LANGUAGE_OPTIONS,currentLocale:e.currentLocale,error:e.setProfileLocaleRequest.error}),u.a.createElement(w.a,{currentTheme:r,selectTheme:this.generated.actions.profile.updateTheme.trigger,getThemeVars:this.generated.stores.profile.getThemeVars,exportTheme:this.generated.actions.profile.exportTheme.trigger,hasCustomTheme:this.generated.stores.profile.hasCustomTheme,onExternalLinkClick:m.c}),u.a.createElement(T.a,null))}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("GeneralSettingsPage no way to generated props");const{stores:e,actions:t}=this.props,r=e.profile;return l()({stores:{profile:{setProfileLocaleRequest:{isExecuting:r.setProfileLocaleRequest.isExecuting,error:r.setProfileLocaleRequest.error},LANGUAGE_OPTIONS:r.LANGUAGE_OPTIONS,currentLocale:r.currentLocale,currentTheme:r.currentTheme,getThemeVars:r.getThemeVars,hasCustomTheme:r.hasCustomTheme}},actions:{profile:{updateLocale:{trigger:t.profile.updateLocale.trigger},updateTheme:{trigger:t.profile.updateTheme.trigger},exportTheme:{trigger:t.profile.exportTheme.trigger}}}})}},g()(s.prototype,"generated",[h.computed],a()(s.prototype,"generated"),s.prototype),o=s))||o},1508:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var o,s,n=r(18),a=r.n(n),i=r(11),l=r.n(i),c=r(1),g=r.n(c),d=r(4),u=r.n(d),p=r(0),h=r.n(p),m=r(9),f=r(3),w=r(67),T=r(1509);let b=Object(m.a)((s=class extends p.Component{constructor(...e){super(...e),g()(this,"onConnect",e=>{Object(w.b)(e)}),g()(this,"onDisconnect",async()=>{await this.generated.actions.memos.unsetExternalStorageProvider.trigger()})}render(){const{providers:e,selectedProvider:t}=this.generated.stores.memos;return(h.a.createElement(T.a,{onConnect:this.onConnect,onDisconnect:this.onDisconnect,externalStorageProviders:e,selectedExternalStorage:t}))}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("ExternalStorageSettingsPage no way to generated props");const{stores:e,actions:t}=this.props;return l()({stores:{memos:{providers:e.memos.providers,selectedProvider:e.memos.selectedProvider}},actions:{memos:{unsetExternalStorageProvider:{trigger:t.memos.unsetExternalStorageProvider.trigger}}}})}},u()(s.prototype,"generated",[f.computed],a()(s.prototype,"generated"),s.prototype),o=s))||o},1510:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var o,s,n=r(18),a=r.n(n),i=r(11),l=r.n(i),c=r(1),g=r.n(c),d=r(4),u=r.n(d),p=r(0),h=r.n(p),m=r(3),f=r(2798),w=r(9),T=r(661);let b=Object(w.a)((s=class extends p.Component{constructor(...e){super(...e),g()(this,"onLoad",async e=>{await this.generated.actions.memos.updateExternalStorageProvider.trigger({provider:T.a.DROPBOX,token:e})})}async componentDidMount(){const{token:e}=this.props.match.params;await this.onLoad(e)}render(){return h.a.createElement(f.a,{to:"/settings/external-storage"})}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("OAuthDropboxPage no way to generated props");const{actions:e}=this.props;return l()({actions:{memos:{updateExternalStorageProvider:{trigger:e.memos.updateExternalStorageProvider.trigger}}}})}},u()(s.prototype,"generated",[m.computed],a()(s.prototype,"generated"),s.prototype),o=s))||o},1514:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var o,s,n=r(18),a=r.n(n),i=r(11),l=r.n(i),c=r(4),g=r.n(c),d=r(0),u=r.n(d),p=r(3),h=r(9),m=r(1515);let f=Object(h.a)((s=class extends d.Component{get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("TermsOfUseSettingsPage no way to generated props");return l()({stores:{profile:{termsOfUse:this.props.stores.profile.termsOfUse}}})}render(){const{termsOfUse:e}=this.generated.stores.profile;return(u.a.createElement(m.a,{localizedTermsOfUse:e}))}},g()(s.prototype,"generated",[p.computed],a()(s.prototype,"generated"),s.prototype),o=s))||o},1518:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var o,s,n=r(18),a=r.n(n),i=r(11),l=r.n(i),c=r(4),g=r.n(c),d=r(0),u=r.n(d),p=r(9),h=r(3),m=r(678),f=r(1519),w=r(67),T=r(10);r(17);let b=Object(p.a)((s=class extends d.Component{render(){return u.a.createElement(m.a,null,u.a.createElement(f.a,{hasLoadedCurrentLocale:this.generated.stores.profile.hasLoadedCurrentLocale,hasLoadedCurrentTheme:this.generated.stores.profile.hasLoadedCurrentTheme,isLoadingDataForNextScreen:this.generated.stores.loading.isLoading,error:this.generated.stores.loading.error,onExternalLinkClick:this.generated.handleExternalLinkClick,downloadLogs:this.generated.downloadLogs}))}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("LoadingPage no way to generated props");const{stores:e}=this.props,{profile:t,loading:r}=e;return l()({stores:{profile:{hasLoadedCurrentLocale:t.hasLoadedCurrentLocale,hasLoadedCurrentTheme:t.hasLoadedCurrentTheme},loading:{isLoading:r.isLoading,error:r.error}},downloadLogs:T.b,handleExternalLinkClick:w.c})}},g()(s.prototype,"generated",[h.computed],a()(s.prototype,"generated"),s.prototype),o=s))||o},1520:function(e,t,r){"use strict";r.d(t,"a",(function(){return k}));var o,s,n,a,i=r(18),l=r.n(i),c=r(11),g=r.n(c),d=r(1),u=r.n(d),p=r(4),h=r.n(p),m=r(0),f=r.n(m),w=r(3),T=r(9),b=r(5),E=r(233),y=r(234),C=r(126),v=r(1521);const S=Object(b.e)({title:{id:"profile.nightly.title",defaultMessage:"!!!Yoroi Nightly"}});let k=Object(T.a)((a=n=class extends m.Component{constructor(...e){super(...e),u()(this,"acceptNightly",()=>{this.generated.actions.profile.acceptNightly.trigger()})}renderPage(e){const t=f.a.createElement(E.a,{title:this.context.intl.formatMessage(S.title)}),r=f.a.createElement(y.a,{title:t});return f.a.createElement(C.a,{topbar:r,banner:void 0},f.a.createElement(v.a,{onSubmit:this.acceptNightly}))}render(){return this.renderPage(this.generated)}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("NightlyPage no way to generated props");const{actions:e}=this.props;return g()({actions:{profile:{acceptNightly:{trigger:e.profile.acceptNightly.trigger}}}})}},u()(n,"contextTypes",{intl:b.f.isRequired}),s=a,h()(s.prototype,"generated",[w.computed],l()(s.prototype,"generated"),s.prototype),o=s))||o},1523:function(e,t,r){"use strict";r.d(t,"a",(function(){return _}));var o,s,n,a,i=r(18),l=r.n(i),c=r(11),g=r.n(c),d=r(34),u=r.n(d),p=r(8),h=r.n(p),m=r(28),f=r.n(m),w=r(207),T=r.n(w),b=r(68),E=r.n(b),y=r(1),C=r.n(y),v=r(4),S=r.n(v),k=r(0),x=r.n(k),P=r(9),D=r(3),A=r(5),R=r(126),O=r(145),I=r(232),M=r(477),N=r(175),W=r(1691),L=r(1524),F=r(96),j=r(36),q=(r(50),r(423));const B=Object(A.e)({backButton:{id:"wallet.nav.backButton",defaultMessage:"!!!Back to my wallets"}});let _=Object(P.a)((a=n=class extends k.Component{constructor(...e){super(...e),C()(this,"navigateToWallets",e=>{this.generated.actions.router.goToRoute.trigger({route:e})}),C()(this,"getWarning",e=>{const t=this.generated.stores.walletSettings.getWalletWarnings(e).dialogs;if(0!==t.length)return t[t.length-1]()})}componentDidMount(){const e=this.checkRoute();null!=e&&this.generated.actions.router.redirect.trigger({route:e})}checkRoute(){const e=this.generated.stores.wallets.selected;if(null==e)throw new Error("Wallet no public deriver");const t=E()(q.a).call(q.a,e=>{var t;return T()(t=this.generated.stores.app.currentRoute).call(t,e.route)});if(null!=t&&!t.isVisible({selected:e})){const t=E()(q.a).call(q.a,t=>t.isVisible({selected:e}));if(null==t)throw new Error("Selected wallet has no valid category");return t.route}}render(){var e;if(null!=this.checkRoute())return null;const{intl:t}=this.context,{wallets:r}=this.generated.stores,o=x.a.createElement(I.a,this.generated.SidebarContainerProps),s=x.a.createElement(M.a,f()({},this.generated.NavBarContainerProps,{title:x.a.createElement(L.a,{route:j.a.MY_WALLETS,onBackClick:this.navigateToWallets,title:t.formatMessage(B.backButton)})}));if(!r.selected)return x.a.createElement(R.a,{banner:x.a.createElement(N.a,this.generated.BannerContainerProps),navbar:s,showInContainer:!0,showAsCard:!0},x.a.createElement(O.a,null,x.a.createElement(F.a,null)));const n=r.selected,a=this.getWarning(n);return x.a.createElement(R.a,{banner:x.a.createElement(N.a,this.generated.BannerContainerProps),sidebar:o,navbar:s,showInContainer:!0,showAsCard:!0},a,x.a.createElement(W.a,{categories:h()(e=u()(q.a).call(q.a,e=>e.isVisible({selected:n}))).call(e,e=>{var t;return{className:e.className,icon:e.icon,label:e.label,isActive:T()(t=this.generated.stores.app.currentRoute).call(t,e.route),onClick:()=>this.generated.actions.router.goToRoute.trigger({route:e.route})}})},this.props.children))}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("Wallet no way to generated props");const{stores:e,actions:t}=this.props,r=this.props.stores.walletSettings;return g()({stores:{app:{currentRoute:e.app.currentRoute},wallets:{selected:e.wallets.selected},walletSettings:{getWalletWarnings:r.getWalletWarnings}},actions:{router:{goToRoute:{trigger:t.router.goToRoute.trigger},redirect:{trigger:t.router.redirect.trigger}}},SidebarContainerProps:{actions:t,stores:e},NavBarContainerProps:{actions:t,stores:e},BannerContainerProps:{actions:t,stores:e}})}},C()(n,"contextTypes",{intl:A.f.isRequired}),s=a,S()(s.prototype,"generated",[D.computed],l()(s.prototype,"generated"),s.prototype),o=s))||o},1531:function(e,t,r){"use strict";r.d(t,"a",(function(){return U}));var o,s,n,a,i=r(18),l=r.n(i),c=r(11),g=r.n(c),d=r(8),u=r.n(d),p=r(1),h=r.n(p),m=r(4),f=r.n(m),w=r(0),T=r.n(w),b=r(3),E=r(9),y=r(5),C=r(1532),v=r(126),S=r(1533),k=r(1535),x=r(883),P=r(563),D=r(1703),A=r(562),R=r(232),O=r(175),I=r(36),M=r(348),N=r(349),W=r(1537),L=r(26),F=r.n(L),j=r(689),q=r(7),B=(r(77),r(33)),_=(r(50),r(38),r(39));let U=Object(E.a)((a=n=class extends w.Component{constructor(...e){super(...e),h()(this,"updateHideBalance",async()=>{await this.generated.actions.profile.updateHideBalance.trigger()}),h()(this,"handleWalletNavItemClick",e=>{this.generated.actions.router.goToRoute.trigger({route:I.a.WALLETS.ROOT,publicDeriver:e})}),h()(this,"openToSettings",e=>{this.generated.actions.wallets.setActiveWallet.trigger({wallet:e}),this.generated.actions.router.goToRoute.trigger({route:I.a.SETTINGS.WALLET})}),h()(this,"generateRow",e=>{var t;const r=e.getParent(),o=this.generated.stores.walletSettings.getConceptualWalletSettingsCache(r),s=(()=>{const t=e.getParent().getNetworkInfo(),r=this.generated.stores.tokenInfoStore.getDefaultTokenInfo(t.NetworkId),o=Object(_.b)(this.generated.stores.tokenInfoStore.tokenInfo)({identifier:r.Identifier,networkId:t.NetworkId});return T.a.createElement(T.a.Fragment,null,T.a.createElement(P.a,{currency:Object(_.d)(o),tooltipText:void 0}))})(),n=this.generated.stores.transactions.getTxRequests(e),a=null!==(t=n.requests.getBalanceRequest.result)&&void 0!==t?t:null,i=Object(B.g)(e),l=null==i?null:this.generated.stores.wallets.getPublicKeyCache(i).plate;return T.a.createElement(k.a,{isExpandable:!1,key:e.getPublicDeriverId(),onRowClicked:()=>this.handleWalletNavItemClick(e),walletSumDetails:T.a.createElement(x.a,{walletAmount:a,rewards:this.getRewardBalance(e),onUpdateHideBalance:this.updateHideBalance,shouldHideBalance:this.generated.stores.profile.shouldHideBalance,getTokenInfo:Object(_.b)(this.generated.stores.tokenInfoStore.tokenInfo)}),walletSumCurrencies:s,walletSubRow:()=>this.createSubrow(e),walletPlate:T.a.createElement(A.a,{plate:l,wallet:o}),walletSync:T.a.createElement(W.a,{time:n.lastSyncInfo.Time?F()(n.lastSyncInfo.Time).fromNow():null}),onSettings:()=>this.openToSettings(e)})}),h()(this,"createSubrow",e=>{const{intl:t}=this.context,r=e.getParent().getNetworkInfo(),o=this.generated.stores.tokenInfoStore.getDefaultTokenInfo(r.NetworkId),s=Object(_.b)(this.generated.stores.tokenInfoStore.tokenInfo)({identifier:o.Identifier,networkId:r.NetworkId}),n=["Ae45dPwUPEZMen5UdmKCeiNqCooMVBpDQbmhM1dtFSFigvbvDTZdF4nbdf4u3","Ae2tdPwUPEZMen5UdmKCeiNqCooMVBpDQbmhM1dtFSFigvbvDTZdF4nmt4s7"],a=n.length,i=e.getParent(),l=this.generated.stores.walletSettings.getConceptualWalletSettingsCache(i),c=Object(B.g)(e),g=null==c?null:this.generated.stores.wallets.getPublicKeyCache(c).plate;return T.a.createElement(D.a,{walletInfo:{conceptualWalletName:l.conceptualWalletName,plate:g},walletDetails:T.a.createElement(x.a,{infoText:`${a} ${t.formatMessage(a>1?q.a.addressesLabel:q.a.addressLabel)}`,onUpdateHideBalance:this.updateHideBalance,shouldHideBalance:this.generated.stores.profile.shouldHideBalance,rewards:null,walletAmount:null,getTokenInfo:Object(_.b)(this.generated.stores.tokenInfoStore.tokenInfo)}),walletNumber:1,walletAddresses:n,walletCurrencies:T.a.createElement(P.a,{currency:Object(_.d)(s),tooltipText:"0.060"})})}),h()(this,"getRewardBalance",e=>{const t=this.generated.stores.delegation.getDelegationRequests(e);if(null==t)return;const r=t.getDelegatedBalance.result;return null==r?null:r.accountPart})}componentDidMount(){this.generated.actions.wallets.unselectWallet.trigger()}render(){const e=T.a.createElement(R.a,this.generated.SidebarContainerProps),t=this.generated.stores.wallets.publicDerivers,r=T.a.createElement(N.a,{title:this.context.intl.formatMessage(q.a.sidebarWallets)}),o=T.a.createElement(M.a,{title:r,button:T.a.createElement(j.a,{onClick:()=>this.generated.actions.router.goToRoute.trigger({route:I.a.WALLETS.ADD})}),walletDetails:void 0}),s=T.a.createElement(S.a,null,u()(t).call(t,e=>this.generateRow(e)));return T.a.createElement(v.a,{banner:T.a.createElement(O.a,this.generated.BannerContainerProps),sidebar:e,navbar:o,showInContainer:!0},T.a.createElement(C.a,null,s))}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("MyWalletsPage no way to generated props");const{stores:e,actions:t}=this.props;return g()({stores:{profile:{shouldHideBalance:e.profile.shouldHideBalance},wallets:{publicDerivers:e.wallets.publicDerivers,getPublicKeyCache:e.wallets.getPublicKeyCache},tokenInfoStore:{tokenInfo:e.tokenInfoStore.tokenInfo,getDefaultTokenInfo:e.tokenInfoStore.getDefaultTokenInfo},transactions:{getTxRequests:e.transactions.getTxRequests},walletSettings:{getConceptualWalletSettingsCache:e.walletSettings.getConceptualWalletSettingsCache},delegation:{getDelegationRequests:e.delegation.getDelegationRequests}},actions:{profile:{updateHideBalance:{trigger:t.profile.updateHideBalance.trigger}},router:{goToRoute:{trigger:t.router.goToRoute.trigger}},wallets:{unselectWallet:{trigger:t.wallets.unselectWallet.trigger},setActiveWallet:{trigger:t.wallets.setActiveWallet.trigger}}},SidebarContainerProps:{actions:t,stores:e},BannerContainerProps:{actions:t,stores:e}})}},h()(n,"contextTypes",{intl:y.f.isRequired}),s=a,f()(s.prototype,"generated",[b.computed],l()(s.prototype,"generated"),s.prototype),o=s))||o},1538:function(e,t,r){"use strict";r.d(t,"a",(function(){return J}));var o,s,n,a,i,l=r(18),c=r.n(l),g=r(11),d=r.n(g),u=r(28),p=r.n(u),h=r(31),m=r.n(h),f=r(56),w=r.n(f),T=r(123),b=r.n(T),E=r(12),y=r.n(E),C=r(1),v=r.n(C),S=r(4),k=r.n(S),x=(r(59),r(0)),P=r.n(x),D=r(9),A=r(3),R=r(5),O=r(36),I=r(1539),M=r(41),N=r(96),W=r(7),L=r(1540),F=r(1692),j=r(1542),q=r(1545),B=r(364),_=r(726),U=r(727),H=r(728),z=r(729),V=r(312),K=r(10),G=(r(50),r(52)),Y=(r(109),r(17),r(100),r(85)),$=r(60),X=r(39);const Q=[W.a.walletCreatedNotificationMessage.id,W.a.walletRestoredNotificationMessage.id,W.a.integratedNotificationMessage.id];let J=Object(D.a)((i=a=class extends x.Component{constructor(...e){super(...e),y()(this,"notificationElementId",n,this),v()(this,"_getThisPageActiveNotification",()=>{let e=null;const{mostRecentActiveNotification:t}=this.generated.stores.uiNotifications,r=t?t.id:"";return b()(Q).call(Q,r)&&(e=t),e}),v()(this,"openExportTransactionDialog",()=>{const{actions:e}=this.generated;e.dialogs.push.trigger({dialog:_.a})}),v()(this,"showMemoDialog",e=>{if(this.generated.stores.memos.hasSetSelectedExternalStorageProvider)return e.continuation();this.generated.actions.dialogs.push.trigger({dialog:e.dialog,params:{continuation:e.continuation}})}),v()(this,"openDeleteMemoDialog",()=>{const{actions:e}=this.generated;e.dialogs.push.trigger({dialog:z.a})}),v()(this,"readyToExportHistory",e=>{if(null==e.delegationRequests)return!0;return null!==e.delegationRequests.rewardHistory.result})}render(){const{intl:e}=this.context,t=this.generated.actions,{wallets:r}=this.generated.stores,{hasAny:o,totalAvailable:s,recent:n,searchOptions:a,recentTransactionsRequest:i,lastSyncInfo:l,unconfirmedAmount:c,isExporting:g,exportError:d}=this.generated.stores.transactions,u=r.selected;let h=null;if(null==u)return K.a.error("[WalletSummaryPage::render] Active wallet required"),null;const{exportTransactionsToFile:f,closeExportTransactionDialog:T}=t.transactions,b=!i.wasExecuted||i.isExecuting,E=this.generated.stores.memos.getIdForWallet(u),{uiDialogs:y,profile:C,memos:v,uiNotifications:S}=this.generated.stores,k={duration:G.a.wallets.ADDRESS_COPY_TOOLTIP_NOTIFICATION_DURATION,message:W.a.copyTooltipMessage},x=(e,r)=>{S.isOpen(r)||(Object(A.runInAction)(()=>{this.notificationElementId=r}),t.notifications.open.trigger({id:r,duration:k.duration,message:k.message}))},D=S.getTooltipActiveNotification(this.notificationElementId);if(a){const{limit:r}=a,c=e.formatMessage(W.a.noTransactionsFound);if(!i.wasExecuted||o){var Q;const{assuranceMode:o}=this.generated.stores.walletSettings.getPublicDeriverSettingsCache(u);h=P.a.createElement(F.a,{transactions:n,lastSyncBlock:l.Height,memoMap:this.generated.stores.memos.txMemoMap.get(E)||new w.a,selectedExplorer:null!==(Q=this.generated.stores.explorers.selectedExplorer.get(u.getParent().getNetworkInfo().NetworkId))&&void 0!==Q?Q:(()=>{throw new Error("No explorer for wallet network")})(),isLoadingTransactions:b,hasMoreToLoad:s>r,onLoadMore:()=>t.transactions.loadMoreTransactions.trigger(u),assuranceMode:o,shouldHideBalance:C.shouldHideBalance,onAddMemo:e=>this.showMemoDialog({dialog:V.a,continuation:()=>{t.memos.selectTransaction.trigger({tx:e}),t.dialogs.push.trigger({dialog:U.a})}}),onEditMemo:e=>this.showMemoDialog({dialog:V.a,continuation:()=>{t.memos.selectTransaction.trigger({tx:e}),t.dialogs.push.trigger({dialog:H.a})}}),unitOfAccountSetting:C.unitOfAccount,getCurrentPrice:this.generated.stores.coinPriceStore.getCurrentPrice,getTokenInfo:Object(X.b)(this.generated.stores.tokenInfoStore.tokenInfo),addressLookup:Object(Y.e)(u,e,e=>this.generated.actions.router.goToRoute.trigger({route:e}),this.generated.stores.addresses.addressSubgroupMap),onCopyAddressTooltip:x,notification:D,addressToDisplayString:e=>Object($.a)(e,u.getParent().getNetworkInfo())})}else h=P.a.createElement(q.a,{label:c,classicTheme:C.isClassicTheme})}const J=this._getThisPageActiveNotification();let Z;const ee=this.generated.stores.delegation.getDelegationRequests(u);return Z=this.readyToExportHistory({delegationRequests:ee,publicDeriver:u})?P.a.createElement(_.a,{isActionProcessing:g,error:d,submit:e=>f.trigger({exportRequest:e,publicDeriver:u}),cancel:T.trigger}):P.a.createElement(M.a,{title:e.formatMessage(W.a.processingLabel),closeOnOverlayClick:!1},P.a.createElement(B.a,null,P.a.createElement(N.a,null))),P.a.createElement(B.a,null,P.a.createElement(I.a,{icon:L.a,show:!!J},!!J&&P.a.createElement(R.a,p()({},J.message,{values:null==m()(J)?void 0:m()(J).call(J,e)}))),P.a.createElement(j.a,{numberOfTransactions:s,pendingAmount:c,shouldHideBalance:C.shouldHideBalance,isLoadingTransactions:!i.wasExecuted,openExportTxToFileDialog:this.openExportTransactionDialog,unitOfAccountSetting:C.unitOfAccount,getTokenInfo:Object(X.b)(this.generated.stores.tokenInfoStore.tokenInfo)}),h,y.isOpen(_.a)?Z:null,y.isOpen(U.a)?P.a.createElement(U.a,{selectedWallet:u,selectedTransaction:(()=>{if(null==v.selectedTransaction)throw new Error("no selected transaction. Should never happen");return v.selectedTransaction})(),error:v.error,onCancel:t.memos.closeMemoDialog.trigger,onSubmit:e=>t.memos.saveTxMemo.trigger(e),classicTheme:C.isClassicTheme}):null,y.isOpen(V.a)?P.a.createElement(V.a,{onCancel:t.memos.closeMemoDialog.trigger,addExternal:()=>{t.memos.closeMemoDialog.trigger(),t.router.goToRoute.trigger({route:O.a.SETTINGS.EXTERNAL_STORAGE})},onAcknowledge:()=>{this.generated.stores.uiDialogs.getParam("continuation")()}}):null,y.isOpen(H.a)?P.a.createElement(H.a,{selectedWallet:u,existingMemo:(()=>{var e;if(null==v.selectedTransaction)throw new Error("no selected transaction. Should never happen");const t=v.selectedTransaction.txid,r=null===(e=this.generated.stores.memos.txMemoMap.get(E))||void 0===e?void 0:e.get(t);if(null==r)throw new Error("Should never happen");return r})(),error:v.error,onCancel:t.memos.closeMemoDialog.trigger,onClickDelete:this.openDeleteMemoDialog,onSubmit:e=>t.memos.updateTxMemo.trigger(e),classicTheme:C.isClassicTheme}):null,y.isOpen(z.a)?P.a.createElement(z.a,{selectedTransaction:(()=>{if(null==v.selectedTransaction)throw new Error("no selected transaction. Should never happen");return v.selectedTransaction})(),error:v.error,onCancel:()=>{t.memos.closeMemoDialog.trigger()},onClose:t.memos.closeMemoDialog.trigger,onDelete:e=>t.memos.deleteTxMemo.trigger({publicDeriver:u,txHash:e})}):null)}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("WalletSummaryPage no way to generated props");const{stores:e,actions:t}=this.props;return d()({stores:{explorers:{selectedExplorer:e.explorers.selectedExplorer},profile:{shouldHideBalance:e.profile.shouldHideBalance,isClassicTheme:e.profile.isClassicTheme,unitOfAccount:e.profile.unitOfAccount},uiDialogs:{isOpen:e.uiDialogs.isOpen,getParam:e.uiDialogs.getParam},uiNotifications:{mostRecentActiveNotification:e.uiNotifications.mostRecentActiveNotification,isOpen:e.uiNotifications.isOpen,getTooltipActiveNotification:e.uiNotifications.getTooltipActiveNotification},wallets:{selected:e.wallets.selected},tokenInfoStore:{tokenInfo:e.tokenInfoStore.tokenInfo},coinPriceStore:{getCurrentPrice:e.coinPriceStore.getCurrentPrice},memos:{hasSetSelectedExternalStorageProvider:e.memos.hasSetSelectedExternalStorageProvider,selectedTransaction:e.memos.selectedTransaction,error:e.memos.error,getIdForWallet:e.memos.getIdForWallet,txMemoMap:e.memos.txMemoMap},transactions:{hasAny:e.transactions.hasAny,totalAvailable:e.transactions.totalAvailable,recent:e.transactions.recent,searchOptions:e.transactions.searchOptions,recentTransactionsRequest:{isExecuting:e.transactions.recentTransactionsRequest.isExecuting,wasExecuted:e.transactions.recentTransactionsRequest.wasExecuted},lastSyncInfo:e.transactions.lastSyncInfo,unconfirmedAmount:e.transactions.unconfirmedAmount,isExporting:e.transactions.isExporting,exportError:e.transactions.exportError},addresses:{addressSubgroupMap:e.addresses.addressSubgroupMap},walletSettings:{getPublicDeriverSettingsCache:e.walletSettings.getPublicDeriverSettingsCache},delegation:{getDelegationRequests:e.delegation.getDelegationRequests}},actions:{notifications:{open:{trigger:t.notifications.open.trigger}},dialogs:{push:{trigger:t.dialogs.push.trigger}},router:{goToRoute:{trigger:t.router.goToRoute.trigger}},memos:{closeMemoDialog:{trigger:t.memos.closeMemoDialog.trigger},saveTxMemo:{trigger:t.memos.saveTxMemo.trigger},updateTxMemo:{trigger:t.memos.updateTxMemo.trigger},deleteTxMemo:{trigger:t.memos.deleteTxMemo.trigger},selectTransaction:{trigger:t.memos.selectTransaction.trigger}},transactions:{exportTransactionsToFile:{trigger:t.transactions.exportTransactionsToFile.trigger},closeExportTransactionDialog:{trigger:t.transactions.closeExportTransactionDialog.trigger},loadMoreTransactions:{trigger:t.transactions.loadMoreTransactions.trigger}}}})}},v()(a,"contextTypes",{intl:R.f.isRequired}),s=i,n=k()(s.prototype,"notificationElementId",[A.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),k()(s.prototype,"generated",[A.computed],c()(s.prototype,"generated"),s.prototype),o=s))||o},1548:function(e,t,r){"use strict";r.d(t,"a",(function(){return oe}));var o,s,n,a,i,l=r(18),c=r.n(l),g=r(11),d=r.n(g),u=r(28),p=r.n(u),h=r(92),m=r.n(h),f=r(458),w=r.n(f),T=r(207),b=r.n(T),E=r(12),y=r.n(E),C=r(1),v=r.n(C),S=r(4),k=r.n(S),x=(r(59),r(0)),P=r.n(x),D=r(9),A=r(3),R=r(29),O=r.n(R),I=r(5),M=r(52),N=r(1549),W=r(885),L=r(1553),F=r(1554),j=r(1555),q=r(364),B=r(730),_=r(731),U=r(732),H=r(145),z=r(96),V=(r(50),r(41)),K=r(7),G=r(187),Y=r(368),$=r(57),X=(r(17),r(100),r(73)),Q=r(10),J=r(85),Z=r(20),ee=r(67),te=r(39),re=r(49);let oe=Object(D.a)((i=a=class extends x.Component{constructor(...e){super(...e),y()(this,"notificationElementId",n,this),v()(this,"handleGenerateAddress",async()=>{const e=this.generated.stores.wallets.selected;null!=e&&(this.generated.actions.dialogs.open.trigger({dialog:z.a}),await this.generated.actions.addresses.createAddress.trigger(e),this.generated.actions.dialogs.closeActiveDialog.trigger())}),v()(this,"resetErrors",()=>{this.generated.actions.addresses.resetErrors.trigger()}),v()(this,"closeNotification",()=>{const e=this.generated.stores.wallets.selected;if(e){const t=`${e.getPublicDeriverId()}-copyNotification`;this.generated.actions.notifications.closeActiveNotification.trigger({id:t})}}),v()(this,"getTypeStore",e=>{for(const r of J.c){var t;if(r.isRelated({selected:e})&&b()(t=this.generated.stores.app.currentRoute).call(t,Object(J.g)(r.name))){const e=this.generated.stores.addresses.addressSubgroupMap.get(r.class);if(null==e)throw new Error("Should never happen");return{request:e,meta:r}}}Q.a.error("WalletReceivePage unexpected address tab")}),v()(this,"openVerifyAddressDialog",()=>{const{actions:e}=this.generated;e.dialogs.open.trigger({dialog:B.a})}),v()(this,"openURIGenerateDialog",(e,t)=>{const{actions:r}=this.generated;r.dialogs.open.trigger({dialog:_.a,params:{address:e,amount:t}})}),v()(this,"generateURI",(e,t)=>{const{actions:r}=this.generated;r.dialogs.open.trigger({dialog:U.a,params:{address:e,amount:t}})})}componentWillUnmount(){this.closeNotification(),this.resetErrors(),this.generated.actions.addresses.resetFilter.trigger()}render(){var e,t,r;const{intl:o}=this.context,s=this.generated.actions,{uiNotifications:n,uiDialogs:a,profile:i}=this.generated.stores,{hwVerifyAddress:l}=this.generated.stores.substores.ada,c=this.generated.stores.wallets.selected;if(!c)throw new Error("Active wallet required for WalletReceivePage.");this.generated.stores.tokenInfoStore.tokenInfo.get;const g=this.getTypeStore(c);if(null==g||!g.request.wasExecuted)return P.a.createElement(H.a,null,P.a.createElement(z.a,null));const d=g.request.all[g.request.all.length-1],u=null!=d?d.address:"",h=null!=d&&!0===d.isUsed,f={duration:M.a.wallets.ADDRESS_COPY_TOOLTIP_NOTIFICATION_DURATION,message:K.a.copyTooltipMessage},T=c.getParent().getWalletType()===G.a.HARDWARE_WALLET,b=(e,t)=>{n.isOpen(t)||(Object(A.runInAction)(()=>{this.notificationElementId=t}),s.notifications.open.trigger({id:t,duration:f.duration,message:f.message}))},E=n.getTooltipActiveNotification(this.notificationElementId),y=null!==(e=this.generated.stores.explorers.selectedExplorer.get(c.getParent().getNetworkInfo().NetworkId))&&void 0!==e?e:(()=>{throw new Error("No explorer for wallet network")})(),C=c.getParent().getDefaultToken(),v=Object(te.b)(this.generated.stores.tokenInfoStore.tokenInfo)({identifier:C.defaultIdentifier,networkId:C.defaultNetworkId}),S=(()=>{if(g.meta.name.subgroup===$.c.external)return P.a.createElement(W.a,{walletAddress:u,selectedExplorer:y,isWalletAddressUsed:h,onGenerateAddress:this.handleGenerateAddress,onCopyAddressTooltip:b,notification:E,isSubmitting:this.generated.stores.addresses.createAddressRequest.isExecuting,error:this.generated.stores.addresses.error,isFilterActive:this.generated.stores.addresses.addressFilter!==$.a.None});if(g.meta.name.subgroup===$.c.internal)return P.a.createElement(L.a,{onExternalLinkClick:ee.c});if(g.meta.name.group===$.b.reward)return P.a.createElement(F.a,{ticker:Object(re.i)(Object(te.d)(v))});if(g.meta.name.subgroup===$.c.mangled)return P.a.createElement(j.a,{hasMangledUtxo:this.generated.canUnmangle,onClick:()=>this.generated.actions.dialogs.open.trigger({dialog:Y.a}),ticker:Object(re.i)(Object(te.d)(v))});if(g.meta.name.group===$.b.addressBook)return null;if(g.meta.name.subgroup===$.c.all)return P.a.createElement(W.a,{walletAddress:u,selectedExplorer:y,isWalletAddressUsed:h,onGenerateAddress:this.handleGenerateAddress,onCopyAddressTooltip:b,notification:E,isSubmitting:this.generated.stores.addresses.createAddressRequest.isExecuting,error:this.generated.stores.addresses.error,isFilterActive:this.generated.stores.addresses.addressFilter!==$.a.None});throw new Error("WalletReceivePage unexpected address tab")})();return P.a.createElement(q.a,null,P.a.createElement(N.a,{hierarchy:{path:g.meta.name.subgroup===$.c.all?[o.formatMessage($.e[g.meta.name.group])]:[o.formatMessage($.e[g.meta.name.group]),o.formatMessage($.g[g.meta.name.subgroup])],filter:this.generated.stores.addresses.addressFilter},header:S,getTokenInfo:Object(te.b)(this.generated.stores.tokenInfoStore.tokenInfo),selectedExplorer:y,walletAddresses:w()(t=m()(r=Object(J.d)({addressFilter:this.generated.stores.addresses.addressFilter,addresses:g.request.all})).call(r)).call(t),onCopyAddressTooltip:b,notification:E,onVerifyAddress:async e=>{await s.ada.hwVerifyAddress.selectAddress.trigger(e),this.openVerifyAddressDialog()},onGeneratePaymentURI:!Object(Z.f)(c.getParent().getNetworkInfo())||g.meta.name.group===$.b.reward||g.meta.name.subgroup!==$.c.external&&g.meta.name.subgroup!==$.c.all?void 0:e=>{this.openURIGenerateDialog(e)},shouldHideBalance:i.shouldHideBalance,unitOfAccountSetting:i.unitOfAccount,addressBook:g.meta.name.group===$.b.addressBook}),a.isOpen(z.a)?P.a.createElement(V.a,{title:o.formatMessage(K.a.processingLabel),closeOnOverlayClick:!1},P.a.createElement(q.a,null,P.a.createElement(z.a,null))):null,a.isOpen(_.a)?P.a.createElement(_.a,{walletAddress:a.getParam("address"),amount:a.getParam("amount"),onClose:()=>s.dialogs.closeActiveDialog.trigger(),onGenerate:(e,t)=>{this.generateURI(e,t)},classicTheme:i.isClassicTheme,tokenInfo:v,validateAmount:(e,t)=>Object(X.j)(e,t,new O.a(0),this.context.intl)}):null,a.isOpen(U.a)?P.a.createElement(U.a,{address:a.getParam("address"),amount:a.getParam("amount"),onClose:s.dialogs.closeActiveDialog.trigger,onBack:()=>this.openURIGenerateDialog(a.getParam("address"),a.getParam("amount")),onCopyAddressTooltip:e=>{n.isOpen(e)||(Object(A.runInAction)(()=>{this.notificationElementId=e}),s.notifications.open.trigger({id:e,duration:f.duration,message:f.message}))},notification:n.getTooltipActiveNotification(this.notificationElementId)}):null,a.isOpen(Y.a)&&P.a.createElement(Y.a,p()({},this.generated.UnmangleTxDialogContainerProps,{onClose:()=>this.generated.actions.dialogs.closeActiveDialog.trigger()})),a.isOpen(B.a)&&l.selectedAddress?P.a.createElement(B.a,{isActionProcessing:l.isActionProcessing,selectedExplorer:y,error:l.error,addressInfo:l.selectedAddress,onCopyAddressTooltip:e=>{n.isOpen(e)||(Object(A.runInAction)(()=>{this.notificationElementId=e}),s.notifications.open.trigger({id:e,duration:f.duration,message:f.message}))},notification:n.getTooltipActiveNotification(this.notificationElementId),isHardware:T,verify:()=>s.ada.hwVerifyAddress.verifyAddress.trigger(c),cancel:s.ada.hwVerifyAddress.closeAddressDetailDialog.trigger,classicTheme:i.isClassicTheme,complexityLevel:i.selectedComplexityLevel}):null)}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("WalletReceivePage no way to generated props");const{stores:e,actions:t}=this.props,r=e.substores.ada,o=(()=>{const t=e.wallets.selected;if(null==t)return!1;const r=e.delegation.getDelegationRequests(t);if(null==r)return!1;const{result:o}=r.mangledAmounts;return null!=o&&o.canUnmangle.getDefault().gt(0)})();return d()({canUnmangle:o,stores:{app:{currentRoute:e.app.currentRoute},uiNotifications:{isOpen:e.uiNotifications.isOpen,getTooltipActiveNotification:e.uiNotifications.getTooltipActiveNotification},uiDialogs:{isOpen:e.uiDialogs.isOpen,getParam:e.uiDialogs.getParam},explorers:{selectedExplorer:e.explorers.selectedExplorer},tokenInfoStore:{tokenInfo:e.tokenInfoStore.tokenInfo},profile:{isClassicTheme:e.profile.isClassicTheme,shouldHideBalance:e.profile.shouldHideBalance,unitOfAccount:e.profile.unitOfAccount,selectedComplexityLevel:e.profile.selectedComplexityLevel},wallets:{selected:e.wallets.selected},addresses:{addressFilter:e.addresses.addressFilter,addressSubgroupMap:e.addresses.addressSubgroupMap,createAddressRequest:{isExecuting:e.addresses.createAddressRequest.isExecuting},error:e.addresses.error},substores:{ada:{hwVerifyAddress:{selectedAddress:r.hwVerifyAddress.selectedAddress,isActionProcessing:r.hwVerifyAddress.isActionProcessing,error:r.hwVerifyAddress.error}}}},actions:{dialogs:{open:{trigger:t.dialogs.open.trigger},closeActiveDialog:{trigger:t.dialogs.closeActiveDialog.trigger}},notifications:{closeActiveNotification:{trigger:t.notifications.closeActiveNotification.trigger},open:{trigger:t.notifications.open.trigger}},addresses:{setFilter:{trigger:t.addresses.setFilter.trigger},resetFilter:{trigger:t.addresses.resetFilter.trigger},resetErrors:{trigger:t.addresses.resetErrors.trigger},createAddress:{trigger:t.addresses.createAddress.trigger}},ada:{hwVerifyAddress:{selectAddress:{trigger:t.ada.hwVerifyAddress.selectAddress.trigger},verifyAddress:{trigger:t.ada.hwVerifyAddress.verifyAddress.trigger},closeAddressDetailDialog:{trigger:t.ada.hwVerifyAddress.closeAddressDetailDialog.trigger}}}},UnmangleTxDialogContainerProps:{stores:e,actions:t}})}},v()(a,"contextTypes",{intl:I.f.isRequired}),s=i,n=k()(s.prototype,"notificationElementId",[A.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),k()(s.prototype,"generated",[A.computed],c()(s.prototype,"generated"),s.prototype),o=s))||o},1567:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return H}));var o,s,n,a,i,l,c,g,d=r(18),u=r.n(d),p=r(30),h=r.n(p),m=r(8),f=r.n(m),w=r(31),T=r.n(w),b=r(40),E=r.n(b),y=r(12),C=r.n(y),v=r(1),S=r.n(v),k=r(4),x=r.n(k),P=(r(59),r(11)),D=r.n(P),A=r(0),R=r.n(A),O=r(9),I=r(5),M=r(3),N=(r(72),r(1568)),W=r(1569),L=r(235),F=r(188),j=r(6),q=r(173),B=r(23);r(17);const _=Object(I.e)({step0:{id:"yoroiTransfer.form.instructions.stakingKEy.text",defaultMessage:"!!!Enter your staking key here and the spending password if the key is encrypted"}}),U=D()({EncryptedWithChaincode:312,EncryptedWithoutChaincode:248,UnencryptedWithChaincode:192,UnencryptedWithoutChaincode:128});let H=Object(O.a)((g=c=class extends A.Component{constructor(...t){super(...t),C()(this,"keyForm",n,this),C()(this,"passwordForm",a,this),C()(this,"error",i,this),S()(this,"getKey",()=>new E.a((e,t)=>{if(null==this.keyForm)throw new Error("YoroiTransferKeyFormPage key form not set");this.keyForm.submit({onSuccess:t=>{const{key:r}=T()(t).call(t);return e(r)},onError:()=>t()})})),S()(this,"getDecryptionPassword",()=>new E.a((e,t)=>{if(null==this.passwordForm)throw new Error("YoroiTransferKeyFormPage password form not set");this.passwordForm.submit({onSuccess:t=>{const{decryptionPassword:r}=T()(t).call(t);return e(r)},onError:()=>t()})})),S()(this,"isEncrypted",e=>e.length===U.EncryptedWithChaincode||e.length===U.EncryptedWithoutChaincode),S()(this,"decryptKey",async t=>{if(this.isEncrypted(t)){const r=await this.getDecryptionPassword();return e.from(Object(F.a)(r,t)).toString("hex")}return t}),S()(this,"stripChaincode",t=>{if(t.length===U.UnencryptedWithChaincode){let r=j.a.WalletV4.Bip32PrivateKey.from_bytes(e.from(t,"hex"));for(const e of this.props.derivationPath)r=r.derive(e);return e.from(r.to_raw_key().as_bytes()).toString("hex")}return t}),S()(this,"submit",async()=>{Object(M.runInAction)(()=>{this.error=void 0});try{const e=await this.getKey(),t=await this.decryptKey(e),r=this.stripChaincode(t);return this.props.onSubmit({key:r})}catch(e){e instanceof q.a&&Object(M.runInAction)(()=>{this.error=new B.t})}}),C()(this,"clearPassword",l,this)}setKeyForm(e){this.keyForm=e}setPasswordForm(e){this.passwordForm=e}render(){var e,t;const{intl:r}=this.context,o=null===(e=this.keyForm)||void 0===e?void 0:T()(e).call(e).key;return R.a.createElement(L.a,{onSubmit:this.submit,onBack:this.props.onBack,step0:r.formatMessage(_.step0),isDisabled:null==this.keyForm||this.keyForm.hasError,error:this.error},R.a.createElement(N.a,{setForm:e=>this.setKeyForm(e),classicTheme:this.props.classicTheme,validLengths:f()(t=h()(U)).call(t,e=>U[e]),onUpdate:e=>this.clearPassword(e)}),R.a.createElement(W.a,{setForm:e=>this.setPasswordForm(e),classicTheme:this.props.classicTheme,onChange:()=>Object(M.runInAction)(()=>{this.error=void 0}),isDisabled:null==o||!this.isEncrypted(o)}))}},S()(c,"contextTypes",{intl:I.f.isRequired}),s=g,n=x()(s.prototype,"keyForm",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=x()(s.prototype,"passwordForm",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=x()(s.prototype,"error",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x()(s.prototype,"setKeyForm",[M.action],u()(s.prototype,"setKeyForm"),s.prototype),x()(s.prototype,"setPasswordForm",[M.action],u()(s.prototype,"setPasswordForm"),s.prototype),l=x()(s.prototype,"clearPassword",[M.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.isEncrypted(e)||null==this.passwordForm||this.passwordForm.clear()}}}),o=s))||o}).call(this,r(48).Buffer)},1577:function(e,t,r){"use strict";r.d(t,"a",(function(){return M}));var o,s,n,a,i=r(18),l=r.n(i),c=r(11),g=r.n(c),d=r(207),u=r.n(d),p=r(8),h=r.n(p),m=r(68),f=r.n(m),w=r(34),T=r.n(w),b=r(1),E=r.n(b),y=r(4),C=r.n(y),v=r(0),S=r.n(v),k=r(3),x=r(9),P=r(5),D=r(1687),A=(r(50),r(36)),R=r(67),O=r(85),I=r(691);let M=Object(x.a)((a=n=class extends v.Component{componentDidMount(){const e=this.generated.stores.wallets.selected;if(null==e)throw new Error("Receive no public deriver");const t=Object(R.a)(A.a.WALLETS.RECEIVE.ROOT),r=T()(O.c).call(O.c,t=>t.isRelated({selected:e}));if(this.generated.stores.app.currentRoute===t){const e=Object(O.g)(r[0].name);this.generated.actions.router.redirect.trigger({route:e})}else{null==f()(r).call(r,e=>Object(O.g)(e.name)===this.generated.stores.app.currentRoute)&&this.generated.actions.router.redirect.trigger({route:Object(O.g)(r[0].name)})}}componentWillUnmount(){this.generated.actions.addresses.resetFilter.trigger()}render(){var e,t,r;const o=this.generated.stores.wallets.selected;if(null==o)throw new Error("Receive no public deriver");const s=h()(e=T()(t=h()(r=T()(O.c).call(O.c,e=>e.isRelated({selected:o}))).call(r,e=>{const t=this.generated.stores.addresses.addressSubgroupMap.get(e.class);if(null==t)throw new Error("Should never happen");return{meta:e,request:t}})).call(t,e=>!e.meta.isHidden({result:e.request.all}))).call(e,e=>{var t;return{isActiveStore:u()(t=this.generated.stores.app.currentRoute).call(t,Object(O.g)(e.meta.name)),setAsActiveStore:()=>this.generated.actions.router.goToRoute.trigger({route:Object(O.g)(e.meta.name)}),name:e.meta.name,validFilters:e.meta.validFilters,wasExecuted:e.request.wasExecuted}});return(S.a.createElement(I.a,{bottomPadding:57},S.a.createElement(D.a,{addressStores:s,setFilter:e=>this.generated.actions.addresses.setFilter.trigger(e),activeFilter:this.generated.stores.addresses.addressFilter},this.props.children)))}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("Receive no way to generated props");const{stores:e,actions:t}=this.props;return g()({stores:{wallets:{selected:e.wallets.selected},app:{currentRoute:e.app.currentRoute},addresses:{addressFilter:e.addresses.addressFilter,addressSubgroupMap:e.addresses.addressSubgroupMap}},actions:{addresses:{setFilter:{trigger:t.addresses.setFilter.trigger},resetFilter:{trigger:t.addresses.resetFilter.trigger}},router:{goToRoute:{trigger:t.router.goToRoute.trigger},redirect:{trigger:t.router.redirect.trigger}}}})}},E()(n,"defaultProps",{children:void 0}),E()(n,"contextTypes",{intl:P.f.isRequired}),s=a,C()(s.prototype,"generated",[k.computed],l()(s.prototype,"generated"),s.prototype),o=s))||o},1599:function(e,t,r){"use strict";r.d(t,"a",(function(){return A}));var o,s,n,a,i=r(18),l=r.n(i),c=r(11),g=r.n(c),d=r(1),u=r.n(d),p=r(4),h=r.n(p),m=r(0),f=r.n(m),w=r(9),T=r(3),b=r(5),E=r(126),y=r(175),C=r(233),v=r(234),S=r(1706),k=r(1608),x=(r(102),r(50),r(39)),P=r(49);const D=Object(b.e)({title:{id:"noticeBoard.topbar.title",defaultMessage:"!!!Notification"}});let A=Object(w.a)((a=n=class extends m.Component{render(){const{loadedNotices:e,searchOptions:t,isLoading:r,hasMoreToLoad:o}=this.generated.stores.noticeBoard,s=f.a.createElement(C.a,{title:this.context.intl.formatMessage(D.title)}),n=f.a.createElement(v.a,{title:s}),a=e.length>0;let i=null;if(t)if(a)i=f.a.createElement(S.a,{loadedNotices:e,hasMoreToLoad:o,isLoading:r,onLoadMore:()=>this.generated.actions.noticeBoard.loadMore.trigger()});else{const{selected:e}=this.generated.stores.wallets;if(null==e)throw new Error("NoticeBoardPage not handled yet");const t=e.getParent().getDefaultToken(),r=Object(x.b)(this.generated.stores.tokenInfoStore.tokenInfo)({identifier:t.defaultIdentifier,networkId:t.defaultNetworkId});i=f.a.createElement(k.a,{classicTheme:this.generated.stores.profile.isClassicTheme,ticker:Object(P.i)(Object(x.d)(r))})}return(f.a.createElement(E.a,{banner:f.a.createElement(y.a,this.generated.BannerContainerProps),topbar:n},i))}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("NoticeBoardPage no way to generated props");const{stores:e,actions:t}=this.props,r=e.profile;return g()({stores:{profile:{isClassicTheme:r.isClassicTheme},tokenInfoStore:{tokenInfo:e.tokenInfoStore.tokenInfo},noticeBoard:{loadedNotices:e.noticeBoard.loadedNotices,searchOptions:e.noticeBoard.searchOptions,isLoading:e.noticeBoard.isLoading,hasMoreToLoad:e.noticeBoard.hasMoreToLoad},wallets:{selected:e.wallets.selected}},actions:{noticeBoard:{loadMore:{trigger:t.noticeBoard.loadMore.trigger}}},BannerContainerProps:{actions:t,stores:e}})}},u()(n,"contextTypes",{intl:b.f.isRequired}),s=a,h()(s.prototype,"generated",[T.computed],l()(s.prototype,"generated"),s.prototype),o=s))||o},1609:function(e,t,r){"use strict";r.d(t,"a",(function(){return _}));var o,s,n,a,i,l=r(18),c=r.n(l),g=r(11),d=r.n(g),u=r(31),p=r.n(u),h=r(12),m=r.n(h),f=r(1),w=r.n(f),T=r(4),b=r.n(T),E=(r(59),r(0)),y=r.n(E),C=r(9),v=r(3),S=r(5),k=r(693),x=r.n(k),P=r(70),D=r(71),A=r(14),R=r.n(A),O=r(7),I=r(41),M=r(51),N=r(135),W=r(257),L=(r(100),r(17),r(50),r(1610)),F=r(1611),j=r(187),q=r(39),B=r(354);r(72);let _=Object(C.a)((i=a=class extends E.Component{constructor(...e){super(...e),m()(this,"spendingPasswordForm",n,this),w()(this,"cancel",()=>{this.generated.actions.ada.votingTransaction.reset.trigger({justTransaction:!0})}),w()(this,"getDialog",()=>{const{intl:e}=this.context,{votingRegTransaction:t}=this.generated.stores.substores.ada,r=t.createVotingRegTx.result,o=this.generated.stores.wallets.selected;if(null==o)return null;const s=this.generated.stores.wallets.sendMoneyRequest.isExecuting||!this.generated.stores.wallets.sendMoneyRequest.wasExecuted||null!=this.generated.stores.wallets.sendMoneyRequest.error;return t.createVotingRegTx.isExecuting?y.a.createElement(I.a,{title:e.formatMessage(O.a.processingLabel),closeOnOverlayClick:!1},y.a.createElement(W.a,{title:e.formatMessage(O.a.processingLabel),details:e.formatMessage(O.a.txGeneration)})):null!=t.createVotingRegTx.error?this._errorDialog(t.createVotingRegTx.error):null!=r&&s?y.a.createElement(L.a,{staleTx:t.isStale,transactionFee:r.fee(),isSubmitting:this.generated.stores.wallets.sendMoneyRequest.isExecuting,isHardware:o.getParent().getWalletType()===j.a.HARDWARE_WALLET,getTokenInfo:Object(q.b)(this.generated.stores.tokenInfoStore.tokenInfo),onCancel:this.cancel,onSubmit:({password:e})=>this.generated.actions.ada.votingTransaction.signTransaction.trigger({password:e,publicDeriver:o}),classicTheme:this.generated.stores.profile.isClassicTheme,error:this.generated.stores.wallets.sendMoneyRequest.error}):null==r||s?void 0:y.a.createElement(F.a,{onClose:this.generated.actions.ada.votingTransaction.complete.trigger,classicTheme:this.generated.stores.profile.isClassicTheme})}),w()(this,"_errorDialog",e=>{const{intl:t}=this.context,r=[{label:t.formatMessage(O.a.backButtonLabel),onClick:this.cancel,primary:!0}];return y.a.createElement(I.a,{title:t.formatMessage(O.a.errorLabel),closeOnOverlayClick:!1,onClose:this.cancel,closeButton:y.a.createElement(M.a,{onClose:this.cancel}),actions:r},y.a.createElement(y.a.Fragment,null,y.a.createElement(N.a,{error:e})))}),w()(this,"_vote",async()=>{void 0!==this.spendingPasswordForm&&this.spendingPasswordForm.submit({onSuccess:async e=>{const{walletPassword:t}=p()(e).call(e);await this.generated.actions.ada.votingTransaction.createTransaction.trigger(t)},onError:()=>{}})})}setSpendingPasswordForm(e){this.spendingPasswordForm=e}async componentWillUnmount(){this.generated.actions.ada.votingTransaction.reset.trigger({justTransaction:!1})}componentDidMount(){this.generated.actions.generateCatalystKey.trigger()}render(){const e=document.documentElement?document.documentElement.style.getPropertyValue("--theme-receive-qr-code-background-color"):"transparent",t=document.documentElement?document.documentElement.style.getPropertyValue("--theme-receive-qr-code-foreground-color"):"#000",r=R()(["primary"]),{intl:o}=this.context;return y.a.createElement("div",null,this.getDialog(),y.a.createElement(B.a,{classicTheme:!1,setForm:e=>this.setSpendingPasswordForm(e),isSubmitting:!1}),y.a.createElement(P.Button,{className:r,label:o.formatMessage(O.a.nextButtonLabel),onMouseUp:this._vote,skin:D.ButtonSkin}),y.a.createElement("div",null,null!==this.generated.stores.voting.encryptedKey?y.a.createElement(x.a,{value:this.generated.stores.voting.encryptedKey,bgColor:e,fgColor:t,size:152}):""))}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("VotingPage no way to generated props");const{stores:e,actions:t}=this.props,r=e.substores.ada.votingStore;return d()({actions:{ada:{votingTransaction:{createTransaction:{trigger:t.ada.voting.createTransaction.trigger},signTransaction:{trigger:t.ada.voting.signTransaction.trigger},reset:{trigger:t.ada.voting.reset.trigger},complete:{trigger:t.ada.voting.complete.trigger}}},dialogs:{closeActiveDialog:{trigger:t.dialogs.closeActiveDialog.trigger},open:{trigger:t.dialogs.open.trigger}},generateCatalystKey:{trigger:t.ada.voting.generateCatalystKey.trigger}},stores:{explorers:{selectedExplorer:e.explorers.selectedExplorer},wallets:{selected:e.wallets.selected,sendMoneyRequest:{error:e.wallets.sendMoneyRequest.error,isExecuting:e.wallets.sendMoneyRequest.isExecuting,wasExecuted:e.wallets.sendMoneyRequest.wasExecuted}},profile:{isClassicTheme:e.profile.isClassicTheme,currentLocale:e.profile.currentLocale},tokenInfoStore:{tokenInfo:e.tokenInfoStore.tokenInfo},transactions:{hasAnyPending:e.transactions.hasAnyPending},substores:{ada:{votingRegTransaction:{isStale:r.isStale,createVotingRegTx:{result:r.createVotingRegTx.result,error:r.createVotingRegTx.error,isExecuting:r.createVotingRegTx.isExecuting}}}},uiDialogs:{isOpen:e.uiDialogs.isOpen,getParam:e.uiDialogs.getParam},voting:{encryptedKey:r.encryptedKey}}})}},w()(a,"contextTypes",{intl:S.f.isRequired}),s=i,n=b()(s.prototype,"spendingPasswordForm",[v.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b()(s.prototype,"setSpendingPasswordForm",[v.action],c()(s.prototype,"setSpendingPasswordForm"),s.prototype),b()(s.prototype,"generated",[v.computed],c()(s.prototype,"generated"),s.prototype),o=s))||o},1612:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var o,s,n=r(18),a=r.n(n),i=r(11),l=r.n(i),c=r(4),g=r.n(c),d=r(0),u=r.n(d),p=r(3),h=r(9),m=r(704);r(17);let f=Object(h.a)((s=class extends d.Component{get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("ComplexityLevelSettingsPage no way to generated props");const{stores:e,actions:t}=this.props,r=e.profile;return l()({stores:{serverConnectionStore:{checkAdaServerStatus:e.serverConnectionStore.checkAdaServerStatus},profile:{setComplexityLevelRequest:{error:r.setComplexityLevelRequest.error,isExecuting:r.setComplexityLevelRequest.isExecuting},selectedComplexityLevel:r.selectedComplexityLevel}},actions:{profile:{selectComplexityLevel:{trigger:t.profile.selectComplexityLevel.trigger}}}})}render(){return u.a.createElement(m.a,{complexityLevel:this.generated.stores.profile.selectedComplexityLevel,onSubmit:this.generated.actions.profile.selectComplexityLevel.trigger,isSubmitting:this.generated.stores.profile.setComplexityLevelRequest.isExecuting,error:this.generated.stores.profile.setComplexityLevelRequest.error})}},g()(s.prototype,"generated",[p.computed],a()(s.prototype,"generated"),s.prototype),o=s))||o},1615:function(e,t,r){"use strict";r.d(t,"a",(function(){return A}));var o,s,n,a,i=r(18),l=r.n(i),c=r(11),g=r.n(c),d=r(1),u=r.n(d),p=r(4),h=r.n(p),m=r(0),f=r.n(m),w=r(126),T=r(234),b=r(233),E=r(5),y=r(274),C=r(275),v=r(3),S=r(158),k=r(9),x=r(704),P=(r(17),r(50),r(20));const D=Object(E.e)({title:{id:"profile.complexityLevel.title",defaultMessage:"!!!Level of Interface Complexity"}});let A=Object(k.a)((a=n=class extends m.Component{render(){const{checkAdaServerStatus:e}=this.generated.stores.serverConnectionStore,{selected:t}=this.generated.stores.wallets,r=null!=t&&Object(P.i)(t.getParent().getNetworkInfo()),o=e===S.a.Healthy?f.a.createElement(y.a,{isTestnet:r}):f.a.createElement(C.a,{errorType:e}),s=f.a.createElement(b.a,{title:this.context.intl.formatMessage(D.title)}),n=f.a.createElement(T.a,{title:s});return f.a.createElement(w.a,{topbar:n,banner:o},f.a.createElement(x.a,{complexityLevel:this.generated.stores.profile.selectedComplexityLevel,onSubmit:this.generated.actions.profile.selectComplexityLevel.trigger,isSubmitting:this.generated.stores.profile.setComplexityLevelRequest.isExecuting,error:this.generated.stores.profile.setComplexityLevelRequest.error}))}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("ComplexityLevelPage no way to generated props");const{stores:e,actions:t}=this.props,r=e.profile;return g()({stores:{serverConnectionStore:{checkAdaServerStatus:e.serverConnectionStore.checkAdaServerStatus},wallets:{selected:e.wallets.selected},profile:{setComplexityLevelRequest:{error:r.setComplexityLevelRequest.error,isExecuting:r.setComplexityLevelRequest.isExecuting},selectedComplexityLevel:r.selectedComplexityLevel}},actions:{profile:{selectComplexityLevel:{trigger:t.profile.selectComplexityLevel.trigger}}}})}},u()(n,"contextTypes",{intl:E.f.isRequired}),s=a,h()(s.prototype,"generated",[v.computed],l()(s.prototype,"generated"),s.prototype),o=s))||o},1616:function(e,t,r){"use strict";r.d(t,"a",(function(){return I}));var o,s,n,a,i=r(18),l=r.n(i),c=r(11),g=r.n(c),d=r(8),u=r.n(d),p=r(1),h=r.n(p),m=r(4),f=r.n(m),w=r(0),T=r.n(w),b=r(9),E=r(3),y=r(5),C=r(1617),v=r(1618),S=r(1619),k=r(686),x=r(47),P=r(461),D=r(1620),A=(r(17),r(50),r(478)),R=r(20);r(100);const O=Object(y.e)({USD:{id:"settings.unitOfAccount.currency.usd",defaultMessage:"!!!US dollar"},JPY:{id:"settings.unitOfAccount.currency.jpy",defaultMessage:"!!!Japanese yen"},EUR:{id:"settings.unitOfAccount.currency.eur",defaultMessage:"!!!Euro"},CNY:{id:"settings.unitOfAccount.currency.cny",defaultMessage:"!!!Chinese Renminbi yuan"},KRW:{id:"settings.unitOfAccount.currency.krw",defaultMessage:"!!!South Korean won"},BTC:{id:"settings.unitOfAccount.currency.btc",defaultMessage:"!!!Bitcoin"},ETH:{id:"settings.unitOfAccount.currency.eth",defaultMessage:"!!!Ethereum"}});let I=Object(b.a)((a=n=class extends w.Component{constructor(...e){super(...e),h()(this,"onSelectUnitOfAccount",async e=>{const t="ADA"===e?P.a:{enabled:!0,currency:e};await this.generated.actions.profile.updateUnitOfAccount.trigger(t)})}render(){var e,t,r;const o=this.generated.stores.wallets;if(null==o.selected)return T.a.createElement(A.a,null);const s=o.selected.getParent().getNetworkInfo(),{stores:n}=this.generated,a=n.explorers.setSelectedExplorerRequest.isExecuting,i=n.profile.setUnitOfAccountRequest.isExecuting||n.coinPriceStore.refreshCurrentUnit.isExecuting,l=Object(R.f)(s)&&this.generated.canRegisterProtocol()?T.a.createElement(S.a,{registerUriScheme:()=>Object(k.a)(),isFirefox:x.a.userAgentInfo.isFirefox()}):null,c=u()(e=n.profile.UNIT_OF_ACCOUNT_OPTIONS).call(e,e=>{const t=this.context.intl.formatMessage(O[e.symbol]);return{value:e.symbol,label:`${e.symbol} - ${t}`,name:t,price:n.coinPriceStore.getCurrentPrice("ADA",e.symbol),svg:e.svg}});c.unshift({value:"ADA",label:"ADA - Cardano",name:"Cardano",native:!0,svg:D.a});const g=n.profile.unitOfAccount.enabled?n.profile.unitOfAccount.currency:"ADA";return(T.a.createElement(T.a.Fragment,null,T.a.createElement(C.a,{onSelectExplorer:this.generated.actions.explorers.updateSelectedExplorer.trigger,isSubmitting:a,explorers:null!==(t=this.generated.stores.explorers.allExplorers.get(s.NetworkId))&&void 0!==t?t:(()=>{throw new Error("No explorer for wallet network")})(),selectedExplorer:null!==(r=n.explorers.selectedExplorer.get(s.NetworkId))&&void 0!==r?r:(()=>{throw new Error("No explorer for wallet network")})(),error:n.explorers.setSelectedExplorerRequest.error}),l,(!x.a.isProduction()||x.a.isTest())&&T.a.createElement(v.a,{onSelect:this.onSelectUnitOfAccount,isSubmitting:i,currencies:c,currentValue:g,error:n.profile.setUnitOfAccountRequest.error,lastUpdatedTimestamp:n.coinPriceStore.lastUpdateTimestamp})))}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("BlockchainSettingsPage no way to generated props");const{stores:e,actions:t}=this.props,r=e.profile;return g()({stores:{explorers:{selectedExplorer:e.explorers.selectedExplorer,allExplorers:e.explorers.allExplorers,setSelectedExplorerRequest:{isExecuting:e.explorers.setSelectedExplorerRequest.isExecuting,error:e.explorers.setSelectedExplorerRequest.error}},profile:{UNIT_OF_ACCOUNT_OPTIONS:r.UNIT_OF_ACCOUNT_OPTIONS,unitOfAccount:r.unitOfAccount,setUnitOfAccountRequest:{error:r.setUnitOfAccountRequest.error,isExecuting:r.setUnitOfAccountRequest.isExecuting}},coinPriceStore:{getCurrentPrice:e.coinPriceStore.getCurrentPrice,lastUpdateTimestamp:e.coinPriceStore.lastUpdateTimestamp,refreshCurrentUnit:{isExecuting:e.coinPriceStore.refreshCurrentUnit.isExecuting}},wallets:{selected:e.wallets.selected}},actions:{explorers:{updateSelectedExplorer:{trigger:t.explorers.updateSelectedExplorer.trigger}},profile:{updateUnitOfAccount:{trigger:t.profile.updateUnitOfAccount.trigger}}},canRegisterProtocol:x.a.userAgentInfo.canRegisterProtocol})}},h()(n,"contextTypes",{intl:y.f.isRequired}),s=a,f()(s.prototype,"generated",[E.computed],l()(s.prototype,"generated"),s.prototype),o=s))||o},1621:function(e,t,r){"use strict";r.d(t,"a",(function(){return b}));var o,s,n=r(18),a=r.n(n),i=r(11),l=r.n(i),c=r(4),g=r.n(c),d=r(0),u=r.n(d),p=r(3),h=r(9),m=r(126),f=r(232),w=r(175),T=r(348);let b=Object(h.a)((s=class extends d.Component{componentDidMount(){this.generated.stores.router.goForward()}render(){const e=u.a.createElement(f.a,this.generated.SidebarContainerProps),t=u.a.createElement(T.a,{title:void 0});return u.a.createElement(m.a,{banner:u.a.createElement(w.a,this.generated.BannerContainerProps),sidebar:e,navbar:t,showInContainer:!0})}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("WalletSwitch no way to generated props");const{stores:e,actions:t}=this.props;return l()({stores:{router:{goForward:e.router.goForward}},SidebarContainerProps:{actions:t,stores:e},BannerContainerProps:{actions:t,stores:e}})}},g()(s.prototype,"generated",[p.computed],a()(s.prototype,"generated"),s.prototype),o=s))||o},1660:function(e,t,r){"use strict";r.d(t,"a",(function(){return w}));var o,s,n=r(18),a=r.n(n),i=r(11),l=r.n(i),c=r(4),g=r.n(c),d=r(0),u=r.n(d),p=r(9),h=r(3),m=r(1661),f=r(67);let w=Object(p.a)((s=class extends d.Component{render(){return u.a.createElement(m.a,{onExternalLinkClick:this.generated.handleExternalLinkClick})}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("MaintenancePage no way to generated props");return l()({handleExternalLinkClick:f.c})}},g()(s.prototype,"generated",[h.computed],a()(s.prototype,"generated"),s.prototype),o=s))||o},1663:function(e,t,r){"use strict";r.d(t,"a",(function(){return T}));var o,s,n=r(18),a=r.n(n),i=r(11),l=r.n(i),c=r(4),g=r.n(c),d=r(0),u=r.n(d),p=r(9),h=r(3),m=r(1664),f=r(67),w=r(10);let T=Object(p.a)((s=class extends d.Component{render(){return u.a.createElement(m.a,{onExternalLinkClick:this.generated.handleExternalLinkClick,onDownloadLogs:w.b})}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("CrashPage no way to generated props");return l()({handleExternalLinkClick:f.c})}},g()(s.prototype,"generated",[h.computed],a()(s.prototype,"generated"),s.prototype),o=s))||o},1684:function(e,t,r){"use strict";r.d(t,"a",(function(){return tr}));var o,s,n,a=r(18),i=r.n(a),l=r(11),c=r.n(l),g=r(28),d=r.n(g),u=r(1),p=r.n(u),h=r(4),m=r.n(h),f=r(0),w=r.n(f),T=r(3),b=r(9),E=r(5),y=r(126),C=r(175),v=r(232),S=r(1561),k=r(478),x=r(690);const P=Object(E.e)({title:{id:"wallet.unsupported.title",defaultMessage:"!!!Wallet type not supported"},subtitle:{id:"wallet.unsupported.subtitle",defaultMessage:"!!!The selected wallet does not support this functionality"}});let D=Object(b.a)((n=s=class extends f.Component{render(){const{intl:e}=this.context;return(w.a.createElement(x.a,{title:e.formatMessage(P.title),subtitle:e.formatMessage(P.subtitle)}))}},p()(s,"contextTypes",{intl:E.f.isRequired}),o=n))||o;var A,R,O,I,M=r(349),N=r(477),W=r(7),L=r(1711),F=(r(50),r(129)),j=r.n(F),q=r(40),B=r.n(q),_=r(167),U=r(236),H=r(278),z=r(12),V=r.n(z),K=(r(59),r(1564));let G=Object(b.a)((R=class extends f.Component{constructor(...e){super(...e),V()(this,"checkboxMarked",O,this),V()(this,"toggleCheck",I,this)}render(){return w.a.createElement(K.a,{onBack:this.props.onBack,onNext:this.props.onNext,isChecked:this.checkboxMarked,toggleCheck:this.toggleCheck})}},O=m()(R.prototype,"checkboxMarked",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=m()(R.prototype,"toggleCheck",[T.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.checkboxMarked=!this.checkboxMarked}}}),A=R))||A;var Y,$,X,Q,J,Z=r(31),ee=r.n(Z),te=r(43),re=(r(72),r(355)),oe=r(235);const se=Object(E.e)({step0:{id:"yoroiTransfer.form.instructions.step0.text",defaultMessage:"!!!Enter the 15-word recovery phrase used to back up your other wallet to restore the balance and transfer all the funds to current wallet."}});let ne=Object(b.a)((J=Q=class extends f.Component{constructor(...e){super(...e),V()(this,"mnemonicForm",X,this),p()(this,"submit",async()=>{if(null==this.mnemonicForm)throw new Error("YoroiTransferFormPage form not set");this.mnemonicForm.submit({onSuccess:e=>{const{recoveryPhrase:t}=ee()(e).call(e),r={recoveryPhrase:Object(te.join)(t," ")};this.props.onSubmit(r)},onError:()=>{}})})}setMnemonicFrom(e){this.mnemonicForm=e}render(){const{intl:e}=this.context;return(w.a.createElement(oe.a,{onSubmit:this.submit,onBack:this.props.onBack,step0:e.formatMessage(se.step0),isDisabled:null==this.mnemonicForm||this.mnemonicForm.hasError},w.a.createElement(re.a,{setForm:e=>this.setMnemonicFrom(e),mnemonicValidator:this.props.mnemonicValidator,validWords:this.props.validWords,mnemonicLength:this.props.mnemonicLength,classicTheme:this.props.classicTheme})))}},p()(Q,"contextTypes",{intl:E.f.isRequired}),$=J,X=m()($.prototype,"mnemonicForm",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m()($.prototype,"setMnemonicFrom",[T.action],i()($.prototype,"setMnemonicFrom"),$.prototype),Y=$))||Y;var ae,ie,le,ce,ge,de,ue=r(1566);const pe=Object(E.e)({step0:{id:"yoroiTransfer.form.instructions.step0Paper.text",defaultMessage:"!!!Enter the 21-word recovery phrase used to back up your Yoroi Paper wallet and your paper password to restore the balance and transfer all the funds."}});let he=Object(b.a)((de=ge=class extends f.Component{constructor(...e){super(...e),V()(this,"mnemonicForm",le,this),V()(this,"paperPasswordForm",ce,this),p()(this,"getMnemonic",()=>new B.a((e,t)=>{if(null==this.mnemonicForm)throw new Error("YoroiPaperWalletFormPage mnemonicForm not set");this.mnemonicForm.submit({onSuccess:t=>{const{recoveryPhrase:r}=ee()(t).call(t);e(Object(te.join)(r," "))},onError:()=>t()})})),p()(this,"getPaperPassword",()=>new B.a((e,t)=>{if(null==this.paperPasswordForm)throw new Error("YoroiPaperWalletFormPage paperPasswordForm not set");this.paperPasswordForm.submit({onSuccess:t=>{const{paperPassword:r}=ee()(t).call(t);e(r)},onError:()=>t()})})),p()(this,"submit",async()=>{if(null==this.mnemonicForm)throw new Error("YoroiPaperWalletFormPage form not set");const e=await this.getMnemonic(),t=await this.getPaperPassword();this.props.onSubmit({recoveryPhrase:e,paperPassword:t})})}setMnemonicFrom(e){this.mnemonicForm=e}setPaperPasswordFrom(e){this.paperPasswordForm=e}render(){const{intl:e}=this.context;return(w.a.createElement(oe.a,{onSubmit:this.submit,onBack:this.props.onBack,step0:e.formatMessage(pe.step0),isDisabled:null==this.mnemonicForm||this.mnemonicForm.hasError||null==this.paperPasswordForm||this.paperPasswordForm.hasError},w.a.createElement(re.a,{setForm:e=>this.setMnemonicFrom(e),mnemonicValidator:this.props.mnemonicValidator,validWords:this.props.validWords,mnemonicLength:this.props.mnemonicLength,classicTheme:this.props.classicTheme}),w.a.createElement(ue.a,{setForm:e=>this.setPaperPasswordFrom(e),passwordMatches:this.props.passwordMatches,includeLengthCheck:this.props.includeLengthCheck,classicTheme:this.props.classicTheme})))}},p()(ge,"contextTypes",{intl:E.f.isRequired}),ie=de,le=m()(ie.prototype,"mnemonicForm",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=m()(ie.prototype,"paperPasswordForm",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m()(ie.prototype,"setMnemonicFrom",[T.action],i()(ie.prototype,"setMnemonicFrom"),ie.prototype),m()(ie.prototype,"setPaperPasswordFrom",[T.action],i()(ie.prototype,"setPaperPasswordFrom"),ie.prototype),ae=ie))||ae;var me,fe,we,Te,be;let Ee=Object(b.a)((be=Te=class extends f.Component{constructor(...e){super(...e),V()(this,"mnemonicForm",we,this),p()(this,"submit",async()=>{if(null==this.mnemonicForm)throw new Error("HardwareTransferFormPage form not set");this.mnemonicForm.submit({onSuccess:e=>{const{recoveryPhrase:t}=ee()(e).call(e),r={recoveryPhrase:Object(te.join)(t," ")};this.props.onSubmit(r)},onError:()=>{}})})}setMnemonicFrom(e){this.mnemonicForm=e}render(){const{intl:e}=this.context;return(w.a.createElement(oe.a,{onSubmit:this.submit,onBack:this.props.onBack,step0:e.formatMessage(W.a.hardwareTransferInstructions),isDisabled:null==this.mnemonicForm||this.mnemonicForm.hasError},w.a.createElement(re.a,{setForm:e=>this.setMnemonicFrom(e),mnemonicValidator:this.props.mnemonicValidator,validWords:this.props.validWords,mnemonicLength:void 0,classicTheme:this.props.classicTheme})))}},p()(Te,"contextTypes",{intl:E.f.isRequired}),fe=be,we=m()(fe.prototype,"mnemonicForm",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m()(fe.prototype,"setMnemonicFrom",[T.action],i()(fe.prototype,"setMnemonicFrom"),fe.prototype),me=fe))||me;var ye,Ce,ve,Se,ke=r(1567),xe=r(677),Pe=r(52),De=r(308);r(100);let Ae=Object(b.a)((Ce=class extends f.Component{constructor(...e){super(...e),V()(this,"notificationElementId",ve,this),V()(this,"plates",Se,this),p()(this,"getSelectedNetwork",()=>{const{selectedNetwork:e}=this.generated.stores.profile;if(void 0===e)throw new Error("YoroiPlatePage no API selected");return e})}async componentDidMount(){const{yoroiTransfer:e}=this.generated.stores;if(!e.mode)throw new Error("YoroiPlatePage no mode selected");const t=Object(De.c)(e.recoveryPhrase,this.props.accountIndex,e.mode,this.getSelectedNetwork());Object(T.runInAction)(()=>{this.plates=t})}render(){var e;if(null==this.plates)return null;const t=this.generated.actions,{uiNotifications:r}=this.generated.stores,o={duration:Pe.a.wallets.ADDRESS_COPY_TOOLTIP_NOTIFICATION_DURATION,message:W.a.copyTooltipMessage};return w.a.createElement(xe.a,{plates:this.plates,selectedExplorer:null!==(e=this.generated.stores.explorers.selectedExplorer.get(this.getSelectedNetwork().NetworkId))&&void 0!==e?e:(()=>{throw new Error("No explorer for wallet network")})(),onCopyAddressTooltip:(e,s)=>{r.isOpen(s)||(Object(T.runInAction)(()=>{this.notificationElementId=s}),t.notifications.open.trigger({id:s,duration:o.duration,message:o.message}))},notification:r.getTooltipActiveNotification(this.notificationElementId),onNext:this.props.onNext,onCancel:this.props.onCancel,isSubmitting:!1,error:void 0})}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("YoroiPlatePage no way to generated props");const{stores:e,actions:t}=this.props;return c()({stores:{explorers:{selectedExplorer:e.explorers.selectedExplorer},uiNotifications:{isOpen:e.uiNotifications.isOpen,getTooltipActiveNotification:e.uiNotifications.getTooltipActiveNotification},profile:{selectedNetwork:e.profile.selectedNetwork},yoroiTransfer:{mode:e.yoroiTransfer.mode,recoveryPhrase:e.yoroiTransfer.recoveryPhrase}},actions:{notifications:{open:{trigger:t.notifications.open.trigger}}}})}},ve=m()(Ce.prototype,"notificationElementId",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Se=m()(Ce.prototype,"plates",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m()(Ce.prototype,"generated",[T.computed],i()(Ce.prototype,"generated"),Ce.prototype),ye=Ce))||ye;var Re,Oe,Ie,Me=r(679),Ne=r(696),We=r(346);const Le=Object(E.e)({title:{id:"yoroiTransfer.successPage.title",defaultMessage:"!!!success"},text:{id:"yoroiTransfer.successPage.text",defaultMessage:"!!!Your funds were successfully transferred."}});let Fe=Object(b.a)((Ie=Oe=class extends f.Component{render(){const{intl:e}=this.context,{classicTheme:t}=this.props;return w.a.createElement(We.a,{title:e.formatMessage(Le.title),text:e.formatMessage(Le.text),classicTheme:t})}},p()(Oe,"contextTypes",{intl:E.f.isRequired}),Re=Ie))||Re;var je,qe,Be,_e,Ue=r(63),He=(r(17),r(36)),ze=r(46),Ve=r(60),Ke=r(19),Ge=r(501),Ye=r(85),$e=r(53),Xe=r(39);let Qe=Object(b.a)((_e=Be=class extends f.Component{constructor(...e){super(...e),p()(this,"goToCreateWallet",()=>{this.generated.actions.router.goToRoute.trigger({route:He.a.WALLETS.ADD})}),p()(this,"setupTransferFundsWithMnemonic",e=>{this.generated.actions.yoroiTransfer.setupTransferFundsWithMnemonic.trigger({...e})}),p()(this,"setupTransferFundsWithPaperMnemonic",e=>{this.generated.actions.yoroiTransfer.setupTransferFundsWithPaperMnemonic.trigger({...e})}),p()(this,"setupTransferFundsWithKey",async e=>{if(null==this.generated.stores.wallets.selected)throw new Error("setupTransferFundsWithKey no wallet selected");this.generated.actions.yoroiTransfer.setPrivateKey.trigger(e.key),await this.checkAddresses()}),p()(this,"checkAddresses",async()=>{const e=this.generated.stores.wallets,t=this.generated.stores.yoroiTransfer,r=e.selected;if(null==r)throw new Error("checkAddresses no wallet selected");await this.generated.actions.yoroiTransfer.checkAddresses.trigger({getDestinationAddress:t.nextInternalAddress(r)})}),p()(this,"transferFunds",async()=>{const e=this.generated.stores.wallets,t=this.generated.stores.yoroiTransfer,r=this.generated.stores.wallets.selected;if(null==r)throw new Error("transferFunds no wallet selected");await this.generated.actions.yoroiTransfer.transferFunds.trigger({network:r.getParent().getNetworkInfo(),next:async()=>{const t=(new Date).getTime();try{await e.refreshWalletFromRemote(r)}catch(e){}const o=(new Date).getTime()-t;await new B.a(t=>{j()(()=>{null!=e.selected&&this.generated.actions.router.goToRoute.trigger({route:He.a.WALLETS.ROOT}),t()},Math.max(5e3-o,0))})},getDestinationAddress:t.nextInternalAddress(r),rebuildTx:!0})}),p()(this,"backToUninitialized",()=>{this.generated.actions.yoroiTransfer.backToUninitialized.trigger()}),p()(this,"cancelTransferFunds",()=>{this.generated.actions.yoroiTransfer.cancelTransferFunds.trigger()})}render(){const{stores:e}=this.generated,{profile:t}=e,r=this.generated.stores.yoroiTransfer,o=this.generated.stores.wallets.selected;if(null==o)throw new Error("checkAddresses no wallet selected");if(Object(ze.b)(o.getParent().getNetworkInfo())!==ze.a.ada)throw new Error("YoroiTransferPage not ADA API type");switch(r.status){case Ue.a.GETTING_MNEMONICS:return w.a.createElement(ne,{onSubmit:this.setupTransferFundsWithMnemonic,onBack:this.backToUninitialized,mnemonicValidator:e=>this.generated.stores.walletRestore.isValidMnemonic({mnemonic:e,mode:{type:"bip44",extra:void 0,length:Pe.a.wallets.WALLET_RECOVERY_PHRASE_WORD_COUNT}}),validWords:U,mnemonicLength:Pe.a.wallets.WALLET_RECOVERY_PHRASE_WORD_COUNT,classicTheme:t.isClassicTheme});case Ue.a.GETTING_WITHDRAWAL_KEY:return w.a.createElement(ke.a,{onSubmit:this.setupTransferFundsWithKey,onBack:this.backToUninitialized,classicTheme:t.isClassicTheme,derivationPath:[Ke.i.CIP1852,Ke.d.CARDANO,Ke.g+0,Ke.c.CHIMERIC_ACCOUNT,0]});case Ue.a.GETTING_PAPER_MNEMONICS:return w.a.createElement(he,{onSubmit:this.setupTransferFundsWithPaperMnemonic,onBack:this.backToUninitialized,mnemonicValidator:e=>this.generated.stores.walletRestore.isValidMnemonic({mnemonic:e,mode:{type:"bip44",extra:"paper",length:Pe.a.wallets.YOROI_PAPER_RECOVERY_PHRASE_WORD_COUNT}}),validWords:U,mnemonicLength:Pe.a.wallets.YOROI_PAPER_RECOVERY_PHRASE_WORD_COUNT,passwordMatches:e=>!0,includeLengthCheck:!1,classicTheme:t.isClassicTheme});case Ue.a.HARDWARE_DISCLAIMER:return w.a.createElement(G,{onBack:()=>this.generated.actions.yoroiTransfer.cancelTransferFunds.trigger(),onNext:()=>this.generated.actions.yoroiTransfer.startHardwareMnemonic.trigger()});case Ue.a.GETTING_HARDWARE_MNEMONIC:return w.a.createElement(Ee,{onSubmit:this.setupTransferFundsWithMnemonic,onBack:this.backToUninitialized,mnemonicValidator:e=>Object(_.validateMnemonic)(e),validWords:U,classicTheme:t.isClassicTheme});case Ue.a.DISPLAY_CHECKSUM:return w.a.createElement(Ae,d()({},this.generated.YoroiPlateProps,{onNext:this.checkAddresses,onCancel:this.backToUninitialized,accountIndex:this.generated.stores.walletRestore.selectedAccount}));case Ue.a.RESTORING_ADDRESSES:case Ue.a.CHECKING_ADDRESSES:case Ue.a.GENERATING_TX:return w.a.createElement(Me.a,{status:r.status});case Ue.a.READY_TO_TRANSFER:{var s;if(null==r.transferTx)return null;const{transferTx:t}=r,{intl:n}=this.context;if(null==this.generated.stores.yoroiTransfer.mode)throw new Error("YoroiTransferPage unknown mode");const{mode:a}=this.generated.stores.yoroiTransfer;return a.chain===Ke.c.CHIMERIC_ACCOUNT||a.derivationLevel===$e.a.ADDRESS.level?w.a.createElement(Ge.a,d()({},this.generated.WithdrawalTxDialogContainerProps,{onClose:this.cancelTransferFunds})):w.a.createElement(H.a,{form:null,transferTx:t,selectedExplorer:null!==(s=this.generated.stores.explorers.selectedExplorer.get(o.getParent().getNetworkInfo().NetworkId))&&void 0!==s?s:(()=>{throw new Error("No explorer for wallet network")})(),getTokenInfo:Object(Xe.b)(this.generated.stores.tokenInfoStore.tokenInfo),onSubmit:{label:n.formatMessage(W.a.nextButtonLabel),trigger:this.transferFunds},isSubmitting:e.wallets.sendMoneyRequest.isExecuting,onCancel:{label:n.formatMessage(W.a.cancel),trigger:this.cancelTransferFunds},error:r.error,dialogTitle:n.formatMessage(W.a.walletSendConfirmationDialogTitle),getCurrentPrice:this.generated.stores.coinPriceStore.getCurrentPrice,addressLookup:Object(Ye.e)(o,n,void 0,this.generated.stores.addresses.addressSubgroupMap),unitOfAccountSetting:e.profile.unitOfAccount,addressToDisplayString:e=>Object(Ve.a)(e,o.getParent().getNetworkInfo())})}case Ue.a.ERROR:return w.a.createElement(Ne.a,{error:r.error,onCancel:this.cancelTransferFunds,classicTheme:t.isClassicTheme});case Ue.a.SUCCESS:return w.a.createElement(Fe,{classicTheme:t.isClassicTheme});default:return null}}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("YoroiTransferPage no way to generated props");const{stores:e,actions:t}=this.props;return c()({stores:{addresses:{addressSubgroupMap:e.addresses.addressSubgroupMap},explorers:{selectedExplorer:e.explorers.selectedExplorer},profile:{isClassicTheme:e.profile.isClassicTheme,unitOfAccount:e.profile.unitOfAccount},tokenInfoStore:{tokenInfo:e.tokenInfoStore.tokenInfo},wallets:{selected:e.wallets.selected,refreshWalletFromRemote:e.wallets.refreshWalletFromRemote,sendMoneyRequest:{isExecuting:e.wallets.sendMoneyRequest.isExecuting}},coinPriceStore:{getCurrentPrice:e.coinPriceStore.getCurrentPrice},walletRestore:{selectedAccount:e.walletRestore.selectedAccount,isValidMnemonic:e.walletRestore.isValidMnemonic},yoroiTransfer:{mode:e.yoroiTransfer.mode,status:e.yoroiTransfer.status,error:e.yoroiTransfer.error,transferTx:e.yoroiTransfer.transferTx,nextInternalAddress:e.yoroiTransfer.nextInternalAddress,recoveryPhrase:e.yoroiTransfer.recoveryPhrase}},actions:{router:{goToRoute:{trigger:t.router.goToRoute.trigger}},yoroiTransfer:{backToUninitialized:{trigger:t.yoroiTransfer.backToUninitialized.trigger},cancelTransferFunds:{trigger:t.yoroiTransfer.cancelTransferFunds.trigger},startHardwareMnemonic:{trigger:t.yoroiTransfer.startHardwareMnemonic.trigger},setPrivateKey:{trigger:t.yoroiTransfer.setPrivateKey.trigger},transferFunds:{trigger:t.yoroiTransfer.transferFunds.trigger},checkAddresses:{trigger:t.yoroiTransfer.checkAddresses.trigger},setupTransferFundsWithPaperMnemonic:{trigger:t.yoroiTransfer.setupTransferFundsWithPaperMnemonic.trigger},setupTransferFundsWithMnemonic:{trigger:t.yoroiTransfer.setupTransferFundsWithMnemonic.trigger}}},YoroiPlateProps:{actions:t,stores:e},WithdrawalTxDialogContainerProps:{actions:t,stores:e}})}},p()(Be,"contextTypes",{intl:E.f.isRequired}),qe=_e,m()(qe.prototype,"generated",[T.computed],i()(qe.prototype,"generated"),qe.prototype),je=qe))||je;var Je,Ze,et,tt,rt;const ot=Object(E.e)({step0:{id:"daedalusTransfer.form.instructions.step0.text",defaultMessage:"!!!Enter the 12-word recovery phrase used to back up your Daedalus wallet to restore the balance and transfer all the funds from Daedalus to Yoroi."},step0Paper:{id:"daedalusTransfer.form.instructions.step0Paper.text",defaultMessage:"!!!Enter the 27-word recovery phrase used to back up your Daedalus Paper wallet to restore the balance and transfer all the funds from Daedalus to Yoroi."}});let st=Object(b.a)((rt=tt=class extends f.Component{constructor(...e){super(...e),V()(this,"mnemonicForm",et,this),p()(this,"submit",async()=>{if(null==this.mnemonicForm)throw new Error("DaedalusTransferFormPage form not set");this.mnemonicForm.submit({onSuccess:async e=>{const{recoveryPhrase:t}=ee()(e).call(e),r={recoveryPhrase:Object(te.join)(t," ")};await this.props.onSubmit(r)},onError:()=>{}})})}setMnemonicFrom(e){this.mnemonicForm=e}render(){const{intl:e}=this.context,{mnemonicLength:t}=this.props,r=t===Pe.a.wallets.DAEDALUS_PAPER_RECOVERY_PHRASE_WORD_COUNT?ot.step0Paper:ot.step0;return w.a.createElement(oe.a,{onSubmit:this.submit,onBack:this.props.onBack,step0:e.formatMessage(r),isDisabled:null==this.mnemonicForm||this.mnemonicForm.hasError},w.a.createElement(re.a,{setForm:e=>this.setMnemonicFrom(e),mnemonicValidator:this.props.mnemonicValidator,validWords:this.props.validWords,mnemonicLength:this.props.mnemonicLength,classicTheme:this.props.classicTheme}))}},p()(tt,"contextTypes",{intl:E.f.isRequired}),Ze=rt,et=m()(Ze.prototype,"mnemonicForm",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m()(Ze.prototype,"setMnemonicFrom",[T.action],i()(Ze.prototype,"setMnemonicFrom"),Ze.prototype),Je=Ze))||Je;var nt,at,it,lt,ct,gt=r(1570);const dt=Object(E.e)({step0:{id:"daedalusTransfer.form.instructions.step0MasterKey.text",defaultMessage:"!!!Enter the unencrypted master key for your Daedalus wallet to restore the balance and transfer all the funds from Daedalus to Yoroi."}});let ut=Object(b.a)((ct=lt=class extends f.Component{constructor(...e){super(...e),V()(this,"masterKeyForm",it,this),p()(this,"submit",async()=>{if(null==this.masterKeyForm)throw new Error("DaedalusTransferMasterKeyFormPage form not set");this.masterKeyForm.submit({onSuccess:async e=>{await this.props.onSubmit(ee()(e).call(e))},onError:()=>{}})})}setMasterKeyFrom(e){this.masterKeyForm=e}render(){const{intl:e}=this.context;return(w.a.createElement(oe.a,{onSubmit:this.submit,onBack:this.props.onBack,step0:e.formatMessage(dt.step0),isDisabled:null==this.masterKeyForm||this.masterKeyForm.hasError},w.a.createElement(gt.a,{setForm:e=>this.setMasterKeyFrom(e),classicTheme:this.props.classicTheme})))}},p()(lt,"contextTypes",{intl:E.f.isRequired}),at=ct,it=m()(at.prototype,"masterKeyForm",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m()(at.prototype,"setMasterKeyFrom",[T.action],i()(at.prototype,"setMasterKeyFrom"),at.prototype),nt=at))||nt;var pt,ht=r(1571),mt=r(41);let ft=Object(b.a)(pt=class extends f.Component{render(){return w.a.createElement(mt.a,{closeOnOverlayClick:!1},w.a.createElement(ht.a,{status:this.props.status}))}})||pt;var wt,Tt,bt,Et=r(347);const yt=Object(E.e)({title:{id:"daedalusTransfer.errorPage.title.label",defaultMessage:"!!!Unable to restore Daedalus wallet"}});let Ct=Object(b.a)((bt=Tt=class extends f.Component{render(){const{intl:e}=this.context,{error:t,onCancel:r,classicTheme:o}=this.props;return w.a.createElement(Et.a,{title:e.formatMessage(yt.title),backButtonLabel:e.formatMessage(W.a.cancel),onCancel:r,error:t,classicTheme:o})}},p()(Tt,"defaultProps",{error:void 0}),p()(Tt,"contextTypes",{intl:E.f.isRequired}),wt=bt))||wt;var vt,St,kt,xt;let Pt=Object(b.a)((xt=kt=class extends f.Component{constructor(...e){super(...e),p()(this,"goToCreateWallet",()=>{this.generated.actions.router.goToRoute.trigger({route:He.a.WALLETS.ADD})}),p()(this,"setupTransferFundsWithMnemonic",async e=>{const t=this.generated.stores.wallets.selected;if(null==t)throw new Error("setupTransferFundsWithMnemonic no wallet selected");await this.generated.actions.daedalusTransfer.setupTransferFundsWithMnemonic.trigger({...e,publicDeriver:t})}),p()(this,"setupTransferFundsWithMasterKey",async e=>{const t=this.generated.stores.wallets.selected;if(null==t)throw new Error("setupTransferFundsWithMasterKey no wallet selected");await this.generated.actions.daedalusTransfer.setupTransferFundsWithMasterKey.trigger({...e,publicDeriver:t})}),p()(this,"transferFunds",async()=>{const e=this.generated.stores.wallets,t=e.selected;if(null==t)throw new Error("transferFunds no wallet selected");await this.generated.actions.daedalusTransfer.transferFunds.trigger({next:async()=>{try{await e.refreshWalletFromRemote(t)}catch(e){}null!=e.selected&&this.generated.actions.router.goToRoute.trigger({route:He.a.WALLETS.ROOT})},publicDeriver:t})}),p()(this,"backToUninitialized",()=>{this.generated.actions.daedalusTransfer.backToUninitialized.trigger()}),p()(this,"cancelTransferFunds",()=>{this.generated.actions.daedalusTransfer.cancelTransferFunds.trigger()})}render(){const{profile:e}=this.generated.stores,t=this.generated.stores.daedalusTransfer,r=this.generated.stores.wallets.selected;if(null==r)throw new Error("setupTransferFundsWithMnemonic no wallet selected");if(Object(ze.b)(r.getParent().getNetworkInfo())!==ze.a.ada)throw new Error("DaedalusTransferPage not ADA API type");switch(t.status){case Ue.a.GETTING_MNEMONICS:return w.a.createElement(st,{onSubmit:this.setupTransferFundsWithMnemonic,onBack:this.backToUninitialized,mnemonicValidator:e=>this.generated.stores.walletRestore.isValidMnemonic({mnemonic:e,mode:{type:"bip44",extra:void 0,length:Pe.a.wallets.DAEDALUS_RECOVERY_PHRASE_WORD_COUNT}}),validWords:U,mnemonicLength:Pe.a.wallets.DAEDALUS_RECOVERY_PHRASE_WORD_COUNT,classicTheme:e.isClassicTheme});case Ue.a.GETTING_PAPER_MNEMONICS:return w.a.createElement(st,{onSubmit:this.setupTransferFundsWithMnemonic,onBack:this.backToUninitialized,mnemonicValidator:e=>this.generated.stores.walletRestore.isValidMnemonic({mnemonic:e,mode:{type:"bip44",extra:"paper",length:Pe.a.wallets.DAEDALUS_PAPER_RECOVERY_PHRASE_WORD_COUNT}}),validWords:U,mnemonicLength:Pe.a.wallets.DAEDALUS_PAPER_RECOVERY_PHRASE_WORD_COUNT,classicTheme:e.isClassicTheme});case Ue.a.GETTING_MASTER_KEY:return w.a.createElement(ut,{onSubmit:this.setupTransferFundsWithMasterKey,onBack:this.backToUninitialized,classicTheme:e.isClassicTheme});case Ue.a.RESTORING_ADDRESSES:case Ue.a.CHECKING_ADDRESSES:case Ue.a.GENERATING_TX:return w.a.createElement(ft,{status:t.status});case Ue.a.READY_TO_TRANSFER:{var o;if(null==t.transferTx)return null;const{intl:e}=this.context;return(w.a.createElement(H.a,{form:null,transferTx:t.transferTx,selectedExplorer:null!==(o=this.generated.stores.explorers.selectedExplorer.get(r.getParent().getNetworkInfo().NetworkId))&&void 0!==o?o:(()=>{throw new Error("No explorer for wallet network")})(),onSubmit:{label:e.formatMessage(W.a.nextButtonLabel),trigger:this.transferFunds},isSubmitting:t.transferFundsRequest.isExecuting,onCancel:{label:e.formatMessage(W.a.cancel),trigger:this.cancelTransferFunds},error:t.error,dialogTitle:e.formatMessage(W.a.walletSendConfirmationDialogTitle),getCurrentPrice:this.generated.stores.coinPriceStore.getCurrentPrice,getTokenInfo:Object(Xe.b)(this.generated.stores.tokenInfoStore.tokenInfo),addressLookup:Object(Ye.e)(r,e,void 0,this.generated.stores.addresses.addressSubgroupMap),unitOfAccountSetting:this.generated.stores.profile.unitOfAccount,addressToDisplayString:e=>Object(Ve.a)(e,r.getParent().getNetworkInfo())}))}case Ue.a.ERROR:return w.a.createElement(Ct,{error:t.error,onCancel:this.cancelTransferFunds,classicTheme:e.isClassicTheme});default:return null}}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("DaedalusTransferPage no way to generated props");const{stores:e,actions:t}=this.props;return c()({stores:{addresses:{addressSubgroupMap:e.addresses.addressSubgroupMap},explorers:{selectedExplorer:e.explorers.selectedExplorer},profile:{isClassicTheme:e.profile.isClassicTheme,unitOfAccount:e.profile.unitOfAccount},walletRestore:{isValidMnemonic:e.walletRestore.isValidMnemonic},tokenInfoStore:{tokenInfo:e.tokenInfoStore.tokenInfo},wallets:{selected:e.wallets.selected,refreshWalletFromRemote:e.wallets.refreshWalletFromRemote},coinPriceStore:{getCurrentPrice:e.coinPriceStore.getCurrentPrice},daedalusTransfer:{status:e.daedalusTransfer.status,error:e.daedalusTransfer.error,transferTx:e.daedalusTransfer.transferTx,transferFundsRequest:{isExecuting:e.daedalusTransfer.transferFundsRequest.isExecuting}}},actions:{router:{goToRoute:{trigger:t.router.goToRoute.trigger}},daedalusTransfer:{backToUninitialized:{trigger:t.daedalusTransfer.backToUninitialized.trigger},cancelTransferFunds:{trigger:t.daedalusTransfer.cancelTransferFunds.trigger},transferFunds:{trigger:t.daedalusTransfer.transferFunds.trigger},setupTransferFundsWithMasterKey:{trigger:t.daedalusTransfer.setupTransferFundsWithMasterKey.trigger},setupTransferFundsWithMnemonic:{trigger:t.daedalusTransfer.setupTransferFundsWithMnemonic.trigger}}}})}},p()(kt,"contextTypes",{intl:E.f.isRequired}),St=xt,m()(St.prototype,"generated",[T.computed],i()(St.prototype,"generated"),St.prototype),vt=St))||vt;var Dt,At,Rt=r(1572),Ot=r(208);let It=Object(b.a)((At=class extends f.Component{constructor(...e){super(...e),p()(this,"startTransferDaedalusFunds",()=>{this.generated.actions.daedalusTransfer.startTransferFunds.trigger()}),p()(this,"startTransferDaedalusPaperFunds",()=>{this.generated.actions.daedalusTransfer.startTransferPaperFunds.trigger()}),p()(this,"startTransferDaedalusMasterKe",()=>{this.generated.actions.daedalusTransfer.startTransferMasterKey.trigger()}),p()(this,"startTransferIcarusFunds",()=>{this.generated.actions.yoroiTransfer.startTransferFunds.trigger({source:{type:"bip44",extra:void 0,length:Pe.a.wallets.WALLET_RECOVERY_PHRASE_WORD_COUNT}})}),p()(this,"startTransferYoroiPaperFunds",()=>{this.generated.actions.yoroiTransfer.startTransferFunds.trigger({source:{type:"bip44",extra:"paper",length:Pe.a.wallets.YOROI_PAPER_RECOVERY_PHRASE_WORD_COUNT}})}),p()(this,"startTransferTrezorFunds",()=>{this.generated.actions.yoroiTransfer.startTransferFunds.trigger({source:{type:"bip44",extra:"trezor"}})}),p()(this,"startTransferLedgerFunds",()=>{this.generated.actions.yoroiTransfer.startTransferFunds.trigger({source:{type:"bip44",extra:"ledger"}})})}render(){return w.a.createElement(Rt.a,{daedalus:{onStandard:this.startTransferDaedalusFunds,onPaper:this.startTransferDaedalusPaperFunds,onMaster:this.startTransferDaedalusMasterKe},icarus:{onStandard:this.startTransferIcarusFunds,onPaper:this.startTransferYoroiPaperFunds,onTrezor:this.startTransferTrezorFunds,onLedger:this.startTransferLedgerFunds},onCancel:this.props.onCancel,complexityLevel:this.generated.stores.profile.selectedComplexityLevel||Ot.a.Simple})}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("ByronEraOptionDialogContainer no way to generated props");const{actions:e,stores:t}=this.props,{daedalusTransfer:r}=e,{yoroiTransfer:o}=e;return c()({stores:{profile:{selectedComplexityLevel:t.profile.selectedComplexityLevel}},actions:{daedalusTransfer:{startTransferFunds:{trigger:r.startTransferFunds.trigger},startTransferPaperFunds:{trigger:r.startTransferPaperFunds.trigger},startTransferMasterKey:{trigger:r.startTransferMasterKey.trigger}},yoroiTransfer:{startTransferFunds:{trigger:o.startTransferFunds.trigger}}}})}},m()(At.prototype,"generated",[T.computed],i()(At.prototype,"generated"),At.prototype),Dt=At))||Dt;var Mt,Nt,Wt,Lt,Ft=r(1573),jt=r(23),qt=r(187),Bt=r(1574),_t=r(502);const Ut=c()({FeeDisclaimer:1,DeregisterDisclaimer:2,Done:3});let Ht=Object(b.a)((Lt=Wt=class extends f.Component{constructor(...e){super(...e),p()(this,"startTransferIcarusRewards",()=>{this.generated.actions.yoroiTransfer.startTransferFunds.trigger({source:{type:"cip1852",extra:void 0,length:Pe.a.wallets.WALLET_RECOVERY_PHRASE_WORD_COUNT,chain:Ke.c.CHIMERIC_ACCOUNT}})}),p()(this,"startTransferYoroiPaperRewards",()=>{this.generated.actions.yoroiTransfer.startTransferFunds.trigger({source:{type:"cip1852",extra:"paper",length:Pe.a.wallets.YOROI_PAPER_RECOVERY_PHRASE_WORD_COUNT,chain:Ke.c.CHIMERIC_ACCOUNT}})}),p()(this,"startTransferPrivateKey",()=>{this.generated.actions.yoroiTransfer.startTransferFunds.trigger({source:{type:"cip1852",extra:"privateKey",derivationLevel:$e.a.ADDRESS.level}})}),p()(this,"callContinuation",()=>{const e=this.generated.stores.uiDialogs.getActiveData("continuation");if(null==e)throw new Error("ShelleyEraOptionDialogContainer empty continuation");e()})}render(){const{intl:e}=this.context,{selected:t}=this.generated.stores.wallets;if(null==t)throw new Error("ShelleyEraOptionDialogContainer no wallet selected");if(t.getParent().getWalletType()===qt.a.HARDWARE_WALLET)return w.a.createElement(Et.a,{error:new jt.r,onCancel:this.props.onCancel,title:"",classicTheme:!1,backButtonLabel:e.formatMessage(W.a.cancel)});const r=this.generated.stores.uiDialogs.getActiveData("disclaimer");return r===Ut.FeeDisclaimer?w.a.createElement(Bt.a,{onBack:()=>this.generated.actions.dialogs.updateDataForActiveDialog.trigger({disclaimer:void 0,continuation:void 0}),onNext:()=>{const e=Ut.DeregisterDisclaimer;this.generated.actions.dialogs.updateDataForActiveDialog.trigger({disclaimer:e}),e===Ut.Done&&this.callContinuation()}}):r===Ut.DeregisterDisclaimer?w.a.createElement(_t.a,d()({},this.generated.DeregisterDialogContainerProps,{alwaysShowDeregister:!1,onNext:()=>{this.generated.actions.dialogs.updateDataForActiveDialog.trigger({disclaimer:Ut.Done}),this.callContinuation()}})):r===Ut.Done?null:w.a.createElement(Ft.a,{onRegular:()=>this.generated.actions.dialogs.updateDataForActiveDialog.trigger({disclaimer:Ut.FeeDisclaimer,continuation:this.startTransferIcarusRewards}),onPaper:()=>this.generated.actions.dialogs.updateDataForActiveDialog.trigger({disclaimer:Ut.FeeDisclaimer,continuation:this.startTransferYoroiPaperRewards}),onPrivateKey:()=>this.generated.actions.dialogs.updateDataForActiveDialog.trigger({disclaimer:Ut.FeeDisclaimer,continuation:this.startTransferPrivateKey}),onCancel:this.props.onCancel})}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("ShelleyEraOptionDialogContainer no way to generated props");const{actions:e,stores:t}=this.props,{yoroiTransfer:r}=e;return c()({stores:{wallets:{selected:t.wallets.selected},uiDialogs:{getActiveData:t.uiDialogs.getActiveData}},actions:{ada:{delegationTransaction:{setShouldDeregister:{trigger:e.ada.delegationTransaction.setShouldDeregister.trigger}}},dialogs:{updateDataForActiveDialog:{trigger:e.dialogs.updateDataForActiveDialog.trigger}},yoroiTransfer:{startTransferFunds:{trigger:r.startTransferFunds.trigger}}},DeregisterDialogContainerProps:{actions:e,stores:t}})}},p()(Wt,"contextTypes",{intl:E.f.isRequired}),Nt=Lt,m()(Nt.prototype,"generated",[T.computed],i()(Nt.prototype,"generated"),Nt.prototype),Mt=Nt))||Mt;var zt,Vt,Kt,Gt,Yt=r(49);let $t=Object(b.a)((Gt=Kt=class extends f.Component{constructor(...e){super(...e),p()(this,"onClose",()=>{this.generated.actions.dialogs.closeActiveDialog.trigger()}),p()(this,"getIcarusTransferDialog",e=>w.a.createElement(Qe,e)),p()(this,"getDaedalusTransferDialog",e=>w.a.createElement(Pt,e))}render(){const{actions:e,stores:t}=this.generated,{uiDialogs:r}=t;let o=null;r.isOpen(It)&&(o=w.a.createElement(It,d()({onCancel:this.onClose},this.generated.ByronEraOptionDialogContainerProps))),r.isOpen(Ht)&&(o=w.a.createElement(Ht,d()({onCancel:this.onClose},this.generated.ShelleyEraOptionDialogContainerProps)));const s=null!=this.generated.YoroiTransferPageProps?this.getIcarusTransferDialog(this.generated.YoroiTransferPageProps):null,n=null!=this.generated.DaedalusTransferPageProps?this.getDaedalusTransferDialog(this.generated.DaedalusTransferPageProps):null,a=this.props.publicDeriver.getParent().getDefaultToken(),i=Object(Xe.b)(this.generated.stores.tokenInfoStore.tokenInfo)({identifier:a.defaultIdentifier,networkId:a.defaultNetworkId});return w.a.createElement(w.a.Fragment,null,w.a.createElement(L.a,{onByron:()=>e.dialogs.open.trigger({dialog:It}),onShelley:()=>e.dialogs.open.trigger({dialog:Ht}),ticker:Object(Yt.i)(Object(Xe.d)(i))}),o,s,n)}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("WalletTransferPage no way to generated props");const{stores:e,actions:t}=this.props;return c()({stores:{uiDialogs:{isOpen:e.uiDialogs.isOpen,getParam:e.uiDialogs.getParam},tokenInfoStore:{tokenInfo:e.tokenInfoStore.tokenInfo}},actions:{yoroiTransfer:{startTransferFunds:{trigger:t.yoroiTransfer.startTransferFunds.trigger}},dialogs:{closeActiveDialog:{trigger:t.dialogs.closeActiveDialog.trigger},open:{trigger:t.dialogs.open.trigger}}},ByronEraOptionDialogContainerProps:{actions:t,stores:e},ShelleyEraOptionDialogContainerProps:{actions:t,stores:e},YoroiTransferPageProps:{actions:t,stores:e},DaedalusTransferPageProps:{actions:t,stores:e}})}},p()(Kt,"contextTypes",{intl:E.f.isRequired}),Vt=Gt,m()(Vt.prototype,"generated",[T.computed],i()(Vt.prototype,"generated"),Vt.prototype),zt=Vt))||zt;var Xt,Qt,Jt,Zt,er=r(1575);let tr=Object(b.a)((Zt=Jt=class extends f.Component{constructor(...e){super(...e),p()(this,"getContent",()=>{const e=this.generated.stores.wallets.selected;return null==e?w.a.createElement(k.a,null):e.getParent().getNetworkInfo().CoinType!==Ke.d.CARDANO?w.a.createElement(D,null):w.a.createElement(w.a.Fragment,null,w.a.createElement(er.a,null),w.a.createElement(S.a,null,w.a.createElement($t,d()({},this.generated.WalletTransferPageProps,{publicDeriver:e}))))})}render(){const e=w.a.createElement(v.a,this.generated.SidebarContainerProps),t=w.a.createElement(N.a,d()({},this.generated.NavBarContainerProps,{title:w.a.createElement(M.a,{title:this.context.intl.formatMessage(W.a.sidebarTransfer)})}));return w.a.createElement(y.a,{banner:w.a.createElement(C.a,this.generated.BannerContainerProps),navbar:t,sidebar:e,showInContainer:!0},this.getContent())}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("Transfer no way to generated props");const{stores:e,actions:t}=this.props;return c()({stores:{app:{currentRoute:e.app.currentRoute},wallets:{selected:e.wallets.selected}},actions:{router:{goToRoute:{trigger:t.router.goToRoute.trigger}}},SidebarContainerProps:{actions:t,stores:e},NavBarContainerProps:{actions:t,stores:e},WalletTransferPageProps:{actions:t,stores:e},BannerContainerProps:{actions:t,stores:e}})}},p()(Jt,"contextTypes",{intl:E.f.isRequired}),p()(Jt,"defaultProps",{children:void 0}),Qt=Zt,m()(Qt.prototype,"generated",[T.computed],i()(Qt.prototype,"generated"),Qt.prototype),Xt=Qt))||Xt},1685:function(e,t,r){"use strict";r.d(t,"a",(function(){return wt}));var o,s,n=r(18),a=r.n(n),i=r(11),l=r.n(i),c=r(28),g=r.n(c),d=r(1),u=r.n(d),p=r(4),h=r.n(p),m=r(0),f=r.n(m),w=r(9),T=r(3),b=r(5),E=r(36),y=r(7),C=r(126),v=r(175),S=r(1393),k=r(1401),x=r(560);let P=Object(w.a)((s=class extends m.Component{render(){return f.a.createElement(x.a,{classicTheme:this.generated.stores.profile.isClassicTheme,onSubmit:this.generated.actions.ada.wallets.createWallet.trigger,onCancel:this.props.onClose})}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("WalletCreateDialogContainer no way to generated props");const{stores:e,actions:t}=this.props;return l()({stores:{profile:{isClassicTheme:e.profile.isClassicTheme}},actions:{ada:{wallets:{createWallet:{trigger:t.ada.wallets.createWallet.trigger}}}}})}},h()(s.prototype,"generated",[T.computed],a()(s.prototype,"generated"),s.prototype),o=s))||o;var D,A,R=r(32),O=r.n(R),I=r(489);let M=Object(w.a)((A=class extends m.Component{constructor(...e){super(...e),u()(this,"onCancelBackup",()=>{this.props.onClose(),this.generated.actions.walletBackup.cancelWalletBackup.trigger()})}render(){const{actions:e,stores:t}=this.generated,{recoveryPhraseWords:r,enteredPhrase:o,isRecoveryPhraseValid:s,countdownRemaining:n,recoveryPhraseSorted:a,isTermDeviceAccepted:i,isTermRecoveryAccepted:l,isPrivacyNoticeAccepted:c,currentStep:g}=t.walletBackup,{startWalletBackup:d,addWordToWalletBackupVerification:u,clearEnteredRecoveryPhrase:p,acceptWalletBackupTermDevice:h,acceptWalletBackupTermRecovery:m,restartWalletBackup:w,finishWalletBackup:T,removeOneMnemonicWord:b,continueToPrivacyWarning:E,acceptPrivacyNoticeForWalletBackup:y,continueToRecoveryPhraseForWalletBackup:C}=e.walletBackup,{createWalletRequest:v}=t.wallets,S=o.length>0;return f.a.createElement(I.a,{currentStep:g,onCancelBackup:this.onCancelBackup,canPhraseBeShown:c&&0===n,isPrivacyNoticeAccepted:c,countdownRemaining:n,onAcceptPrivacyNotice:y.trigger,onBack:E.trigger,onContinue:C.trigger,recoveryPhrase:O()(r).call(r,(e,{word:t})=>`${e} ${t}`,""),onStartWalletBackup:d.trigger,isTermDeviceAccepted:i,enteredPhrase:o,hasWord:S,isTermRecoveryAccepted:l,isValid:s,isSubmitting:v.isExecuting,onAcceptTermDevice:h.trigger,onAcceptTermRecovery:m.trigger,onAddWord:u.trigger,onClear:p.trigger,onFinishBackup:T.trigger,removeWord:()=>{b.trigger()},onRestartBackup:w.trigger,recoveryPhraseSorted:a,classicTheme:t.profile.isClassicTheme})}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("WalletBackupDialogContainer no way to generated props");const{stores:e,actions:t}=this.props;return l()({stores:{profile:{isClassicTheme:e.profile.isClassicTheme},walletBackup:{recoveryPhraseWords:e.walletBackup.recoveryPhraseWords,enteredPhrase:e.walletBackup.enteredPhrase,isRecoveryPhraseValid:e.walletBackup.isRecoveryPhraseValid,countdownRemaining:e.walletBackup.countdownRemaining,recoveryPhraseSorted:e.walletBackup.recoveryPhraseSorted,isTermDeviceAccepted:e.walletBackup.isTermDeviceAccepted,isTermRecoveryAccepted:e.walletBackup.isTermRecoveryAccepted,isPrivacyNoticeAccepted:e.walletBackup.isPrivacyNoticeAccepted,currentStep:e.walletBackup.currentStep},wallets:{createWalletRequest:{isExecuting:e.wallets.createWalletRequest.isExecuting}}},actions:{walletBackup:{cancelWalletBackup:{trigger:t.walletBackup.cancelWalletBackup.trigger},startWalletBackup:{trigger:t.walletBackup.startWalletBackup.trigger},addWordToWalletBackupVerification:{trigger:t.walletBackup.addWordToWalletBackupVerification.trigger},clearEnteredRecoveryPhrase:{trigger:t.walletBackup.clearEnteredRecoveryPhrase.trigger},acceptWalletBackupTermDevice:{trigger:t.walletBackup.acceptWalletBackupTermDevice.trigger},acceptWalletBackupTermRecovery:{trigger:t.walletBackup.acceptWalletBackupTermRecovery.trigger},restartWalletBackup:{trigger:t.walletBackup.restartWalletBackup.trigger},finishWalletBackup:{trigger:t.walletBackup.finishWalletBackup.trigger},removeOneMnemonicWord:{trigger:t.walletBackup.removeOneMnemonicWord.trigger},continueToPrivacyWarning:{trigger:t.walletBackup.continueToPrivacyWarning.trigger},acceptPrivacyNoticeForWalletBackup:{trigger:t.walletBackup.acceptPrivacyNoticeForWalletBackup.trigger},continueToRecoveryPhraseForWalletBackup:{trigger:t.walletBackup.continueToRecoveryPhraseForWalletBackup.trigger}}}})}},h()(A.prototype,"generated",[T.computed],a()(A.prototype,"generated"),A.prototype),D=A))||D;var N,W=r(67),L=r(1407);let F=Object(w.a)(N=class extends m.Component{render(){return f.a.createElement(L.a,{onExternalLinkClick:W.c,onCancel:this.props.onClose,onCardano:this.props.onCardano,onCardanoTestnet:this.props.onCardanoTestnet,onErgo:this.props.onErgo})}})||N;var j,q=r(495);let B=Object(w.a)(j=class extends m.Component{render(){return f.a.createElement(q.a,{onCancel:this.props.onClose,onRestore12:this.props.onRestore12,onRestore15:this.props.onRestore15,onRestore24:this.props.onRestore24,onPaperRestore:this.props.onPaperRestore})}})||j;var _,U,H,z,V,K=r(12),G=r.n(K),Y=(r(59),r(52)),$=r(236),X=r(264),Q=r(677),J=r(278),Z=r(1428),ee=r(23),te=r(308),re=r(679),oe=r(346),se=r(63),ne=r(347),ae=r(46),ie=(r(100),r(17),r(20)),le=r(60),ce=r(39);const ge=Object(b.e)({walletUpgradeNoop:{id:"wallet.restore.dialog.upgrade.noop",defaultMessage:"!!!Your wallet did not need to be upgraded"}});let de=Object(w.a)((V=z=class extends m.Component{constructor(...e){super(...e),G()(this,"notificationElementId",H,this),u()(this,"getSelectedNetwork",()=>{const{selectedNetwork:e}=this.generated.stores.profile;if(void 0===e)throw new Error("WalletRestoreDialogContainer no API selected");return e}),u()(this,"onCancel",()=>{this.props.onClose();const{restoreRequest:e}=this.generated.stores.wallets;e.isExecuting||e.reset()})}componentDidMount(){const{walletRestore:e}=this.props.generated?this.props.generated.actions:this.props.actions;e.reset.trigger(),e.setMode.trigger(this.props.mode)}componentWillUnmount(){this.generated.actions.walletRestore.reset.trigger()}render(){const e=this.generated.actions.walletRestore,t=this.generated.actions,{uiNotifications:r}=this.generated.stores,{walletRestore:o}=this.generated.stores,{wallets:s}=this.generated.stores,{restoreRequest:n}=s,a=this.props.mode,i="paper"===a.extra,l={duration:Y.a.wallets.ADDRESS_COPY_TOOLTIP_NOTIFICATION_DURATION,message:y.a.copyTooltipMessage};switch(o.step){case te.a.START:{if(!a.length)throw new Error("WalletRestoreDialogContainer no length in mode");const e=a.length;return(f.a.createElement(X.a,{mnemonicValidator:e=>this.generated.stores.walletRestore.isValidMnemonic({mnemonic:e,mode:a}),validWords:$,numberOfMnemonics:e,onSubmit:e=>t.walletRestore.submitFields.trigger(e),onCancel:this.onCancel,onBack:this.props.onBack,error:n.error,isPaper:i,showPaperPassword:i,classicTheme:this.generated.stores.profile.isClassicTheme,initValues:o.walletRestoreMeta,introMessage:this.props.introMessage||""}))}case te.a.VERIFY_MNEMONIC:{var c,g,d;let s;n.error instanceof ee.a==!1&&(s=n.error);const a=n.isExecuting||n.error instanceof ee.a;return(f.a.createElement(Q.a,{plates:null!==(c=null===(g=o.recoveryResult)||void 0===g?void 0:g.plates)&&void 0!==c?c:[],selectedExplorer:null!==(d=this.generated.stores.explorers.selectedExplorer.get(this.getSelectedNetwork().NetworkId))&&void 0!==d?d:(()=>{throw new Error("No explorer for wallet network")})(),onNext:t.walletRestore.verifyMnemonic.trigger,onCancel:e.back.trigger,onCopyAddressTooltip:(e,o)=>{r.isOpen(o)||(Object(T.runInAction)(()=>{this.notificationElementId=o}),t.notifications.open.trigger({id:o,duration:l.duration,message:l.message}))},notification:r.getTooltipActiveNotification(this.notificationElementId),isSubmitting:!Object(ie.h)(this.getSelectedNetwork())&&a,error:s}))}case te.a.LEGACY_EXPLANATION:return f.a.createElement(Z.a,{onBack:e.back.trigger,onClose:this.onCancel,onSkip:e.startRestore.trigger,onCheck:e.startCheck.trigger,classicTheme:this.generated.stores.profile.isClassicTheme,isSubmitting:n.isExecuting});case te.a.TRANSFER_TX_GEN:return this._transferDialogContent();default:return null}}_transferDialogContent(){const e=Object(ae.b)(this.getSelectedNetwork());if(e!==ae.a.ada)throw new Error("_transferDialogContent not set to ADA API");const{yoroiTransfer:t}=this.generated.stores,r=this.generated.actions[ae.a.ada].walletRestore,o=this.generated.actions.walletRestore,{profile:s}=this.generated.stores,{intl:n}=this.context;switch(t.status){case se.a.DISPLAY_CHECKSUM:return null;case se.a.RESTORING_ADDRESSES:case se.a.CHECKING_ADDRESSES:case se.a.GENERATING_TX:return f.a.createElement(re.a,{status:t.status});case se.a.READY_TO_TRANSFER:var a;return null==t.transferTx?null:f.a.createElement(J.a,{form:null,transferTx:t.transferTx,selectedExplorer:null!==(a=this.generated.stores.explorers.selectedExplorer.get(this.getSelectedNetwork().NetworkId))&&void 0!==a?a:(()=>{throw new Error("No explorer for wallet network")})(),getTokenInfo:Object(ce.b)(this.generated.stores.tokenInfoStore.tokenInfo),onSubmit:{label:n.formatMessage(y.a.nextButtonLabel),trigger:r.transferFromLegacy.trigger},isSubmitting:this.generated.stores.wallets.sendMoneyRequest.isExecuting,onCancel:{label:n.formatMessage(y.a.cancel),trigger:this.onCancel},error:t.error,addressLookup:()=>{},dialogTitle:n.formatMessage(y.a.walletUpgrade),getCurrentPrice:this.generated.stores.coinPriceStore.getCurrentPrice,unitOfAccountSetting:this.generated.stores.profile.unitOfAccount,addressToDisplayString:e=>Object(le.a)(e,this.getSelectedNetwork())});case se.a.ERROR:return t.error instanceof ee.v?f.a.createElement(oe.a,{title:n.formatMessage(y.a.pdfGenDone),text:n.formatMessage(ge.walletUpgradeNoop),classicTheme:s.isClassicTheme,closeInfo:{closeLabel:n.formatMessage(y.a.continue),onClose:o.startRestore.trigger}}):f.a.createElement(ne.a,{error:t.error,onCancel:this.onCancel,title:"",backButtonLabel:n.formatMessage(y.a.cancel),classicTheme:s.isClassicTheme});case se.a.SUCCESS:case se.a.UNINITIALIZED:return null;default:throw new Error(`WalletRestoreDialogContainer tx status ${t.status}`)}}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("WalletRestoreDialogContainer no way to generated props");const{stores:e,actions:t}=this.props;return l()({stores:{explorers:{selectedExplorer:e.explorers.selectedExplorer},profile:{selectedNetwork:e.profile.selectedNetwork,isClassicTheme:e.profile.isClassicTheme,unitOfAccount:e.profile.unitOfAccount},uiNotifications:{isOpen:e.uiNotifications.isOpen,getTooltipActiveNotification:e.uiNotifications.getTooltipActiveNotification},wallets:{restoreRequest:{isExecuting:e.wallets.restoreRequest.isExecuting,error:e.wallets.restoreRequest.error,reset:e.wallets.restoreRequest.reset},sendMoneyRequest:{isExecuting:e.wallets.sendMoneyRequest.isExecuting}},tokenInfoStore:{tokenInfo:e.tokenInfoStore.tokenInfo},coinPriceStore:{getCurrentPrice:e.coinPriceStore.getCurrentPrice},walletRestore:{step:e.walletRestore.step,recoveryResult:e.walletRestore.recoveryResult,walletRestoreMeta:e.walletRestore.walletRestoreMeta,isValidMnemonic:e.walletRestore.isValidMnemonic},yoroiTransfer:{status:e.yoroiTransfer.status,error:e.yoroiTransfer.error,transferTx:e.yoroiTransfer.transferTx}},actions:{notifications:{open:{trigger:t.notifications.open.trigger}},walletRestore:{reset:{trigger:t.walletRestore.reset.trigger},setMode:{trigger:t.walletRestore.setMode.trigger},back:{trigger:t.walletRestore.back.trigger},verifyMnemonic:{trigger:t.walletRestore.verifyMnemonic.trigger},startRestore:{trigger:t.walletRestore.startRestore.trigger},startCheck:{trigger:t.walletRestore.startCheck.trigger},submitFields:{trigger:t.walletRestore.submitFields.trigger}},ada:{walletRestore:{transferFromLegacy:{trigger:t.walletRestore.transferFromLegacy.trigger}}}}})}},u()(z,"contextTypes",{intl:b.f.isRequired}),u()(z,"defaultProps",{introMessage:void 0}),U=V,H=h()(U.prototype,"notificationElementId",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h()(U.prototype,"generated",[T.computed],a()(U.prototype,"generated"),U.prototype),_=U))||_;var ue,pe=r(412);let he=Object(w.a)(ue=class extends m.Component{render(){return f.a.createElement(pe.a,{onCancel:this.props.onClose,onTrezor:this.props.onTrezor,onLedger:this.props.onLedger})}})||ue;var me,fe,we=r(10),Te=r(1431),be=r(1435),Ee=r(1438),ye=r(93);let Ce=Object(w.a)((fe=class extends m.Component{constructor(...e){super(...e),u()(this,"getSelectedNetwork",()=>{const{selectedNetwork:e}=this.generated.stores.profile;if(void 0===e)throw new Error("WalletTrezorConnectDialogContainer no API selected");return e}),u()(this,"cancel",()=>{const e=Object(ae.b)(this.getSelectedNetwork());if(this.props.onClose(),e!==ae.a.ada)throw new Error("WalletTrezorConnectDialogContainer::cancel not ADA API");this.generated.actions[ae.a.ada].trezorConnect.cancel.trigger()})}componentDidMount(){const{trezorConnect:e}=this.props.generated?this.props.generated.actions.ada:this.props.actions.ada;e.setMode.trigger(this.props.mode)}render(){if(Object(ae.b)(this.getSelectedNetwork())!==ae.a.ada)throw new Error("WalletTrezorConnectDialogContainer::render not ADA API");const{profile:e}=this.generated.stores,t=this.generated.stores.substores[ae.a.ada].trezorConnect,r=this.generated.actions[ae.a.ada].trezorConnect;let o=null;switch(t.progressInfo.currentStep){case ye.a.CHECK:o=f.a.createElement(Te.a,{progressInfo:t.progressInfo,isActionProcessing:t.isActionProcessing,error:t.error,onExternalLinkClick:W.c,submit:r.submitCheck.trigger,cancel:this.cancel,onBack:this.props.onBack,classicTheme:e.isClassicTheme});break;case ye.a.CONNECT:o=f.a.createElement(be.a,{progressInfo:t.progressInfo,isActionProcessing:t.isActionProcessing,error:t.error,onExternalLinkClick:W.c,goBack:r.goBackToCheck.trigger,submit:r.submitConnect.trigger,cancel:this.cancel,classicTheme:e.isClassicTheme});break;case ye.a.SAVE:o=f.a.createElement(Ee.a,{progressInfo:t.progressInfo,isActionProcessing:t.isActionProcessing,error:t.error,defaultWalletName:t.defaultWalletName,onExternalLinkClick:W.c,submit:r.submitSave.trigger,cancel:this.cancel,classicTheme:e.isClassicTheme});break;default:we.a.error("WalletTrezorConnectDialogContainer::render: something unexpected happened")}return o}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("WalletTrezorConnectDialogContainer no way to generated props");const{stores:e,actions:t}=this.props;return l()({stores:{profile:{selectedNetwork:e.profile.selectedNetwork,isClassicTheme:e.profile.isClassicTheme},substores:{ada:{trezorConnect:{progressInfo:e.substores.ada.trezorConnect.progressInfo,isActionProcessing:e.substores.ada.trezorConnect.isActionProcessing,error:e.substores.ada.trezorConnect.error,defaultWalletName:e.substores.ada.trezorConnect.defaultWalletName}}}},actions:{ada:{trezorConnect:{setMode:{trigger:t.ada.trezorConnect.setMode.trigger},submitCheck:{trigger:t.ada.trezorConnect.submitCheck.trigger},goBackToCheck:{trigger:t.ada.trezorConnect.goBackToCheck.trigger},submitConnect:{trigger:t.ada.trezorConnect.submitConnect.trigger},submitSave:{trigger:t.ada.trezorConnect.submitSave.trigger},cancel:{trigger:t.ada.trezorConnect.cancel.trigger}}}}})}},h()(fe.prototype,"generated",[T.computed],a()(fe.prototype,"generated"),fe.prototype),me=fe))||me;var ve,Se,ke,xe,Pe=r(1441),De=r(1444),Ae=r(1447),Re=r(144),Oe=r(85),Ie=(r(50),r(41)),Me=r(682),Ne=r(145),We=r(96),Le=(r(6),r(49));const Fe=Object(b.e)({explanation:{id:"upgradetx.explanation",defaultMessage:"!!!We found some {ticker} in your Byron-era wallet. Would you like to transfer it to your new Shelley wallet?"}});let je=Object(w.a)((xe=ke=class extends m.Component{constructor(...e){super(...e),u()(this,"submit",async e=>{await this.generated.actions.ada.ledgerSend.sendUsingLedgerKey.trigger({...e}),this.props.onSubmit()}),u()(this,"getSpinner",()=>{const{intl:e}=this.context;return(f.a.createElement(Ie.a,{title:e.formatMessage(y.a.processingLabel),closeOnOverlayClick:!1},f.a.createElement(Me.a,null,f.a.createElement(Ne.a,null,f.a.createElement(We.a,null)))))}),u()(this,"toTransferTx",e=>{if(!(e instanceof Re.a))throw new Error("UpgradeTxDialogContainer incorrect tx type");return{recoveredBalance:e.totalOutput().joinAddCopy(e.fee()),fee:e.fee(),senders:e.uniqueSenderAddresses(),receivers:e.receivers(!0)}}),u()(this,"getContent",e=>{var t,r;const o=this.toTransferTx(e.signRequest),s=this.generated.stores.wallets.selected;if(null==s)throw new Error("UpgradeTxDialogContainer no wallet selected");const n=s.getParent().getNetworkInfo(),a=s.getParent().getDefaultToken(),i=Object(ce.b)(this.generated.stores.tokenInfoStore.tokenInfo)({identifier:a.defaultIdentifier,networkId:a.defaultNetworkId}),{intl:l}=this.context,c=f.a.createElement("div",null,l.formatMessage(Fe.explanation,{ticker:Object(Le.i)(Object(ce.d)(i))}),f.a.createElement("br",null),f.a.createElement("br",null)),g=(null===(t=s.getParent().hardwareInfo)||void 0===t?void 0:t.DeviceId)||"";return f.a.createElement(J.a,{header:c,form:void 0,selectedExplorer:null!==(r=this.generated.stores.explorers.selectedExplorer.get(n.NetworkId))&&void 0!==r?r:(()=>{throw new Error("No explorer for wallet network")})(),transferTx:o,getTokenInfo:Object(ce.b)(this.generated.stores.tokenInfoStore.tokenInfo),onSubmit:{trigger:async()=>await this.submit({network:n,addressingMap:Object(Oe.f)(s,this.generated.stores.addresses.addressSubgroupMap),...e,expectedSerial:g}),label:l.formatMessage(y.a.upgradeLabel)},isSubmitting:this.generated.stores.wallets.sendMoneyRequest.isExecuting,onCancel:{trigger:this.props.onClose,label:l.formatMessage(y.a.skipLabel)},error:this.generated.stores.wallets.sendMoneyRequest.error,dialogTitle:l.formatMessage(y.a.walletSendConfirmationDialogTitle),getCurrentPrice:this.generated.stores.coinPriceStore.getCurrentPrice,unitOfAccountSetting:this.generated.stores.profile.unitOfAccount,addressLookup:Object(Oe.e)(s,l,void 0,this.generated.stores.addresses.addressSubgroupMap),addressToDisplayString:e=>Object(le.a)(e,s.getParent().getNetworkInfo())})})}render(){const{transferRequest:e}=this.generated.stores.substores.ada.yoroiTransfer,t=this.generated.stores.wallets.selected;if(null==t)throw new Error("UpgradeTxDialogContainer no wallet selected");for(const e of Oe.c){if(!e.isRelated({selected:t}))continue;const r=this.generated.stores.addresses.addressSubgroupMap.get(e.class);if(null!=r&&!r.wasExecuted)return this.getSpinner()}return null==e.result?this.getSpinner():this.getContent(e.result)}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("UpgradeTxDialogContainer no way to generated props");const{stores:e,actions:t}=this.props;return l()({actions:{ada:{ledgerSend:{sendUsingLedgerKey:{trigger:t.ada.ledgerSend.sendUsingLedgerKey.trigger}}}},stores:{addresses:{addressSubgroupMap:e.addresses.addressSubgroupMap},explorers:{selectedExplorer:e.explorers.selectedExplorer},tokenInfoStore:{tokenInfo:e.tokenInfoStore.tokenInfo},wallets:{selected:e.wallets.selected,sendMoneyRequest:{reset:e.wallets.sendMoneyRequest.reset,error:e.wallets.sendMoneyRequest.error,isExecuting:e.wallets.sendMoneyRequest.isExecuting}},profile:{isClassicTheme:e.profile.isClassicTheme,unitOfAccount:e.profile.unitOfAccount},coinPriceStore:{getCurrentPrice:e.coinPriceStore.getCurrentPrice},substores:{ada:{yoroiTransfer:{transferRequest:{error:e.substores.ada.yoroiTransfer.transferRequest.error,result:e.substores.ada.yoroiTransfer.transferRequest.result,reset:e.substores.ada.yoroiTransfer.transferRequest.reset}}}}}})}},u()(ke,"contextTypes",{intl:b.f.isRequired}),Se=xe,h()(Se.prototype,"generated",[T.computed],a()(Se.prototype,"generated"),Se.prototype),ve=Se))||ve;var qe,Be;let _e=Object(w.a)((Be=class extends m.Component{constructor(...e){super(...e),u()(this,"getSelectedNetwork",()=>{const{selectedNetwork:e}=this.generated.stores.profile;if(void 0===e)throw new Error("WalletLedgerConnectDialogContainer no API selected");return e}),u()(this,"cancel",()=>{if(Object(ae.b)(this.getSelectedNetwork())!==ae.a.ada)throw new Error("WalletLedgerConnectDialogContainer::cancel not ADA API");this.props.onClose(),this.generated.actions[ae.a.ada].ledgerConnect.cancel.trigger()})}componentDidMount(){const{ledgerConnect:e}=this.props.generated?this.props.generated.actions.ada:this.props.actions.ada;e.setMode.trigger(this.props.mode)}render(){if(Object(ae.b)(this.getSelectedNetwork())!==ae.a.ada)throw new Error("WalletLedgerConnectDialogContainer::render not ADA API");const{profile:e}=this.generated.stores,t=this.generated.stores.substores[ae.a.ada].ledgerConnect,r=this.generated.actions[ae.a.ada].ledgerConnect;let o=null;switch(t.progressInfo.currentStep){case ye.a.CHECK:o=f.a.createElement(Pe.a,{progressInfo:t.progressInfo,isActionProcessing:t.isActionProcessing,error:t.error,onExternalLinkClick:W.c,submit:r.submitCheck.trigger,cancel:this.cancel,classicTheme:e.isClassicTheme,onBack:this.props.onBack});break;case ye.a.CONNECT:o=f.a.createElement(De.a,{progressInfo:t.progressInfo,isActionProcessing:t.isActionProcessing,error:t.error,onExternalLinkClick:W.c,goBack:r.goBackToCheck.trigger,submit:r.submitConnect.trigger,cancel:this.cancel,classicTheme:e.isClassicTheme});break;case ye.a.TRANSFER:o=f.a.createElement(je,g()({},this.generated.UpgradeTxDialogContainerProps,{onClose:r.finishTransfer.trigger,onSubmit:r.finishTransfer.trigger}));break;case ye.a.SAVE:o=f.a.createElement(Ae.a,{progressInfo:t.progressInfo,isActionProcessing:t.isActionProcessing,error:t.error,defaultWalletName:t.defaultWalletName,onExternalLinkClick:W.c,submit:r.submitSave.trigger,cancel:this.cancel,classicTheme:e.isClassicTheme});break;default:we.a.error("WalletLedgerConnectDialogContainer::render: something unexpected happened")}return o}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("WalletLedgerConnectDialogContainer no way to generated props");const{stores:e,actions:t}=this.props;return l()({stores:{profile:{selectedNetwork:e.profile.selectedNetwork,isClassicTheme:e.profile.isClassicTheme},substores:{ada:{ledgerConnect:{progressInfo:e.substores.ada.ledgerConnect.progressInfo,isActionProcessing:e.substores.ada.ledgerConnect.isActionProcessing,error:e.substores.ada.ledgerConnect.error,defaultWalletName:e.substores.ada.ledgerConnect.defaultWalletName}}}},actions:{ada:{ledgerConnect:{setMode:{trigger:t.ada.ledgerConnect.setMode.trigger},submitCheck:{trigger:t.ada.ledgerConnect.submitCheck.trigger},goBackToCheck:{trigger:t.ada.ledgerConnect.goBackToCheck.trigger},submitConnect:{trigger:t.ada.ledgerConnect.submitConnect.trigger},submitSave:{trigger:t.ada.ledgerConnect.submitSave.trigger},finishTransfer:{trigger:t.ada.ledgerConnect.finishTransfer.trigger},cancel:{trigger:t.ada.ledgerConnect.cancel.trigger}}}},UpgradeTxDialogContainerProps:{actions:t,stores:e}})}},h()(Be.prototype,"generated",[T.computed],a()(Be.prototype,"generated"),Be.prototype),qe=Be))||qe;var Ue,He=r(1452);let ze=Object(w.a)(Ue=class extends m.Component{render(){return f.a.createElement(He.a,{onCancel:this.props.onClose,onByron:this.props.onByron,onShelley:this.props.onShelley,onBack:this.props.onBack})}})||Ue;var Ve,Ke=r(498);let Ge=Object(w.a)(Ve=class extends m.Component{render(){return f.a.createElement(Ke.a,{onCancel:this.props.onClose,onCreate:this.props.onCreate,onPaper:this.props.onPaper})}})||Ve;var Ye,$e,Xe=r(561),Qe=r(475);let Je=Object(w.a)(($e=class extends m.Component{constructor(...e){super(...e),u()(this,"createPaperWallet",e=>{this.generated.actions.dialogs.open.trigger({dialog:Qe.a}),this.generated.actions.dialogs.updateDataForActiveDialog.trigger(e)})}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("WalletPaperDialogContainer no way to generated props");const{stores:e,actions:t}=this.props;return l()({stores:{profile:{paperWalletsIntro:e.profile.paperWalletsIntro}},actions:{dialogs:{open:{trigger:t.dialogs.open.trigger},updateDataForActiveDialog:{trigger:t.dialogs.updateDataForActiveDialog.trigger}}}})}render(){return f.a.createElement(Xe.a,{onCancel:this.props.onClose,onCreatePaper:this.createPaperWallet,paperWalletsIntroText:this.generated.stores.profile.paperWalletsIntro,error:null})}},h()($e.prototype,"generated",[T.computed],a()($e.prototype,"generated"),$e.prototype),Ye=$e))||Ye;var Ze,et,tt,rt,ot,st=r(367),nt=r(1454),at=r(1457),it=r(1460);const lt=Object(b.e)({verifyPaperWallet:{id:"settings.paperWallet.dialog.verify.message",defaultMessage:"!!!Verify your paper wallet"}});let ct=Object(w.a)((ot=rt=class extends m.Component{constructor(...e){super(...e),G()(this,"notificationElementId",tt,this),u()(this,"getSelectedNetwork",()=>{const{selectedNetwork:e}=this.generated.stores.profile;if(void 0===e)throw new Error("CreatePaperWalletDialogContainer no API selected");return e})}render(){var e;const{intl:t}=this.context,{uiDialogs:r,uiNotifications:o,profile:s}=this.generated.stores,{updateDataForActiveDialog:n}=this.generated.actions.dialogs,a=()=>{const e=this.generated.stores.paperWallets.paper;if(!e)throw new Error("Internal error! Paper instance is not available when should be.");return e},i={duration:Y.a.wallets.ADDRESS_COPY_TOOLTIP_NOTIFICATION_DURATION,message:y.a.copyTooltipMessage},l=()=>{this.generated.actions.dialogs.closeActiveDialog.trigger(),this.generated.actions.paperWallets.cancel.trigger()};switch(this.generated.stores.paperWallets.progressInfo===st.a.INIT&&this.generated.actions.paperWallets.submitInit.trigger({numAddresses:r.getActiveData("numAddresses")||0,printAccountPlate:r.getActiveData("printAccountPlate")||!0}),this.generated.stores.paperWallets.progressInfo){case st.a.USER_PASSWORD:return f.a.createElement(Qe.a,{dialogData:{passwordValue:r.getActiveData("passwordValue")||"",repeatedPasswordValue:r.getActiveData("repeatedPasswordValue")||""},onNext:this.generated.actions.paperWallets.submitUserPassword.trigger,onCancel:l,onDataChange:e=>{n.trigger(e)},classicTheme:s.isClassicTheme});case st.a.CREATE:return f.a.createElement(nt.a,{renderStatus:this.generated.stores.paperWallets.pdfRenderStatus,paperFile:this.generated.stores.paperWallets.pdf,onNext:this.generated.actions.paperWallets.submitCreate.trigger,onCancel:l,loadingGif:f.a.createElement(at.a,null),onDownload:this.generated.actions.paperWallets.downloadPaperWallet.trigger});case st.a.VERIFY:return f.a.createElement(X.a,{onSubmit:e=>this.generated.actions.paperWallets.submitVerify.trigger(),onCancel:l,onBack:this.generated.actions.paperWallets.backToCreate.trigger,numberOfMnemonics:Y.a.wallets.YOROI_PAPER_RECOVERY_PHRASE_WORD_COUNT,mnemonicValidator:e=>null!=this.generated.stores.paperWallets.paper&&e===this.generated.stores.paperWallets.paper.scrambledWords.join(" "),paperPasswordValidator:e=>e===this.generated.stores.paperWallets.userPassword,validWords:$,initValues:this.generated.verifyDefaultValues,isPaper:!0,showPaperPassword:!0,isVerificationMode:!0,classicTheme:s.isClassicTheme,introMessage:t.formatMessage(lt.verifyPaperWallet)});case st.a.FINALIZE:return f.a.createElement(it.a,{paper:a(),selectedExplorer:null!==(e=this.generated.stores.explorers.selectedExplorer.get(this.getSelectedNetwork().NetworkId))&&void 0!==e?e:(()=>{throw new Error("No explorer for wallet network")})(),onNext:l,onCancel:l,onBack:this.generated.actions.paperWallets.backToCreate.trigger,onCopyAddressTooltip:(e,t)=>{o.isOpen(t)||(Object(T.runInAction)(()=>{this.notificationElementId=t}),this.generated.actions.notifications.open.trigger({id:t,duration:i.duration,message:i.message}))},notification:o.getTooltipActiveNotification(this.notificationElementId)});default:return we.a.error("CreatePaperWalletDialogContainer::render: something unexpected happened"),null}}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("CreatePaperWalletDialogContainer no way to generated props");const{stores:e,actions:t}=this.props;return l()({stores:{explorers:{selectedExplorer:e.explorers.selectedExplorer},profile:{paperWalletsIntro:e.profile.paperWalletsIntro,isClassicTheme:e.profile.isClassicTheme,selectedNetwork:e.profile.selectedNetwork},uiDialogs:{getActiveData:e.uiDialogs.getActiveData},uiNotifications:{isOpen:e.uiNotifications.isOpen,getTooltipActiveNotification:e.uiNotifications.getTooltipActiveNotification},paperWallets:{paper:e.substores.ada.paperWallets.paper,progressInfo:e.substores.ada.paperWallets.progressInfo,userPassword:e.substores.ada.paperWallets.userPassword,pdfRenderStatus:e.substores.ada.paperWallets.pdfRenderStatus,pdf:e.substores.ada.paperWallets.pdf}},actions:{dialogs:{updateDataForActiveDialog:{trigger:t.dialogs.updateDataForActiveDialog.trigger},closeActiveDialog:{trigger:t.dialogs.closeActiveDialog.trigger}},notifications:{open:{trigger:t.notifications.open.trigger}},paperWallets:{cancel:{trigger:t.ada.paperWallets.cancel.trigger},submitInit:{trigger:t.ada.paperWallets.submitInit.trigger},submitUserPassword:{trigger:t.ada.paperWallets.submitUserPassword.trigger},backToCreate:{trigger:t.ada.paperWallets.backToCreate.trigger},submitVerify:{trigger:t.ada.paperWallets.submitVerify.trigger},submitCreate:{trigger:t.ada.paperWallets.submitCreate.trigger},downloadPaperWallet:{trigger:t.ada.paperWallets.downloadPaperWallet.trigger}}},verifyDefaultValues:void 0})}},u()(rt,"contextTypes",{intl:b.f.isRequired}),et=ot,tt=h()(et.prototype,"notificationElementId",[T.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h()(et.prototype,"generated",[T.computed],a()(et.prototype,"generated"),et.prototype),Ze=et))||Ze;var gt,dt,ut,pt,ht=r(232),mt=r(348),ft=r(349);let wt=Object(w.a)((pt=ut=class extends m.Component{constructor(...e){super(...e),u()(this,"onClose",()=>{this.generated.stores.wallets.hasAnyWallets||this.generated.actions.router.goToRoute.trigger({route:E.a.WALLETS.ADD}),this.generated.actions.dialogs.closeActiveDialog.trigger()}),u()(this,"openDialogWrapper",e=>{this.generated.actions.profile.setSelectedNetwork.trigger(void 0),this.generated.actions.dialogs.open.trigger({dialog:e})}),u()(this,"_goToSettingsRoot",()=>{this.generated.actions.router.goToRoute.trigger({route:E.a.SETTINGS.ROOT})}),u()(this,"_goToDaedalusTransferRoot",()=>{this.generated.actions.router.goToRoute.trigger({route:E.a.TRANSFER.DAEDALUS})})}componentDidMount(){this.generated.actions.wallets.unselectWallet.trigger()}render(){const{selectedNetwork:e}=this.generated.stores.profile,{actions:t,stores:r}=this.generated,{uiDialogs:o}=r,s=r=>{if(void 0===e)throw new Error("WalletAddPage no API selected");const o=Object(ae.b)(e);if(t.dialogs.push.trigger({dialog:Ce,params:{restoreType:{type:r,extra:"trezor"}}}),o!==ae.a.ada)throw new Error("WalletAddPage not ADA API type");this.generated.actions[ae.a.ada].trezorConnect.init.trigger()},n=r=>{if(void 0===e)throw new Error("WalletAddPage no API selected");const o=Object(ae.b)(e);if(t.dialogs.push.trigger({dialog:_e,params:{restoreType:{type:r,extra:"ledger"}}}),o!==ae.a.ada)throw new Error("WalletAddPage not ADA API type");this.generated.actions[ae.a.ada].ledgerConnect.init.trigger()};let a=null;if(o.hasOpen&&null==e)a=f.a.createElement(F,{onClose:this.onClose,onCardano:()=>t.profile.setSelectedNetwork.trigger(ie.j.CardanoMainnet),onCardanoTestnet:()=>t.profile.setSelectedNetwork.trigger(ie.j.CardanoTestnet),onErgo:o.isOpen(pe.a)?void 0:()=>t.profile.setSelectedNetwork.trigger(ie.j.ErgoMainnet)});else if(o.isOpen(Ke.a)){if(void 0===e)throw new Error("WalletAddPage no API selected");a=f.a.createElement(Ge,{onClose:this.onClose,onCreate:()=>t.dialogs.push.trigger({dialog:x.a}),onPaper:Object(ie.f)(e)?()=>t.dialogs.push.trigger({dialog:Xe.a}):void 0})}else if(o.isOpen(x.a))a=f.a.createElement(P,g()({},this.generated.WalletCreateDialogContainerProps,{onClose:this.onClose}));else if(o.isOpen(Xe.a))a=f.a.createElement(Je,g()({},this.generated.WalletPaperDialogContainerProps,{onClose:this.onClose}));else if(o.isOpen(Qe.a))a=f.a.createElement(ct,this.generated.CreatePaperWalletDialogContainerProps);else if(o.isOpen(I.a))a=f.a.createElement(M,g()({},this.generated.WalletBackupDialogContainerProps,{onClose:this.onClose}));else if(o.isOpen(q.a)){if(void 0===e)throw new Error("WalletAddPage no API selected");a=f.a.createElement(B,{onClose:this.onClose,onRestore12:Object(ie.g)(e)?()=>t.dialogs.push.trigger({dialog:X.a,params:{restoreType:{type:"bip44",extra:void 0,length:12}}}):void 0,onRestore15:()=>Object(ie.f)(e)?t.dialogs.push.trigger({dialog:ze}):t.dialogs.push.trigger({dialog:X.a,params:{restoreType:{type:"bip44",extra:void 0,length:15}}}),onRestore24:Object(ie.h)(e)?void 0:()=>t.dialogs.push.trigger({dialog:X.a,params:{restoreType:{type:"cip1852",extra:void 0,length:24}}}),onPaperRestore:Object(ae.b)(e)!==ae.a.ada||Object(ie.h)(e)?void 0:()=>t.dialogs.push.trigger({dialog:X.a,params:{restoreType:{type:"bip44",extra:"paper",length:21}}})})}else if(o.isOpen(ze)){if(void 0===e)throw new Error("WalletAddPage no API selected");const r=o.getParam("hardware"),i=e=>{if(null==r)return t.dialogs.push.trigger({dialog:X.a,params:{restoreType:{type:e,extra:void 0,length:15}}});"ledger"===r&&n(e),"trezor"===r&&s(e)};a=f.a.createElement(ze,{onClose:this.onClose,onByron:()=>i("bip44"),onShelley:()=>i("cip1852"),onBack:()=>t.dialogs.pop.trigger()})}else if(o.isOpen(X.a)){const e=o.getParam("restoreType");if(null==e)throw new Error("WalletAddPage no mode for restoration selected");a=f.a.createElement(de,g()({},this.generated.WalletRestoreDialogContainerProps,{onClose:this.onClose,onBack:()=>t.dialogs.pop.trigger(),mode:e}))}else if(o.isOpen(pe.a))a=f.a.createElement(he,{onClose:this.onClose,onTrezor:()=>t.dialogs.push.trigger({dialog:ze,params:{hardware:"trezor"}}),onLedger:()=>t.dialogs.push.trigger({dialog:ze,params:{hardware:"ledger"}})});else if(o.isOpen(Ce)){const e=o.getParam("restoreType");if(null==e)throw new Error("WalletAddPage no mode for restoration selected");a=f.a.createElement(Ce,g()({},this.generated.WalletTrezorConnectDialogContainerProps,{mode:e,onClose:this.onClose,onBack:()=>t.dialogs.pop.trigger()}))}else if(o.isOpen(_e)){const e=o.getParam("restoreType");if(null==e)throw new Error("WalletAddPage no mode for restoration selected");a=f.a.createElement(_e,g()({},this.generated.WalletLedgerConnectDialogContainerProps,{mode:e,onClose:this.onClose,onBack:()=>t.dialogs.pop.trigger()}))}const{hasAnyWallets:i}=this.generated.stores.wallets;if(!i)return f.a.createElement(C.a,{banner:f.a.createElement(v.a,this.generated.BannerContainerProps)},f.a.createElement(S.a,{onHardwareConnect:()=>this.openDialogWrapper(pe.a),onCreate:()=>this.openDialogWrapper(Ke.a),onRestore:()=>this.openDialogWrapper(q.a),onSettings:this._goToSettingsRoot,onDaedalusTransfer:this._goToDaedalusTransferRoot}),a);const l=f.a.createElement(mt.a,{title:f.a.createElement(ft.a,{title:this.context.intl.formatMessage(y.a.addWalletLabel)})});return(f.a.createElement(C.a,{banner:f.a.createElement(v.a,this.generated.BannerContainerProps),sidebar:f.a.createElement(ht.a,this.generated.SidebarContainerProps),navbar:l,showInContainer:!0},f.a.createElement(k.a,{onHardwareConnect:()=>this.openDialogWrapper(pe.a),onCreate:()=>this.openDialogWrapper(Ke.a),onRestore:()=>this.openDialogWrapper(q.a)}),a))}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("WalletAddPage no way to generated props");const{stores:e,actions:t}=this.props;return l()({stores:{profile:{selectedNetwork:e.profile.selectedNetwork},uiDialogs:{hasOpen:e.uiDialogs.hasOpen,isOpen:e.uiDialogs.isOpen,getParam:e.uiDialogs.getParam},wallets:{hasAnyWallets:e.wallets.hasAnyWallets}},actions:{router:{goToRoute:{trigger:t.router.goToRoute.trigger}},dialogs:{closeActiveDialog:{trigger:t.dialogs.closeActiveDialog.trigger},open:{trigger:t.dialogs.open.trigger},push:{trigger:t.dialogs.push.trigger},pop:{trigger:t.dialogs.pop.trigger}},profile:{setSelectedNetwork:{trigger:t.profile.setSelectedNetwork.trigger}},wallets:{unselectWallet:{trigger:t.wallets.unselectWallet.trigger}},ada:{trezorConnect:{init:{trigger:t.ada.trezorConnect.init.trigger}},ledgerConnect:{init:{trigger:t.ada.ledgerConnect.init.trigger}}}},SidebarContainerProps:{actions:t,stores:e},WalletCreateDialogContainerProps:{actions:t,stores:e},WalletPaperDialogContainerProps:{actions:t,stores:e},CreatePaperWalletDialogContainerProps:{stores:e,actions:t},WalletBackupDialogContainerProps:{actions:t,stores:e},WalletRestoreDialogContainerProps:{actions:t,stores:e},WalletTrezorConnectDialogContainerProps:{actions:t,stores:e},WalletLedgerConnectDialogContainerProps:{actions:t,stores:e},BannerContainerProps:{actions:t,stores:e}})}},u()(ut,"contextTypes",{intl:b.f.isRequired}),dt=pt,h()(dt.prototype,"generated",[T.computed],a()(dt.prototype,"generated"),dt.prototype),gt=dt))||gt},1686:function(e,t,r){"use strict";r.d(t,"a",(function(){return se}));var o,s,n,a,i,l,c=r(18),g=r.n(c),d=r(11),u=r.n(d),p=r(28),h=r.n(p),m=r(1),f=r.n(m),w=r(4),T=r.n(w),b=r(0),E=r.n(b),y=r(9),C=r(3),v=r(1701),S=r(478),k=r(1702),x=r(564),P=r(565),D=r(1505),A=r(12),R=r.n(A),O=(r(59),r(5)),I=r(7),M=(r(50),r(351));r(17);const N=Object(O.e)({warning2:{id:"wallet.settings.delete.warning2",defaultMessage:"!!!Please double-check you still have the means to restore access to this wallet. If you cannot, removing the wallet may result in irreversible loss of funds."},accept:{id:"wallet.settings.delete.accept",defaultMessage:"!!!I still have the means to restore this wallet"}});let W=Object(y.a)((l=i=class extends b.Component{constructor(...e){super(...e),R()(this,"isChecked",n,this),R()(this,"toggleCheck",a,this)}componentWillUnmount(){this.generated.stores.walletSettings.removeWalletRequest.reset()}render(){const{intl:e}=this.context,t=this.generated.stores.walletSettings,r=this.generated.actions.walletSettings;return E.a.createElement(M.a,{title:e.formatMessage(P.b.titleLabel),checkboxAcknowledge:e.formatMessage(N.accept),isChecked:this.isChecked,toggleCheck:this.toggleCheck,isSubmitting:t.removeWalletRequest.isExecuting,error:t.removeWalletRequest.error,onCancel:this.generated.actions.dialogs.closeActiveDialog.trigger,primaryButton:{label:e.formatMessage(I.a.remove),onClick:()=>this.props.publicDeriver&&r.removeWallet.trigger({publicDeriver:this.props.publicDeriver})},secondaryButton:{onClick:this.generated.actions.dialogs.closeActiveDialog.trigger}},E.a.createElement("p",null,e.formatMessage(P.b.removeExplanation)),E.a.createElement("p",null,e.formatMessage(N.warning2)))}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("RemoveWalletDialogContainer no way to generated props");const{actions:e,stores:t}=this.props,r=e.walletSettings,o=t.walletSettings;return u()({stores:{walletSettings:{removeWalletRequest:{reset:o.removeWalletRequest.reset,isExecuting:o.removeWalletRequest.isExecuting,error:o.removeWalletRequest.error}}},actions:{walletSettings:{removeWallet:{trigger:r.removeWallet.trigger}},dialogs:{closeActiveDialog:{trigger:e.dialogs.closeActiveDialog.trigger}}}})}},f()(i,"contextTypes",{intl:O.f.isRequired}),s=l,n=T()(s.prototype,"isChecked",[C.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=T()(s.prototype,"toggleCheck",[C.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.generated.stores.walletSettings.removeWalletRequest.isExecuting||(this.isChecked=!this.isChecked)}}}),T()(s.prototype,"generated",[C.computed],g()(s.prototype,"generated"),s.prototype),o=s))||o;var L,F,j,q,B=r(1709),_=r(33);let U=Object(y.a)((q=j=class extends b.Component{render(){const{selected:e}=this.generated.stores.wallets;if(null==e)return null;const t=Object(_.g)(e);if(null==t)return null;const{publicKey:r}=this.generated.stores.wallets.getPublicKeyCache(t);return(E.a.createElement(B.a,{onClose:this.generated.actions.dialogs.closeActiveDialog.trigger,publicKeyHex:r,pathToPublic:t.pathToPublic}))}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("ExportWalletDialogContainer no way to generated props");const{actions:e,stores:t}=this.props;return u()({stores:{wallets:{selected:t.wallets.selected,getPublicKeyCache:t.wallets.getPublicKeyCache}},actions:{dialogs:{closeActiveDialog:{trigger:e.dialogs.closeActiveDialog.trigger}}}})}},f()(j,"contextTypes",{intl:O.f.isRequired}),F=q,T()(F.prototype,"generated",[C.computed],g()(F.prototype,"generated"),F.prototype),L=F))||L;var H,z,V,K,G,Y;const $=Object(O.e)({warning:{id:"wallet.settings.resync.warning",defaultMessage:"!!!This will also cause failed transactions to disappear as they are not stored on the blockchain."}});let X=Object(y.a)((Y=G=class extends b.Component{constructor(...e){super(...e),R()(this,"isChecked",V,this),R()(this,"toggleCheck",K,this)}componentWillUnmount(){this.generated.stores.walletSettings.clearHistory.reset()}render(){const{intl:e}=this.context,t=this.generated.stores.walletSettings;return E.a.createElement(M.a,{title:e.formatMessage(x.b.titleLabel),checkboxAcknowledge:e.formatMessage(I.a.uriLandingDialogConfirmLabel),isChecked:this.isChecked,toggleCheck:this.toggleCheck,isSubmitting:t.clearHistory.isExecuting,error:t.clearHistory.error,primaryButton:{label:e.formatMessage(I.a.resyncButtonLabel),onClick:async()=>{await this.generated.actions.walletSettings.resyncHistory.trigger({publicDeriver:this.props.publicDeriver}),this.generated.actions.dialogs.closeActiveDialog.trigger()}},onCancel:this.generated.actions.dialogs.closeActiveDialog.trigger,secondaryButton:{onClick:this.generated.actions.dialogs.closeActiveDialog.trigger}},E.a.createElement("p",null,e.formatMessage(x.b.resyncExplanation)),E.a.createElement("p",null,e.formatMessage($.warning)))}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("ResyncWalletDialogContainer no way to generated props");const{actions:e,stores:t}=this.props,r=e.walletSettings,o=t.walletSettings;return u()({stores:{walletSettings:{clearHistory:{reset:o.clearHistory.reset,isExecuting:o.clearHistory.isExecuting,error:o.clearHistory.error}}},actions:{walletSettings:{resyncHistory:{trigger:r.resyncHistory.trigger}},dialogs:{closeActiveDialog:{trigger:e.dialogs.closeActiveDialog.trigger}}}})}},f()(G,"contextTypes",{intl:O.f.isRequired}),z=Y,V=T()(z.prototype,"isChecked",[C.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),K=T()(z.prototype,"toggleCheck",[C.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.generated.stores.walletSettings.clearHistory.isExecuting||(this.isChecked=!this.isChecked)}}}),T()(z.prototype,"generated",[C.computed],g()(z.prototype,"generated"),z.prototype),H=z))||H;var Q,J,Z=r(73),ee=r(1507);let te=Object(y.a)((J=class extends b.Component{render(){const{actions:e}=this.generated,{uiDialogs:t,profile:r}=this.generated.stores,{walletSettings:o}=this.generated.stores,{updateDataForActiveDialog:s}=e.dialogs,{changeSigningKeyRequest:n}=o;return E.a.createElement(ee.a,{dialogData:{currentPasswordValue:t.getActiveData("currentPasswordValue"),newPasswordValue:t.getActiveData("newPasswordValue"),repeatedPasswordValue:t.getActiveData("repeatedPasswordValue")},onSave:async t=>{const{oldPassword:r,newPassword:o}=t;await e.walletSettings.updateSigningPassword.trigger({publicDeriver:this.props.publicDeriver,oldPassword:r,newPassword:o})},onCancel:()=>{e.dialogs.closeActiveDialog.trigger(),n.reset()},onPasswordSwitchToggle:()=>{n.reset()},onDataChange:e=>{s.trigger(e)},isSubmitting:n.isExecuting,error:n.error,classicTheme:r.isClassicTheme})}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("ChangeWalletPasswordDialogContainer no way to generated props");const{stores:e,actions:t}=this.props,r=t.walletSettings,o=this.props.stores.walletSettings;return u()({stores:{walletSettings:{changeSigningKeyRequest:{reset:o.changeSigningKeyRequest.reset,isExecuting:o.changeSigningKeyRequest.isExecuting,error:o.changeSigningKeyRequest.error}},profile:{isClassicTheme:e.profile.isClassicTheme},uiDialogs:{getActiveData:e.uiDialogs.getActiveData}},actions:{walletSettings:{updateSigningPassword:{trigger:r.updateSigningPassword.trigger}},dialogs:{updateDataForActiveDialog:{trigger:t.dialogs.updateDataForActiveDialog.trigger},closeActiveDialog:{trigger:t.dialogs.closeActiveDialog.trigger}}}})}},T()(J.prototype,"generated",[C.computed],g()(J.prototype,"generated"),J.prototype),Q=J))||Q;var re,oe;r(77);let se=Object(y.a)((oe=class extends b.Component{constructor(...e){super(...e),f()(this,"getDialog",e=>{const{isOpen:t}=this.generated.stores.uiDialogs;return null!=e&&t(te)?E.a.createElement(te,h()({},this.generated.ChangeWalletPasswordDialogContainerProps,{publicDeriver:e})):null!=e&&t(U)?E.a.createElement(U,h()({},this.generated.ExportWalletDialogContainerProps,{publicDeriver:e})):t(W)?E.a.createElement(W,h()({},this.generated.RemoveWalletDialogContainerProps,{publicDeriver:e})):null!=e&&t(X)?E.a.createElement(X,h()({},this.generated.ResyncWalletDialogContainerProps,{publicDeriver:e})):null})}render(){const{profile:e,walletSettings:t}=this.generated.stores,{actions:r}=this.generated,{renameModelRequest:o,lastUpdatedWalletField:s,walletFieldBeingEdited:n}=t,{startEditingWalletField:a,stopEditingWalletField:i,cancelEditingWalletField:l,renameConceptualWallet:c}=r.walletSettings,g=this.generated.stores.wallets;if(null==g.selected)return E.a.createElement(E.a.Fragment,null,this.getDialog(void 0),E.a.createElement(S.a,null));const d=g.selected,u=Object(_.h)(d),p=d.getParent(),h=this.generated.stores.walletSettings.getConceptualWalletSettingsCache(p);return E.a.createElement(E.a.Fragment,null,this.getDialog(d),E.a.createElement(v.a,{error:o.error,walletName:h.conceptualWalletName,isSubmitting:o.isExecuting,isInvalid:o.wasExecuted&&!1===o.result,lastUpdatedField:s,onFieldValueChange:async(e,t)=>{"name"===e&&await c.trigger({publicDeriver:d,newName:t})},onStartEditing:e=>a.trigger({field:e}),onStopEditing:()=>i.trigger(),onCancelEditing:()=>l.trigger(),activeField:n,nameValidator:e=>Object(Z.g)(e),classicTheme:e.isClassicTheme}),null!=u&&E.a.createElement(k.a,{openDialog:()=>r.dialogs.open.trigger({dialog:te}),walletPasswordUpdateDate:this.generated.stores.wallets.getSigningKeyCache(u).signingKeyUpdateDate,classicTheme:e.isClassicTheme}),E.a.createElement(x.a,{openDialog:()=>r.dialogs.open.trigger({dialog:X})}),E.a.createElement(D.a,{openDialog:()=>r.dialogs.open.trigger({dialog:U})}),E.a.createElement(P.a,{walletName:h.conceptualWalletName,openDialog:()=>r.dialogs.open.trigger({dialog:W})}))}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("WalletSettingsPage no way to generated props");const{actions:e,stores:t}=this.props,r=e.walletSettings,o=this.props.stores.walletSettings;return u()({stores:{profile:{isClassicTheme:t.profile.isClassicTheme},walletSettings:{getConceptualWalletSettingsCache:o.getConceptualWalletSettingsCache,renameModelRequest:{error:o.renameModelRequest.error,isExecuting:o.renameModelRequest.isExecuting,wasExecuted:o.renameModelRequest.wasExecuted,result:o.renameModelRequest.result},lastUpdatedWalletField:o.lastUpdatedWalletField,walletFieldBeingEdited:o.walletFieldBeingEdited},uiDialogs:{isOpen:t.uiDialogs.isOpen},wallets:{selected:t.wallets.selected,getSigningKeyCache:t.wallets.getSigningKeyCache}},actions:{walletSettings:{startEditingWalletField:{trigger:r.startEditingWalletField.trigger},stopEditingWalletField:{trigger:r.stopEditingWalletField.trigger},cancelEditingWalletField:{trigger:r.cancelEditingWalletField.trigger},renameConceptualWallet:{trigger:r.renameConceptualWallet.trigger}},dialogs:{open:{trigger:e.dialogs.open.trigger}}},ChangeWalletPasswordDialogContainerProps:{actions:e,stores:t},ExportWalletDialogContainerProps:{actions:e,stores:t},RemoveWalletDialogContainerProps:{actions:e,stores:t},ResyncWalletDialogContainerProps:{actions:e,stores:t}})}},T()(oe.prototype,"generated",[C.computed],g()(oe.prototype,"generated"),oe.prototype),re=oe))||re},1694:function(e,t,r){"use strict";r.d(t,"a",(function(){return F}));var o,s,n,a,i,l,c=r(18),g=r.n(c),d=r(11),u=r.n(d),p=r(28),h=r.n(p),m=r(1),f=r.n(m),w=r(4),T=r.n(w),b=r(0),E=r.n(b),y=r(3),C=r(9),v=r(67),S=r(1517),k=r(10),x=(r(50),r(33)),P=r(12),D=r.n(P),A=(r(59),r(5)),R=r(7),O=r(351);const I=Object(A.e)({includeKeyExplanationLine1:{id:"wallet.includeKey.explanationLine1",defaultMessage:"!!!Do you want to include your wallet's <strong>public</strong> key in the error logs?"},withKey:{id:"wallet.includeKey.withKeyLabel",defaultMessage:"!!!With key"},withoutKey:{id:"wallet.includeKey.withoutKeyLabel",defaultMessage:"!!!Without key"}});let M=Object(C.a)((l=i=class extends b.Component{constructor(...e){super(...e),D()(this,"isChecked",n,this),D()(this,"toggleCheck",a,this)}render(){const{intl:e}=this.context;return(E.a.createElement(O.a,{title:e.formatMessage(R.a.downloadLogsButtonLabel),checkboxAcknowledge:e.formatMessage(R.a.uriLandingDialogConfirmLabel),isChecked:this.isChecked,toggleCheck:this.toggleCheck,isSubmitting:!1,error:void 0,onCancel:this.generated.actions.dialogs.closeActiveDialog.trigger,primaryButton:{label:e.formatMessage(I.withKey),onClick:()=>{this.props.downloadIncludingKey(),this.generated.actions.dialogs.closeActiveDialog.trigger()}},secondaryButton:{label:e.formatMessage(I.withoutKey),onClick:()=>{this.props.downloadExcludingKey(),this.generated.actions.dialogs.closeActiveDialog.trigger()}}},E.a.createElement("p",null,E.a.createElement(A.a,I.includeKeyExplanationLine1)),E.a.createElement("p",null,E.a.createElement(A.a,R.a.publicKeyExplanation))))}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("IncludePublicKeyDialog no way to generated props");const{actions:e}=this.props;return u()({stores:u()({}),actions:{dialogs:{closeActiveDialog:{trigger:e.dialogs.closeActiveDialog.trigger}}}})}},f()(i,"contextTypes",{intl:A.f.isRequired}),s=l,n=T()(s.prototype,"isChecked",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=T()(s.prototype,"toggleCheck",[y.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.isChecked=!this.isChecked}}}),T()(s.prototype,"generated",[y.computed],g()(s.prototype,"generated"),s.prototype),o=s))||o;var N,W,L=r(208);let F=Object(C.a)((W=class extends b.Component{constructor(...e){super(...e),f()(this,"getPublicKey",()=>{const{selected:e}=this.generated.stores.wallets;if(null==e)return;const t=Object(x.g)(e);if(null==t)return;const{publicKey:r}=this.generated.stores.wallets.getPublicKeyCache(t);return r}),f()(this,"handleDownloadLogs",()=>{if(this.generated.stores.profile.selectedComplexityLevel!==L.a.Advanced)return Object(k.b)();if(null==this.getPublicKey())return Object(k.b)();this.generated.actions.dialogs.open.trigger({dialog:M})}),f()(this,"getDialog",()=>this.generated.stores.uiDialogs.isOpen(M)?E.a.createElement(M,h()({downloadIncludingKey:()=>Object(k.b)(this.getPublicKey()),downloadExcludingKey:k.b},this.generated.IncludePublicKeyDialogProps)):null)}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("SupportSettingsPage no way to generated props");const{actions:e,stores:t}=this.props;return u()({actions:{dialogs:{open:{trigger:e.dialogs.open.trigger}}},stores:{profile:{selectedComplexityLevel:t.profile.selectedComplexityLevel},uiDialogs:{isOpen:t.uiDialogs.isOpen},wallets:{selected:t.wallets.selected,getPublicKeyCache:t.wallets.getPublicKeyCache}},IncludePublicKeyDialogProps:{actions:e,stores:t}})}render(){return E.a.createElement(E.a.Fragment,null,this.getDialog(),E.a.createElement(S.a,{onExternalLinkClick:v.c,onDownloadLogs:this.handleDownloadLogs}))}},T()(W.prototype,"generated",[y.computed],g()(W.prototype,"generated"),W.prototype),N=W))||N},1695:function(e,t,r){"use strict";r.d(t,"a",(function(){return H}));var o,s,n=r(18),a=r.n(n),i=r(11),l=r.n(i),c=r(28),g=r.n(c),d=r(12),u=r.n(d),p=r(1),h=r.n(p),m=r(4),f=r.n(m),w=(r(59),r(0)),T=r.n(w),b=r(9),E=r(3),y=r(5),C=r(36),v=r(1704),S=r(566),k=(r(17),r(50),r(100),r(60)),x=r(39);let P=Object(b.a)((s=class extends w.Component{componentWillUnmount(){this.generated.stores.wallets.sendMoneyRequest.reset()}render(){var e;const{signRequest:t,unitOfAccountSetting:r}=this.props,{stores:o,actions:s}=this.generated,n=o.wallets.selected,{profile:a}=o;if(null==n)throw new Error("Active wallet required for WalletSendConfirmationDialogContainer");const{sendMoney:i}=s.wallets,{sendMoneyRequest:l}=o.wallets,c=t.totalInput(),g=t.fee(),d=t.receivers(!1);return T.a.createElement(S.a,{staleTx:this.props.staleTx,selectedExplorer:null!==(e=o.explorers.selectedExplorer.get(n.getParent().getNetworkInfo().NetworkId))&&void 0!==e?e:(()=>{throw new Error("No explorer for wallet network")})(),getTokenInfo:Object(x.b)(this.generated.stores.tokenInfoStore.tokenInfo),getCurrentPrice:this.generated.stores.coinPriceStore.getCurrentPrice,amount:c.joinSubtractCopy(g),receivers:d,totalAmount:c,transactionFee:g,onSubmit:async({password:e})=>{await i.trigger({signRequest:t,password:e,publicDeriver:n})},isSubmitting:l.isExecuting,onCancel:()=>{s.dialogs.closeActiveDialog.trigger(),l.reset()},error:l.error,classicTheme:a.isClassicTheme,unitOfAccountSetting:r,addressToDisplayString:e=>Object(k.a)(e,n.getParent().getNetworkInfo())})}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("WalletSendConfirmationDialogContainer no way to generated props");const{stores:e,actions:t}=this.props;return l()({stores:{explorers:{selectedExplorer:e.explorers.selectedExplorer},profile:{isClassicTheme:e.profile.isClassicTheme},tokenInfoStore:{tokenInfo:e.tokenInfoStore.tokenInfo},coinPriceStore:{getCurrentPrice:e.coinPriceStore.getCurrentPrice},wallets:{selected:e.wallets.selected,sendMoneyRequest:{isExecuting:e.wallets.sendMoneyRequest.isExecuting,reset:e.wallets.sendMoneyRequest.reset,error:e.wallets.sendMoneyRequest.error}}},actions:{dialogs:{closeActiveDialog:{trigger:t.dialogs.closeActiveDialog.trigger}},wallets:{sendMoney:{trigger:t.wallets.sendMoney.trigger}}}})}},f()(s.prototype,"generated",[E.computed],a()(s.prototype,"generated"),s.prototype),o=s))||o;var D,A,R,O,I,M,N=r(312),W=r(187),L=r(77),F=r(144),j=r(46),q=r(73),B=(r(38),r(583));const _=Object(y.e)({infoLine1:{id:"wallet.send.ledger.confirmationDialog.info.line.1",defaultMessage:"!!!After connecting your Ledger device to your computer’s USB port, press the Send using Ledger button."},infoLine2:{id:"wallet.send.ledger.confirmationDialog.info.line.2",defaultMessage:"!!!Make sure Cardano ADA app must remain open on the Ledger device throughout the process."},sendUsingHWButtonLabel:{id:"wallet.send.ledger.confirmationDialog.submit",defaultMessage:"!!!Send using Ledger"}}),U=Object(y.e)({infoLine1:{id:"wallet.send.trezor.confirmationDialog.info.line.1",defaultMessage:"!!!After connecting your Trezor device to your computer, press the Send using Trezor button."},infoLine2:{id:"wallet.send.trezor.confirmationDialog.info.line.2",defaultMessage:"!!!A new tab will appear. Please follow the instructions in the new tab."},sendUsingHWButtonLabel:{id:"wallet.send.trezor.confirmationDialog.submit",defaultMessage:"!!!Send using Trezor"}});let H=Object(b.a)((M=I=class extends w.Component{constructor(...e){super(...e),u()(this,"showMemo",R,this),u()(this,"toggleShowMemo",O,this),h()(this,"renderDialog",()=>{const{uiDialogs:e}=this.generated.stores;return e.isOpen(S.a)?this.webWalletDoConfirmation():e.isOpen(B.a)?this.hardwareWalletDoConfirmation():e.isOpen(N.a)?this.noCloudWarningDialog():""}),h()(this,"webWalletDoConfirmation",()=>{if(!this.generated.stores.wallets.selected)throw new Error("Active wallet required for webWalletDoConfirmation.");const{transactionBuilderStore:e}=this.generated.stores;if(!e.tentativeTx)throw new Error("webWalletDoConfirmation::should never happen");const t=e.tentativeTx;return(T.a.createElement(P,g()({},this.generated.WalletSendConfirmationDialogContainerProps,{signRequest:t,staleTx:e.txMismatch,unitOfAccountSetting:this.generated.stores.profile.unitOfAccount})))}),h()(this,"hardwareWalletDoConfirmation",()=>{var e;const t=this.generated.stores.wallets.selected;if(!t)throw new Error("Active wallet required for webWalletDoConfirmation.");if(Object(j.b)(t.getParent().getNetworkInfo())!==j.a.ada)throw new Error("hardwareWalletDoConfirmation not ADA API type");const r=j.a.ada,{transactionBuilderStore:o}=this.generated.stores;if(!t)throw new Error("Active wallet required for hardwareWalletDoConfirmation.");if(!o.tentativeTx)throw new Error("hardwareWalletDoConfirmation::should never happen");const s=o.tentativeTx,n=s.totalInput(),a=s.fee(),i=s.receivers(!1),l=t.getParent();let c=null;if(!(s instanceof F.a))throw new Error("hardwareWalletDoConfirmation hw wallets only supported for Byron");const g=null!==(e=this.generated.stores.explorers.selectedExplorer.get(t.getParent().getNetworkInfo().NetworkId))&&void 0!==e?e:(()=>{throw new Error("No explorer for wallet network")})();if(Object(L.b)(l)){const e=this.generated.actions[r].ledgerSend;e.init.trigger();const l=this.generated.stores.substores[r].ledgerSend;c=T.a.createElement(B.a,{staleTx:o.txMismatch,selectedExplorer:g,getTokenInfo:Object(x.b)(this.generated.stores.tokenInfoStore.tokenInfo),getCurrentPrice:this.generated.stores.coinPriceStore.getCurrentPrice,amount:n.joinSubtractCopy(a),receivers:i,totalAmount:n,transactionFee:a,messages:_,isSubmitting:l.isActionProcessing,error:l.error,onSubmit:()=>e.sendUsingLedgerWallet.trigger({params:{signRequest:s},publicDeriver:t}),onCancel:e.cancel.trigger,unitOfAccountSetting:this.generated.stores.profile.unitOfAccount,addressToDisplayString:e=>Object(k.a)(e,t.getParent().getNetworkInfo())})}else{if(!Object(L.c)(l))throw new Error("Unsupported hardware wallet found at hardwareWalletDoConfirmation.");{const e=this.generated.actions[r].trezorSend,l=this.generated.stores.substores[r].trezorSend;c=T.a.createElement(B.a,{staleTx:o.txMismatch,getTokenInfo:Object(x.b)(this.generated.stores.tokenInfoStore.tokenInfo),selectedExplorer:g,getCurrentPrice:this.generated.stores.coinPriceStore.getCurrentPrice,amount:n.joinSubtractCopy(a),receivers:i,totalAmount:n,transactionFee:a,messages:U,isSubmitting:l.isActionProcessing,error:l.error,onSubmit:()=>e.sendUsingTrezor.trigger({params:{signRequest:s},publicDeriver:t}),onCancel:e.cancel.trigger,unitOfAccountSetting:this.generated.stores.profile.unitOfAccount,addressToDisplayString:e=>Object(k.a)(e,t.getParent().getNetworkInfo())})}}return c}),h()(this,"showMemoDialog",e=>{if(this.generated.stores.memos.hasSetSelectedExternalStorageProvider)return e.continuation();this.generated.actions.dialogs.push.trigger({dialog:e.dialog,params:{continuation:e.continuation}})}),h()(this,"noCloudWarningDialog",()=>{const{actions:e}=this.generated;return(T.a.createElement(N.a,{onCancel:e.memos.closeMemoDialog.trigger,addExternal:()=>{e.memos.closeMemoDialog.trigger(),e.router.goToRoute.trigger({route:C.a.SETTINGS.EXTERNAL_STORAGE})},onAcknowledge:()=>{this.generated.stores.uiDialogs.getParam("continuation")()}}))})}componentDidMount(){Object(E.runInAction)(()=>{this.showMemo=this.generated.initialShowMemoState})}render(){const e=this.generated.stores.wallets.selected;if(!e)throw new Error("Active wallet required for WalletSendPage.");const{transactionBuilderStore:t}=this.generated.stores,{uiDialogs:r,profile:o}=this.generated.stores,{actions:s}=this.generated,{hasAnyPending:n}=this.generated.stores.transactions,{txBuilderActions:a}=this.generated.actions;r.isOpen&&n&&s.dialogs.closeActiveDialog.trigger();const i=e.getParent().getWalletType()===W.a.HARDWARE_WALLET?B.a:S.a,l=this.generated.stores.tokenInfoStore.getDefaultTokenInfo(e.getParent().getNetworkInfo().NetworkId);return T.a.createElement(T.a.Fragment,null,T.a.createElement(v.a,{selectedNetwork:e.getParent().getNetworkInfo(),validateAmount:r=>{var o;return Object(q.j)(r,null!==(o=t.selectedToken)&&void 0!==o?o:l,Object(q.b)(e.getParent().getNetworkInfo()),this.context.intl)},defaultToken:l,getTokenInfo:Object(x.b)(this.generated.stores.tokenInfoStore.tokenInfo),onSubmit:()=>{s.dialogs.push.trigger({dialog:i}),a.updateTentativeTx.trigger()},totalInput:t.totalInput,hasAnyPending:n,classicTheme:o.isClassicTheme,updateReceiver:e=>a.updateReceiver.trigger(e),updateAmount:e=>a.updateAmount.trigger(e),updateMemo:e=>a.updateMemo.trigger(e),shouldSendAll:t.shouldSendAll,toggleSendAll:a.toggleSendAll.trigger,fee:t.fee,isCalculatingFee:t.createUnsignedTx.isExecuting,reset:a.reset.trigger,error:t.createUnsignedTx.error,uriParams:this.generated.stores.loading.uriParams,resetUriParams:this.generated.stores.loading.resetUriParams,showMemo:this.showMemo,onAddMemo:()=>this.showMemoDialog({dialog:N.a,continuation:this.toggleShowMemo}),spendableBalance:this.generated.stores.transactions.getBalanceRequest.result,onAddToken:a.updateToken.trigger,selectedToken:t.selectedToken}),this.renderDialog())}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("WalletSendPage no way to generated props");const{stores:e,actions:t}=this.props,r=e.substores.ada;return l()({stores:{explorers:{selectedExplorer:e.explorers.selectedExplorer},profile:{isClassicTheme:e.profile.isClassicTheme,unitOfAccount:e.profile.unitOfAccount},wallets:{selected:e.wallets.selected},tokenInfoStore:{tokenInfo:e.tokenInfoStore.tokenInfo,getDefaultTokenInfo:e.tokenInfoStore.getDefaultTokenInfo},memos:{hasSetSelectedExternalStorageProvider:e.memos.hasSetSelectedExternalStorageProvider},loading:{uriParams:e.loading.uriParams,resetUriParams:e.loading.resetUriParams},coinPriceStore:{getCurrentPrice:e.coinPriceStore.getCurrentPrice},uiDialogs:{isOpen:e.uiDialogs.isOpen,getParam:e.uiDialogs.getParam},transactions:{hasAnyPending:e.transactions.hasAnyPending,getBalanceRequest:(()=>{if(null==e.wallets.selected)return{result:void 0};const{requests:t}=e.transactions.getTxRequests(e.wallets.selected);return{result:t.getBalanceRequest.result}})()},transactionBuilderStore:{totalInput:e.transactionBuilderStore.totalInput,fee:e.transactionBuilderStore.fee,shouldSendAll:e.transactionBuilderStore.shouldSendAll,tentativeTx:e.transactionBuilderStore.tentativeTx,txMismatch:e.transactionBuilderStore.txMismatch,createUnsignedTx:{isExecuting:e.transactionBuilderStore.createUnsignedTx.isExecuting,error:e.transactionBuilderStore.createUnsignedTx.error},selectedToken:e.transactionBuilderStore.selectedToken},substores:{ada:{ledgerSend:{isActionProcessing:r.ledgerSend.isActionProcessing,error:r.ledgerSend.error},trezorSend:{isActionProcessing:r.trezorSend.isActionProcessing,error:r.trezorSend.error}}}},actions:{dialogs:{push:{trigger:t.dialogs.push.trigger},closeActiveDialog:{trigger:t.dialogs.closeActiveDialog.trigger}},router:{goToRoute:{trigger:t.router.goToRoute.trigger}},memos:{closeMemoDialog:{trigger:t.memos.closeMemoDialog.trigger}},txBuilderActions:{updateTentativeTx:{trigger:t.txBuilderActions.updateTentativeTx.trigger},updateReceiver:{trigger:t.txBuilderActions.updateReceiver.trigger},updateAmount:{trigger:t.txBuilderActions.updateAmount.trigger},updateToken:{trigger:t.txBuilderActions.updateToken.trigger},toggleSendAll:{trigger:t.txBuilderActions.toggleSendAll.trigger},reset:{trigger:t.txBuilderActions.reset.trigger},updateMemo:{trigger:t.txBuilderActions.updateMemo.trigger}},ada:{ledgerSend:{init:{trigger:t.ada.ledgerSend.init.trigger},cancel:{trigger:t.ada.ledgerSend.cancel.trigger},sendUsingLedgerWallet:{trigger:t.ada.ledgerSend.sendUsingLedgerWallet.trigger}},trezorSend:{cancel:{trigger:t.ada.trezorSend.cancel.trigger},sendUsingTrezor:{trigger:t.ada.trezorSend.sendUsingTrezor.trigger}}}},initialShowMemoState:!1,WalletSendConfirmationDialogContainerProps:{actions:t,stores:e}})}},h()(I,"contextTypes",{intl:y.f.isRequired}),A=M,R=f()(A.prototype,"showMemo",[E.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=f()(A.prototype,"toggleShowMemo",[E.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showMemo=!this.showMemo,this.generated.actions.memos.closeMemoDialog.trigger()}}}),f()(A.prototype,"generated",[E.computed],a()(A.prototype,"generated"),A.prototype),D=A))||D},1696:function(e,t,r){"use strict";r.d(t,"a",(function(){return W}));var o,s,n,a,i=r(18),l=r.n(i),c=r(11),g=r.n(c),d=r(28),u=r.n(d),p=r(68),h=r.n(p),m=r(1),f=r.n(m),w=r(4),T=r.n(w),b=r(0),E=r.n(b),y=r(3),C=r(9),v=r(36),S=r(12),k=r.n(S),x=(r(59),r(1557)),P=r(1559),D=r(1560),A=(r(100),r(20)),R=(r(50),r(39));let O=Object(C.a)((s=class extends b.Component{constructor(...e){super(...e),k()(this,"showDisclaimer",n,this),k()(this,"toggleShowDisclaimer",a,this),f()(this,"onSubmit",()=>{this.toggleShowDisclaimer()}),f()(this,"onVerifiedSubmit",()=>{this.props.onConfirm()}),f()(this,"onCancel",()=>{this.props.onClose()})}render(){if(!this.generated.stores.loading.uriParams||null==this.generated.firstSelectedWallet)return E.a.createElement(D.a,{onClose:this.onCancel,onSubmit:this.onCancel,address:this.generated.stores.loading.uriParams?this.generated.stores.loading.uriParams.address:null});const e=this.generated.stores.loading.uriParams,t=A.j.CardanoMainnet;var r;return this.showDisclaimer?E.a.createElement(x.a,{onSubmit:this.toggleShowDisclaimer,onClose:this.onCancel,classicTheme:this.generated.stores.profile.isClassicTheme}):E.a.createElement(P.a,{onSubmit:this.onVerifiedSubmit,onBack:this.toggleShowDisclaimer,onCancel:this.onCancel,uriParams:e,selectedExplorer:null!==(r=this.generated.stores.explorers.selectedExplorer.get(t.NetworkId))&&void 0!==r?r:(()=>{throw new Error("No explorer for wallet network")})(),unitOfAccountSetting:this.generated.stores.profile.unitOfAccount,getTokenInfo:Object(R.b)(this.generated.stores.tokenInfoStore.tokenInfo),getCurrentPrice:this.generated.stores.coinPriceStore.getCurrentPrice})}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("URILandingDialogContainer no way to generated props");const{stores:e,firstSelectedWallet:t}=this.props;return g()({stores:{explorers:{selectedExplorer:e.explorers.selectedExplorer},profile:{isClassicTheme:e.profile.isClassicTheme,unitOfAccount:e.profile.unitOfAccount},coinPriceStore:{getCurrentPrice:e.coinPriceStore.getCurrentPrice},tokenInfoStore:{tokenInfo:e.tokenInfoStore.tokenInfo},loading:{uriParams:e.loading.uriParams}},firstSelectedWallet:t})}},n=T()(s.prototype,"showDisclaimer",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),a=T()(s.prototype,"toggleShowDisclaimer",[y.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showDisclaimer=!this.showDisclaimer}}}),T()(s.prototype,"generated",[y.computed],l()(s.prototype,"generated"),s.prototype),o=s))||o;var I,M,N=r(60);let W=Object(C.a)((M=class extends b.Component{constructor(...e){super(...e),f()(this,"onClose",()=>{this.generated.actions.dialogs.closeActiveDialog.trigger(),this.generated.actions.router.goToRoute.trigger({route:v.a.WALLETS.ROOT}),this.generated.stores.loading.resetUriParams()}),f()(this,"onConfirm",()=>{const e=this.firstSelectedWallet();this.generated.actions.router.goToRoute.trigger({route:v.a.WALLETS.SEND,publicDeriver:e})}),f()(this,"firstSelectedWallet",()=>{const e=this.generated.stores.wallets.publicDerivers,t=h()(e).call(e,e=>{var t;return!(null===(t=this.generated.stores.loading.uriParams)||void 0===t||!t.address||!0!==Object(N.h)(this.generated.stores.loading.uriParams.address,e.getParent().getNetworkInfo()))});return void 0!==t?t:null})}render(){return E.a.createElement(O,u()({},this.generated.URILandingDialogContainerProps,{onConfirm:this.onConfirm,onClose:this.onClose,firstSelectedWallet:this.firstSelectedWallet()}))}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("URILandingDialogContainer no way to generated props");const{actions:e,stores:t}=this.props;return g()({stores:{profile:{isClassicTheme:t.profile.isClassicTheme},loading:{uriParams:t.loading.uriParams,resetUriParams:t.loading.resetUriParams},wallets:{hasAnyWallets:t.wallets.hasAnyWallets,publicDerivers:t.wallets.publicDerivers}},actions:{dialogs:{closeActiveDialog:{trigger:e.dialogs.closeActiveDialog.trigger}},router:{goToRoute:{trigger:e.router.goToRoute.trigger}}},URILandingDialogContainerProps:{stores:t,actions:e}})}},T()(M.prototype,"generated",[y.computed],l()(M.prototype,"generated"),M.prototype),I=M))||I},1697:function(e,t,r){"use strict";r.d(t,"a",(function(){return he}));var o,s,n,a,i=r(18),l=r.n(i),c=r(11),g=r.n(c),d=r(35),u=r.n(d),p=r(55),h=r.n(p),m=r(28),f=r.n(m),w=r(66),T=r.n(w),b=r(8),E=r.n(b),y=r(92),C=r.n(y),v=r(12),S=r.n(v),k=r(1),x=r.n(k),P=r(4),D=r.n(P),A=(r(59),r(0)),R=r.n(A),O=r(5),I=r(26),M=r.n(I),N=r(9),W=r(1693),L=r(1705),F=r(702),j=r(736),q=r(41),B=r(228),_=r(51),U=r(135),H=r(259),z=r(737),V=r(738),K=r(370),G=r(118),Y=r(67),$=(r(17),r(368)),X=r(52),Q=r(3),J=r(743),Z=(r(50),r(46)),ee=r(20);let te=Object(N.a)((a=n=class extends A.Component{constructor(...e){super(...e),x()(this,"_leftPadDate",e=>e<10?"0"+e:e.toString())}async componentDidMount(){const e=this.generated.stores.time;if(null==this.props.publicDeriver)throw new Error("EpochProgressContainer no public deriver. Should never happen");const t=e.getTimeCalcRequests(this.props.publicDeriver);await t.requests.currentEpochLength.execute().promise,await t.requests.currentSlotLength.execute().promise}render(){const e=this.generated.stores.time,t=e.getTimeCalcRequests(this.props.publicDeriver),r=e.getCurrentTimeRequests(this.props.publicDeriver),o=t.requests.currentEpochLength.result;if(null==o)return R.a.createElement(J.a,{loading:!0});const s=t.requests.currentSlotLength.result;if(null==s)return R.a.createElement(J.a,{loading:!0});const n=o(),a=(n-r.currentSlot)*s(),i=new Date(1e3*a-r.msIntoSlot),l=new Date(1e3*n*s()-r.msIntoSlot).getUTCDate()>1;return R.a.createElement(J.a,{currentEpoch:r.currentEpoch,percentage:Math.floor(100*r.currentSlot/n),endTime:{d:l?this._leftPadDate(i.getUTCDate()-1):void 0,h:this._leftPadDate(i.getUTCHours()),m:this._leftPadDate(i.getUTCMinutes()),s:this._leftPadDate(i.getUTCSeconds())},showTooltip:this.props.showTooltip,useEndOfEpoch:!Object(ee.h)(this.props.publicDeriver.getParent().getNetworkInfo())})}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("EpochProgressContainer no way to generated props");const{stores:e}=this.props,t=e.wallets.selected;if(null==t)throw new Error("EpochProgressContainer no wallet selected");const r=Object(Z.b)(t.getParent().getNetworkInfo()),o=(()=>{if(r===Z.a.ada)return{getTimeCalcRequests:e.substores.ada.time.getTimeCalcRequests,getCurrentTimeRequests:e.substores.ada.time.getCurrentTimeRequests};if(r===Z.a.jormungandr)return{getTimeCalcRequests:e.substores.jormungandr.time.getTimeCalcRequests,getCurrentTimeRequests:e.substores.jormungandr.time.getCurrentTimeRequests};throw new Error("EpochProgressContainer api not supported")})();return g()({stores:{time:o}})}},x()(n,"contextTypes",{intl:O.f.isRequired}),s=a,D()(s.prototype,"generated",[Q.computed],l()(s.prototype,"generated"),s.prototype),o=s))||o;var re,oe,se,ne,ae,ie=r(174),le=(r(100),r(7)),ce=r(502),ge=r(501),de=r(38),ue=r(39),pe=r(49);let he=Object(N.a)((ae=ne=class extends A.Component{constructor(...e){super(...e),S()(this,"notificationElementId",se,this),x()(this,"getEpochLengthInDays",e=>{const t=this.generated.stores.time.getTimeCalcRequests(e),r=t.requests.currentEpochLength.result;if(null==r)return null;const o=t.requests.currentSlotLength.result;return null==o?null:r()*o()/86400}),x()(this,"generatePopupDialog",e=>{if(!Object(ee.h)(e.getParent().getNetworkInfo()))return null;const{uiDialogs:t}=this.generated.stores,r=this.generated.stores.substores.jormungandr.delegationTransaction,o=()=>{this.generated.actions.dialogs.closeActiveDialog.trigger(),this.generated.actions.jormungandr.delegationTransaction.reset.trigger()};if(null!=r.createDelegationTx.error){const{intl:e}=this.context;return(R.a.createElement(q.a,{title:e.formatMessage(le.a.errorLabel),closeOnOverlayClick:!1,onClose:o,closeButton:R.a.createElement(_.a,{onClose:o}),actions:[{label:e.formatMessage(le.a.backButtonLabel),onClick:o,primary:!0}]},R.a.createElement(R.a.Fragment,null,R.a.createElement("center",null,R.a.createElement(H.a,null)),R.a.createElement(U.a,{error:r.createDelegationTx.error}))))}if(!t.isOpen(j.a))return null;const s=r.createDelegationTx.result;return null==s?null:R.a.createElement(j.a,{onCancel:o,classicTheme:this.generated.stores.profile.isClassicTheme,error:this.generated.stores.wallets.sendMoneyRequest.error,onSubmit:async t=>{await this.generated.actions.jormungandr.delegationTransaction.signTransaction.trigger({password:t.password,publicDeriver:e}),o()},getTokenInfo:Object(ue.b)(this.generated.stores.tokenInfoStore.tokenInfo),generatingTx:this.generated.stores.substores.jormungandr.delegationTransaction.createDelegationTx.isExecuting,isSubmitting:this.generated.stores.wallets.sendMoneyRequest.isExecuting,transactionFee:Object(B.b)(s.signTxRequest.self(),e.getParent().getNetworkInfo().NetworkId),staleTx:r.isStale})}),x()(this,"getRewardInfo",e=>{var t;const r=this.generated.stores.time,o=r.getTimeCalcRequests(e),s=r.getCurrentTimeRequests(e),n=o.requests.toAbsoluteSlot.result;if(null==n)return;const a=o.requests.toRealTime.result;if(null==a)return;const i=o.requests.timeSinceGenesis.result;if(null==i)return;const l=o.requests.currentEpochLength.result;if(null==l)return;const c=this.generated.stores.delegation.getDelegationRequests(e);if(null==c)throw new Error("StakingDashboardPage opened for non-reward wallet");const g=this._isRegistered(e);let d=void 0;if(c.getCurrentDelegation.wasExecuted&&!c.getCurrentDelegation.isExecuting){const{result:t}=c.getCurrentDelegation;if(null==t||null==t.currEpoch)d={rewardPopup:R.a.createElement(z.a,{unregistered:!1===g,useEndOfEpoch:!Object(ee.h)(e.getParent().getNetworkInfo()),content:[this.generateUpcomingRewardInfo({epoch:s.currentEpoch,pools:[],toAbsoluteSlot:n,toRealTime:a,timeSinceGenesis:i,getEpochLength:l,publicDeriver:e,isCurrentEpoch:!0}),this.generateUpcomingRewardInfo({epoch:s.currentEpoch+1,pools:[],toAbsoluteSlot:n,toRealTime:a,timeSinceGenesis:i,getEpochLength:l,publicDeriver:e}),this.generateUpcomingRewardInfo({epoch:s.currentEpoch+2,pools:[],toAbsoluteSlot:n,toRealTime:a,timeSinceGenesis:i,getEpochLength:l,publicDeriver:e}),this.generateUpcomingRewardInfo({epoch:s.currentEpoch+3,pools:[],toAbsoluteSlot:n,toRealTime:a,timeSinceGenesis:i,getEpochLength:l,publicDeriver:e})],showWarning:!1,onExternalLinkClick:Y.c,baseUrl:""}),showWarning:!1};else{var u;const r=t.currEpoch,o=[];for(let t=5;t>=2;t--)o.unshift(this.generateUpcomingRewardInfo({epoch:s.currentEpoch+t+1,pools:r.pools,toAbsoluteSlot:n,toRealTime:a,timeSinceGenesis:i,getEpochLength:l,publicDeriver:e}));t.prevEpoch&&o.unshift(this.generateUpcomingRewardInfo({epoch:s.currentEpoch+2,pools:t.prevEpoch.pools,toAbsoluteSlot:n,toRealTime:a,timeSinceGenesis:i,getEpochLength:l,publicDeriver:e})),t.prevPrevEpoch&&o.unshift(this.generateUpcomingRewardInfo({epoch:s.currentEpoch+1,pools:t.prevPrevEpoch.pools,toAbsoluteSlot:n,toRealTime:a,timeSinceGenesis:i,getEpochLength:l,publicDeriver:e})),t.prevPrevPrevEpoch&&o.unshift(this.generateUpcomingRewardInfo({epoch:s.currentEpoch,pools:t.prevPrevPrevEpoch.pools,toAbsoluteSlot:n,toRealTime:a,timeSinceGenesis:i,getEpochLength:l,publicDeriver:e,isCurrentEpoch:!0}));const c=null===(u=this.generated.stores.explorers.selectedExplorer.get(e.getParent().getNetworkInfo().NetworkId))||void 0===u?void 0:u.getOrDefault("pool"),p=C()(o).call(o,0,4);d={rewardPopup:R.a.createElement(z.a,{unregistered:!1===g,useEndOfEpoch:!Object(ee.h)(e.getParent().getNetworkInfo()),content:p,showWarning:4===o.length,onExternalLinkClick:Y.c,baseUrl:null==c?void 0:c.baseUrl}),showWarning:4===o.length}}}return null!==(t=d)&&void 0!==t?t:{rewardPopup:R.a.createElement(z.a,{unregistered:!1===g,useEndOfEpoch:!Object(ee.h)(e.getParent().getNetworkInfo()),content:[null,null,null,null],showWarning:!1,onExternalLinkClick:Y.c,baseUrl:""}),showWarning:!1}}),x()(this,"generateUpcomingRewardInfo",e=>{var t;const r=e.toRealTime({absoluteSlotNum:e.toAbsoluteSlot({epoch:e.epoch,slot:Object(ee.h)(e.publicDeriver.getParent().getNetworkInfo())?0:e.getEpochLength()}),timeSinceGenesisFunc:e.timeSinceGenesis}),o=M()(r);return{pools:E()(t=e.pools).call(t,t=>{var r,o;const s=this.generated.stores.delegation.getLocalPoolInfo(e.publicDeriver.getParent().getNetworkInfo(),t[0]);return null==s?{id:t}:{id:t,ticker:null===(r=s.info)||void 0===r?void 0:r.ticker,name:null===(o=s.info)||void 0===o?void 0:o.name}}),epoch:e.epoch,time:[o.format("MMM Do"),o.format("hh"),o.format("mm"),o.format("ss"),o.format("A")],isCurrentEpoch:e.isCurrentEpoch}}),x()(this,"getErrorInFetch",e=>{const t=this.generated.stores.delegation.getDelegationRequests(e);if(null==t)throw new Error("StakingDashboardPage opened for non-reward wallet");if(null!=t.error)return{error:t.error};if(null!=t.getCurrentDelegation.result){if(null==t.getCurrentDelegation.result.currEpoch)return}}),x()(this,"getStakePools",e=>{const t=this.generated.stores.delegation.getDelegationRequests(e);if(null==t)throw new Error("StakingDashboardPage opened for non-reward wallet");if(!t.getCurrentDelegation.wasExecuted||t.getCurrentDelegation.isExecuting||null==t.getCurrentDelegation.result)return{pools:null};if(null==t.getCurrentDelegation.result.currEpoch)return{pools:[]};const r=t.getCurrentDelegation.result.currEpoch.pools,o={duration:X.a.wallets.ADDRESS_COPY_TOOLTIP_NOTIFICATION_DURATION,message:le.a.copyTooltipMessage},{uiNotifications:s}=this.generated.stores,{intl:n}=this.context;return{pools:E()(r).call(r,t=>{var a,i,l,c;const g=this.generated.stores.delegation.getLocalPoolInfo(e.getParent().getNetworkInfo(),t[0]);if(null==g)return;const d=null!==(a=null===(i=g.info)||void 0===i?void 0:i.name)&&void 0!==a?a:n.formatMessage(le.a.unknownPoolLabel),u=null!=(null===(l=g.info)||void 0===l?void 0:l.homepage)?{openPoolPage:Y.c,url:g.info.homepage}:void 0;return R.a.createElement(F.a,{purpose:"dashboard",poolName:d,key:Object(G.a)(T()(g),0),data:{},selectedExplorer:null!==(c=this.generated.stores.explorers.selectedExplorer.get(e.getParent().getNetworkInfo().NetworkId))&&void 0!==c?c:(()=>{throw new Error("No explorer for wallet network")})(),hash:t[0],moreInfo:u,classicTheme:this.generated.stores.profile.isClassicTheme,onCopyAddressTooltip:(e,t)=>{s.isOpen(t)||(Object(Q.runInAction)(()=>{this.notificationElementId=t}),this.generated.actions.notifications.open.trigger({id:t,duration:o.duration,message:o.message}))},notification:null==this.notificationElementId?null:s.getTooltipActiveNotification(this.notificationElementId),undelegate:1===r.length&&Object(ee.h)(e.getParent().getNetworkInfo())?async()=>{this.generated.actions.dialogs.open.trigger({dialog:j.a}),await this.generated.actions.jormungandr.delegationTransaction.createTransaction.trigger({publicDeriver:e,poolRequest:void 0})}:void 0,reputationInfo:g.reputation,openReputationDialog:()=>this.generated.actions.dialogs.open.trigger({dialog:K.a,params:{reputation:g.reputation}})})})}}),x()(this,"getDialog",e=>{const t=this.generated.stores.uiDialogs;return t.isOpen(V.a)?R.a.createElement(V.a,{close:()=>this.generated.actions.dialogs.closeActiveDialog.trigger()}):t.isOpen(K.a)?R.a.createElement(K.a,{close:()=>this.generated.actions.dialogs.closeActiveDialog.trigger(),reputationInfo:t.getParam("reputation")}):t.isOpen($.a)?R.a.createElement($.a,f()({},this.generated.UnmangleTxDialogContainerProps,{onClose:()=>this.generated.actions.dialogs.closeActiveDialog.trigger()})):t.isOpen(ce.a)?R.a.createElement(ce.a,f()({},this.generated.DeregisterDialogContainerProps,{alwaysShowDeregister:!0,onNext:()=>{this.generated.actions.ada.delegationTransaction.createWithdrawalTxForWallet.trigger({publicDeriver:e}),this.generated.actions.dialogs.open.trigger({dialog:ge.a})}})):t.isOpen(ge.a)?R.a.createElement(ge.a,f()({},this.generated.WithdrawalTxDialogContainerProps,{onClose:()=>{this.generated.actions.ada.delegationTransaction.reset.trigger({justTransaction:!1}),this.generated.actions.dialogs.closeActiveDialog.trigger()}})):null}),x()(this,"_generateUserSummary",e=>{var t,r,o,s,n;const a=e.delegationRequests.getCurrentDelegation.wasExecuted&&e.delegationRequests.getDelegatedBalance.wasExecuted&&null==e.errorIfPresent,i=e.delegationRequests.mangledAmounts.result,l=e.publicDeriver.getParent().getDefaultToken(),c=this.generated.stores.transactions.getTxRequests(e.publicDeriver).requests.getBalanceRequest.result,g=null==e.delegationRequests.getDelegatedBalance.result?new de.a([],l):e.delegationRequests.getDelegatedBalance.result.accountPart,d=(null!==(t=null===(r=e.delegationRequests.getCurrentDelegation.result)||void 0===r?void 0:null===(o=r.currEpoch)||void 0===o?void 0:o.pools)&&void 0!==t?t:[]).length>0;return R.a.createElement(L.a,{canUnmangleSum:null!==(s=null==i?void 0:i.canUnmangle)&&void 0!==s?s:new de.a([],l),cannotUnmangleSum:null!==(n=null==i?void 0:i.cannotUnmangle)&&void 0!==n?n:new de.a([],l),defaultTokenInfo:this.generated.stores.tokenInfoStore.getDefaultTokenInfo(e.publicDeriver.getParent().getNetworkInfo().NetworkId),getTokenInfo:Object(ue.b)(this.generated.stores.tokenInfoStore.tokenInfo),onUnmangle:()=>this.generated.actions.dialogs.open.trigger({dialog:$.a}),totalSum:null==c?void 0:c.joinAddCopy(g),totalRewards:a&&null!=e.delegationRequests.getDelegatedBalance.result?e.delegationRequests.getDelegatedBalance.result.accountPart:void 0,openLearnMore:()=>this.generated.actions.dialogs.open.trigger({dialog:V.a}),withdrawRewards:!0===this._isRegistered(e.publicDeriver)?()=>{this.generated.actions.dialogs.open.trigger({dialog:ce.a})}:void 0,unitOfAccount:e=>{var t;const r=null===(t=this.generated.stores.tokenInfoStore.tokenInfo.get(e.networkId.toString()))||void 0===t?void 0:t.get(e.identifier);if(null==r)return;if(!this.generated.stores.profile.unitOfAccount.enabled)return;const o=this.generated.stores.profile.unitOfAccount.currency,s=e.amount.shiftedBy(-r.Metadata.numberOfDecimals),n=this.generated.stores.coinPriceStore.getCurrentPrice(r.Identifier,o);return null!=n?{currency:o,amount:Object(ie.a)(s,n)}:void 0},shouldHideBalance:this.generated.stores.profile.shouldHideBalance,totalDelegated:(()=>{if(a&&null!=e.delegationRequests.getDelegatedBalance.result)return d?e.delegationRequests.getDelegatedBalance.result.utxoPart.joinAddCopy(e.delegationRequests.getDelegatedBalance.result.accountPart):new de.a([],l)})()})}),x()(this,"_isRegistered",e=>{var t;if(!Object(ee.f)(e.getParent().getNetworkInfo()))return;const r=this.generated.stores.substores.ada.delegation.getDelegationRequests(e);return null!=r?null===(t=r.getRegistrationHistory.result)||void 0===t?void 0:t.current:void 0}),x()(this,"_generateRewardGraphData",e=>{const t=e.publicDeriver.getParent().getDefaultToken(),r=e.delegationRequests.rewardHistory.result;if(null==r)return null;if(!e.delegationRequests.getCurrentDelegation.wasExecuted)return null;let o=0;const s=[],n=[];let a=new de.a([],t);const i=(()=>{if(Object(ee.f)(e.publicDeriver.getParent().getNetworkInfo())){return Object(ee.c)(e.publicDeriver.getParent().getNetworkInfo())[1].StartAt}return 0})(),l=(()=>{if(Object(ee.f)(e.publicDeriver.getParent().getNetworkInfo()))return e.currentEpoch-1;if(Object(ee.h)(e.publicDeriver.getParent().getNetworkInfo()))return e.currentEpoch+1;throw new Error("_generateRewardGraphData can't compute endEpoch for rewards")})(),c=e=>{var t;const r=null===(t=this.generated.stores.tokenInfoStore.tokenInfo.get(e.networkId.toString()))||void 0===t?void 0:t.get(e.identifier);if(null==r)throw new Error(`StakingDashboardPage no token info for ${T()(e)}`);return e.amount.shiftedBy(-r.Metadata.numberOfDecimals)};for(let e=i;e<l;e++)if(o<r.length&&e===r[o][0]){const t=r[o][1];a=a.joinAddMutable(t),s.push({name:e,primary:c(a.getDefaultEntry()).toNumber()}),n.push({name:e,primary:c(t.getDefaultEntry()).toNumber()}),o++}else s.push({name:e,primary:c(a.getDefaultEntry()).toNumber()}),n.push({name:e,primary:0});return{totalRewards:s,perEpochRewards:n}}),x()(this,"_generateGraphData",e=>{const t=this.generated.stores.time.getCurrentTimeRequests(e.publicDeriver);return{rewardsGraphData:{error:e.delegationRequests.rewardHistory.error,items:this._generateRewardGraphData({delegationRequests:e.delegationRequests,currentEpoch:t.currentEpoch,publicDeriver:e.publicDeriver}),hideYAxis:this.generated.stores.profile.shouldHideBalance}}})}async componentDidMount(){const e=this.generated.stores.time,t=this.generated.stores.wallets.selected;if(null==t)throw new Error("StakingDashboardPage no public deriver. Should never happen");const r=e.getTimeCalcRequests(t);await r.requests.toAbsoluteSlot.execute().promise,await r.requests.toRealTime.execute().promise,await r.requests.currentEpochLength.execute().promise,await r.requests.currentSlotLength.execute().promise,await r.requests.timeSinceGenesis.execute().promise}componentWillUnmount(){this.generated.actions.jormungandr.delegationTransaction.reset.trigger(),this.generated.actions.ada.delegationTransaction.reset.trigger({justTransaction:!1})}render(){var e,t,r,o,s;const n=this.generated.stores.wallets.selected;if(null==n)throw new Error("StakingDashboardPage no public deriver. Should never happen");const a=this.generated.stores.delegation.getDelegationRequests(n);if(null==a)throw new Error("StakingDashboardPage opened for non-reward wallet");const i=this.getRewardInfo(n),l=this.getErrorInFetch(n),c=null==l?this.getStakePools(n):l,{getThemeVars:g}=this.generated.stores.profile,d=R.a.createElement(W.a,{pageInfo:!a.getCurrentDelegation.wasExecuted||a.getCurrentDelegation.isExecuting?void 0:{currentPage:this.generated.stores.delegation.selectedPage,numPages:h()(null!==(e=new u.a(null===(t=a.getCurrentDelegation.result)||void 0===t?void 0:null===(r=t.currEpoch)||void 0===r?void 0:E()(o=r.pools).call(o,e=>e[0])))&&void 0!==e?e:[]).length,goToPage:e=>this.generated.actions.delegation.setSelectedPage.trigger(e)},hasAnyPending:this.generated.stores.transactions.hasAnyPending,themeVars:g({theme:"YoroiModern"}),stakePools:c,epochProgress:R.a.createElement(te,f()({},this.generated.EpochProgressContainerProps,{publicDeriver:n,showTooltip:null!=i&&i.showWarning})),userSummary:this._generateUserSummary({delegationRequests:a,publicDeriver:n,errorIfPresent:l}),upcomingRewards:null==i?void 0:i.rewardPopup,graphData:this._generateGraphData({delegationRequests:a,publicDeriver:n}),delegationHistory:null===(s=a.getCurrentDelegation.result)||void 0===s?void 0:s.fullHistory,epochLength:this.getEpochLengthInDays(n),ticker:Object(pe.i)(Object(ue.d)(this.generated.stores.tokenInfoStore.getDefaultTokenInfo(n.getParent().getNetworkInfo().NetworkId)))}),p=this.generatePopupDialog(n);return R.a.createElement(R.a.Fragment,null,p,this.getDialog(n),d)}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("StakingDashboardPage no way to generated props");const{stores:e,actions:t}=this.props,r=e.substores.jormungandr,o=e.wallets.selected;if(null==o)throw new Error("EpochProgressContainer no wallet selected");const s=Object(Z.b)(o.getParent().getNetworkInfo()),n=(()=>{if(s===Z.a.ada)return{getTimeCalcRequests:e.substores.ada.time.getTimeCalcRequests,getCurrentTimeRequests:e.substores.ada.time.getCurrentTimeRequests};if(s===Z.a.jormungandr)return{getTimeCalcRequests:e.substores.jormungandr.time.getTimeCalcRequests,getCurrentTimeRequests:e.substores.jormungandr.time.getCurrentTimeRequests};throw new Error("EpochProgressContainer api not supported")})();return g()({stores:{explorers:{selectedExplorer:e.explorers.selectedExplorer},profile:{isClassicTheme:e.profile.isClassicTheme,shouldHideBalance:e.profile.shouldHideBalance,getThemeVars:e.profile.getThemeVars,unitOfAccount:e.profile.unitOfAccount},wallets:{selected:e.wallets.selected,sendMoneyRequest:{error:e.wallets.sendMoneyRequest.error,isExecuting:e.wallets.sendMoneyRequest.isExecuting}},coinPriceStore:{getCurrentPrice:e.coinPriceStore.getCurrentPrice},tokenInfoStore:{tokenInfo:e.tokenInfoStore.tokenInfo,getDefaultTokenInfo:e.tokenInfoStore.getDefaultTokenInfo},uiDialogs:{isOpen:e.uiDialogs.isOpen,getParam:e.uiDialogs.getParam},uiNotifications:{isOpen:e.uiNotifications.isOpen,getTooltipActiveNotification:e.uiNotifications.getTooltipActiveNotification},transactions:{hasAnyPending:e.transactions.hasAnyPending,getTxRequests:e.transactions.getTxRequests},delegation:{selectedPage:e.delegation.selectedPage,getLocalPoolInfo:e.delegation.getLocalPoolInfo,getDelegationRequests:e.delegation.getDelegationRequests},time:n,substores:{ada:{delegation:{getDelegationRequests:e.substores.ada.delegation.getDelegationRequests}},jormungandr:{delegationTransaction:{isStale:r.delegationTransaction.isStale,createDelegationTx:{isExecuting:r.delegationTransaction.createDelegationTx.isExecuting,error:r.delegationTransaction.createDelegationTx.error,result:r.delegationTransaction.createDelegationTx.result}}}}},actions:{dialogs:{closeActiveDialog:{trigger:t.dialogs.closeActiveDialog.trigger},open:{trigger:t.dialogs.open.trigger}},notifications:{open:{trigger:t.notifications.open.trigger}},delegation:{setSelectedPage:{trigger:t.delegation.setSelectedPage.trigger}},ada:{delegationTransaction:{reset:{trigger:t.ada.delegationTransaction.reset.trigger},createWithdrawalTxForWallet:{trigger:t.ada.delegationTransaction.createWithdrawalTxForWallet.trigger}}},jormungandr:{delegationTransaction:{reset:{trigger:t.jormungandr.delegationTransaction.reset.trigger},signTransaction:{trigger:t.jormungandr.delegationTransaction.signTransaction.trigger},createTransaction:{trigger:t.jormungandr.delegationTransaction.createTransaction.trigger}}}},EpochProgressContainerProps:{stores:e,actions:t},UnmangleTxDialogContainerProps:{stores:e,actions:t},WithdrawalTxDialogContainerProps:{stores:e,actions:t},DeregisterDialogContainerProps:{stores:e,actions:t}})}},x()(ne,"contextTypes",{intl:O.f.isRequired}),oe=ae,se=D()(oe.prototype,"notificationElementId",[Q.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),D()(oe.prototype,"generated",[Q.computed],l()(oe.prototype,"generated"),oe.prototype),re=oe))||re},175:function(e,t,r){"use strict";r.d(t,"a",(function(){return N}));var o,s,n,a=r(18),i=r.n(a),l=r(11),c=r.n(l),g=r(1),d=r.n(g),u=r(4),p=r.n(u),h=r(0),m=r.n(h),f=r(9),w=r(3),T=r(274),b=r(5),E=r(1389);const y=Object(b.e)({byronDeprecationLine1:{id:"wallet.deprecation.byronLine1",defaultMessage:"!!!The Shelley protocol upgrade adds a new Shelley wallet type which supports delegation."},byronDeprecationLine2:{id:"wallet.deprecation.byronLine2",defaultMessage:"!!!To delegate your {ticker} you will need to upgrade to a Shelley wallet."}});let C=Object(f.a)((n=s=class extends h.Component{render(){const{intl:e}=this.context;return(m.a.createElement(E.a,{onSubmit:this.props.onUpgrade},m.a.createElement(m.a.Fragment,null,e.formatMessage(y.byronDeprecationLine1),m.a.createElement("br",null),e.formatMessage(y.byronDeprecationLine2,{ticker:this.props.ticker}))))}},d()(s,"contextTypes",{intl:b.f.isRequired}),o=n))||o;var v,S,k=r(1390),x=r(275),P=r(1392),D=r(47),A=r(158),R=(r(50),r(20)),O=r(138),I=r(39),M=r(49);let N=Object(f.a)((S=class extends h.Component{constructor(...e){super(...e),d()(this,"getDeprecationBanner",()=>{const{selected:e}=this.generated.stores.wallets;if(null==e)return null;if(!Object(R.f)(e.getParent().getNetworkInfo()))return null;if(!(e.getParent()instanceof O.a))return null;const t=e.getParent().getDefaultToken(),r=Object(I.b)(this.generated.stores.tokenInfoStore.tokenInfo)({identifier:t.defaultIdentifier,networkId:t.defaultNetworkId});return m.a.createElement(C,{onUpgrade:void 0,ticker:Object(M.i)(Object(I.d)(r))})})}render(){const e=this.generated.stores.serverConnectionStore.checkAdaServerStatus,{selected:t}=this.generated.stores.wallets,r=null!=t&&Object(R.i)(t.getParent().getNetworkInfo()),o=this.getDeprecationBanner();return m.a.createElement(m.a.Fragment,null,null!=this.generated.stores.serverConnectionStore.serverTime&&m.a.createElement(P.a,{serverTime:this.generated.stores.serverConnectionStore.serverTime}),e!==A.a.Healthy&&m.a.createElement(x.a,{errorType:e}),m.a.createElement(T.a,{isTestnet:r}),!D.a.isProduction()&&m.a.createElement(k.a,null),o)}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("BannerContainer no way to generated props");const{stores:e}=this.props;return c()({stores:{serverConnectionStore:{checkAdaServerStatus:e.serverConnectionStore.checkAdaServerStatus,serverTime:e.serverConnectionStore.serverTime},tokenInfoStore:{tokenInfo:e.tokenInfoStore.tokenInfo},wallets:{selected:e.wallets.selected}},actions:c()({})})}},p()(S.prototype,"generated",[w.computed],i()(S.prototype,"generated"),S.prototype),v=S))||v},19:function(e,t,r){"use strict";r.d(t,"e",(function(){return l})),r.d(t,"g",(function(){return c})),r.d(t,"i",(function(){return g})),r.d(t,"d",(function(){return d})),r.d(t,"a",(function(){return u})),r.d(t,"c",(function(){return p})),r.d(t,"h",(function(){return h})),r.d(t,"b",(function(){return m})),r.d(t,"f",(function(){return f}));var o=r(150),s=r.n(o),n=r(11),a=r.n(n),i=r(29);const l=new(r.n(i).a)(10).pow(8),c=2147483648,g=a()({BIP44:2147483692,CIP1852:2147485500}),d=a()({CARDANO:2147485463,ERGO:2147484077}),u=20,p=a()({EXTERNAL:0,INTERNAL:1,CHIMERIC_ACCOUNT:2}),h=0,m=2160,f=s.a/2},209:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return s}));const o="vc7fvdrnvy25m4i",s=256},2275:function(e,t,r){"use strict";var o,s,n=r(18),a=r.n(n),i=r(11),l=r.n(i),c=r(4),g=r.n(c),d=(r(28),r(0)),u=r.n(d),p=r(9),h=r(3),m=r(1343),f=r(67);Object(p.a)((s=class extends d.Component{render(){return u.a.createElement(m.a,{onClose:this.props.onClose,onExternalLinkClick:f.c,checksumTextPart:this.props.checksumTextPart})}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("ProblematicWalletDialogContainer no way to generated props");return l()({})}},g()(s.prototype,"generated",[h.computed],a()(s.prototype,"generated"),s.prototype),o=s))},232:function(e,t,r){"use strict";r.d(t,"a",(function(){return v}));var o,s,n=r(18),a=r.n(n),i=r(11),l=r.n(i),c=r(34),g=r.n(c),d=r(207),u=r.n(d),p=r(1),h=r.n(p),m=r(4),f=r.n(m),w=r(0),T=r.n(w),b=r(9),E=r(3),y=r(1707),C=r(860);r(50);let v=Object(b.a)((s=class extends w.Component{constructor(...e){super(...e),h()(this,"toggleSidebar",async()=>{await this.generated.actions.profile.toggleSidebar.trigger()})}render(){const{stores:e}=this.generated,{profile:t}=e;return T.a.createElement(y.a,{onCategoryClicked:e=>{this.generated.actions.router.goToRoute.trigger({route:e.route})},isActiveCategory:e=>{var t;return u()(t=this.generated.stores.app.currentRoute).call(t,e.route)},categories:g()(C.a).call(C.a,e=>e.isVisible({hasAnyWallets:this.generated.stores.wallets.hasAnyWallets,selected:this.generated.stores.wallets.selected,currentRoute:this.generated.stores.app.currentRoute})),onToggleSidebar:this.toggleSidebar,isSidebarExpanded:t.isSidebarExpanded})}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("SidebarContainer no way to generated props");const{stores:e,actions:t}=this.props;return l()({stores:{profile:{isSidebarExpanded:e.profile.isSidebarExpanded},app:{currentRoute:e.app.currentRoute},wallets:{selected:e.wallets.selected,hasAnyWallets:e.wallets.hasAnyWallets}},actions:{profile:{toggleSidebar:{trigger:t.profile.toggleSidebar.trigger}},router:{goToRoute:{trigger:t.router.goToRoute.trigger}}}})}},f()(s.prototype,"generated",[E.computed],a()(s.prototype,"generated"),s.prototype),o=s))||o},340:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var o=r(11);const s=r.n(o)()({ADDRESS:"addr",PAYMENT_KEY_HASH:"addr_vkh"})},366:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return s}));const o={NORMAL:{low:3,medium:9},STRICT:{low:5,medium:15}},s={LOW:"low",MEDIUM:"medium",HIGH:"high"}},368:function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));var o,s,n,a,i=r(18),l=r.n(i),c=r(11),g=r.n(c),d=r(28),u=r.n(d),p=r(35),h=r.n(p),m=r(8),f=r.n(m),w=r(1),T=r.n(w),b=r(4),E=r.n(b),y=r(0),C=r.n(y),v=r(9),S=r(3),k=r(33),x=r(60),P=(r(50),r(17),r(469)),D=r(695),A=r(7),R=r(5);let O=Object(v.a)((a=n=class extends y.Component{componentDidMount(){const e=this.generated.stores.wallets.selected;if(null==e)throw new Error("UnmangleTxDialogContainer no wallet selected");const t=Object(k.k)(e);if(null==t)throw new Error("UnmangleTxDialogContainer no chains");const r=Object(P.a)(t=>{var r,o;const s=null!==(r=null===(o=this.generated.stores.addresses.addressSubgroupMap.get(t))||void 0===o?void 0:o.all)&&void 0!==r?r:[],n=f()(s).call(s,t=>Object(x.c)(t.address,e.getParent().getNetworkInfo()));return new h.a(n)},e);this.generated.actions.txBuilderActions.initialize.trigger({publicDeriver:t,filter:e=>r(e)})}render(){const{intl:e}=this.context,t=this.generated.stores.transactionBuilderStore;return C.a.createElement(D.a,u()({},this.generated.TransferSendProps,{onClose:{trigger:this.props.onClose,label:e.formatMessage(A.a.cancel)},onSubmit:{trigger:()=>{},label:e.formatMessage(A.a.confirm)},transactionRequest:{error:t.setupSelfTx.error,result:t.tentativeTx,reset:this.generated.actions.txBuilderActions.reset.trigger},toTransferTx:e=>({recoveredBalance:e.totalInput(),fee:e.fee(),senders:e.uniqueSenderAddresses(),receivers:e.receivers(!1)})}))}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("UnmangleTxDialogContainer no way to generated props");const{stores:e,actions:t}=this.props;return g()({TransferSendProps:{actions:t,stores:e},stores:{wallets:{selected:e.wallets.selected},addresses:{addressSubgroupMap:e.addresses.addressSubgroupMap},transactionBuilderStore:{tentativeTx:e.transactionBuilderStore.tentativeTx,setupSelfTx:{error:e.transactionBuilderStore.setupSelfTx.error}}},actions:{txBuilderActions:{initialize:{trigger:t.txBuilderActions.initialize.trigger},reset:{trigger:t.txBuilderActions.reset.trigger}}}})}},T()(n,"contextTypes",{intl:R.f.isRequired}),s=a,E()(s.prototype,"generated",[S.computed],l()(s.prototype,"generated"),s.prototype),o=s))||o},409:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var o=r(17),s=r(5);const n=Object(s.e)({incorrectDevice:{id:"wallet.hw.incorrectDevice",defaultMessage:"!!!Incorrect device detected. Expected device {expectedDeviceId}, but got device {responseDeviceId}. Please plug in the correct device"},incorrectVersion:{id:"wallet.hw.incorrectVersion",defaultMessage:"!!!Incorrect device version detected. We support version {supportedVersions} but you have version {responseVersion}."}});class a extends o.b{constructor(e){super({id:n.incorrectDevice.id,defaultMessage:n.incorrectDevice.defaultMessage||"",values:e})}}class i extends o.b{constructor(e){super({id:n.incorrectVersion.id,defaultMessage:n.incorrectVersion.defaultMessage||"",values:e})}}var l=r(7),c=r(10);const g=Object(s.e)({cancelOnDeviceError101:{id:"wallet.hw.ledger.common.error.101",defaultMessage:"!!!Operation cancelled on Ledger device."},cancelOnLedgerConnectError102:{id:"wallet.hw.ledger.common.error.102",defaultMessage:"!!!Operation cancelled by user."},deviceLockedError103:{id:"wallet.hw.ledger.common.error.103",defaultMessage:"!!!Ledger device is locked, please unlock it and retry."},deviceLockedError104:{id:"wallet.hw.ledger.common.error.104",defaultMessage:"!!!Ledger device timeout, please retry."},networkError105:{id:"wallet.hw.ledger.common.error.105",defaultMessage:"!!!Network error. Please check your internet connection."}});function d(e){c.a.error(`LedgerLocalizedError::convertToLocalizableError::error: ${Object(c.d)(e)}`);let t=null;if(e instanceof o.b)t=e;else if(e&&e.message){{const t=new RegExp("Error: Incorrect hardware wallet. This wallet was created with a device with serial ID ([0-9a-fA-F]+), but you are currently using ([0-9a-fA-F]+).").exec(e.message);if(t)return new a({responseDeviceId:t[1],expectedDeviceId:t[2]})}{const t=new RegExp("Incorrect Cardano app version. Supports version (.*) but you have version ([0-9.]\\.[0-9.]\\.[0-9.])").exec(e.message);if(t)return new i({supportedVersions:t[1],responseVersion:t[2]})}switch(e.message){case"TransportError: Failed to sign with Ledger device: U2F TIMEOUT":t=new o.b(l.a.ledgerError101);break;case"TransportStatusError: Ledger device: Action rejected by user":t=new o.b(g.cancelOnDeviceError101);break;case"NotAllowedError: The operation either timed out or was not allowed. See: https://w3c.github.io/webauthn/#sec-assertion-privacy.":case"AbortError: The operation was aborted. ":case"Forcefully cancelled by user":t=new o.b(g.cancelOnLedgerConnectError102);break;case"TransportStatusError: Ledger device: Device is locked":t=new o.b(g.deviceLockedError103);break;case"NotAllowedError: The request is not allowed by the user agent or the platform in the current context, possibly because the user denied permission.":t=new o.b(g.deviceLockedError104);break;case"LedgerConnect Error: Timeout happened, Couldn't connect to connect handler":t=new o.b(g.networkError105);break;default:t=new o.a}}return t||(t=new o.a),t}},47:function(e,t,r){"use strict";r.d(t,"b",(function(){return n}));var o=r(410),s=r(1285);const n={...Object({NODE_ENV:"production",COMMIT:"ce34640de7e7835fec90450c4f59645c46f31aa1",BRANCH:"develop",NIGHTLY:!1,POOLS_UI_URL_FOR_YOROI:"https://adapools.yoroiwallet.com"}),getNetworkName:()=>"mainnet",getVersion:function(){const e=r(2797);return(void 0!==e.default?e.default(!0):e()).version},MOBX_DEV_TOOLS:Object({NODE_ENV:"production",COMMIT:"ce34640de7e7835fec90450c4f59645c46f31aa1",BRANCH:"develop",NIGHTLY:!1,POOLS_UI_URL_FOR_YOROI:"https://adapools.yoroiwallet.com"}).MOBX_DEV_TOOLS,commit:"ce34640de7e7835fec90450c4f59645c46f31aa1",isJest:()=>!1,branch:"develop",isNightly:()=>JSON.parse(!1),isTest:()=>"mainnet"===o.a.TEST,isMainnet:()=>n.getNetworkName()===o.a.MAINNET,isProduction:()=>!0,getWalletRefreshInterval:()=>2e4,getServerStatusRefreshInterval:()=>2e4,userAgentInfo:s.a};t.a=n},477:function(e,t,r){"use strict";r.d(t,"a",(function(){return N}));var o,s,n,a,i=r(18),l=r.n(i),c=r(11),g=r.n(c),d=r(8),u=r.n(d),p=r(1),h=r.n(p),m=r(4),f=r.n(m),w=r(26),T=r.n(w),b=r(3),E=r(0),y=r.n(E),C=r(9),v=r(5),S=r(348),k=r(562),x=r(868),P=r(1490),D=r(1708),A=r(871),R=r(36),O=(r(77),r(33)),I=(r(50),r(38),r(39));const M=Object(v.e)({allWalletsLabel:{id:"wallet.nav.allWalletsLabel",defaultMessage:"!!!All wallets"}});let N=Object(C.a)((a=n=class extends E.Component{constructor(...e){super(...e),h()(this,"updateHideBalance",async()=>{await this.generated.actions.profile.updateHideBalance.trigger()}),h()(this,"switchToNewWallet",e=>{this.generated.actions.router.goToRoute.trigger({route:this.generated.stores.app.currentRoute,publicDeriver:e})}),h()(this,"getRewardBalance",e=>{const t=this.generated.stores.delegation.getDelegationRequests(e);if(null==t)return;const r=t.getDelegatedBalance.result;return null==r?null:r.accountPart})}render(){const{intl:e}=this.context,{stores:t}=this.generated,{profile:r}=t,o=t.wallets,s=this.generated.stores.wallets.publicDerivers,n=u()(s).call(s,e=>{const t=this.generated.stores.transactions.getTxRequests(e),o=t.requests.getBalanceRequest.result||null,s=e.getParent(),n=this.generated.stores.walletSettings.getConceptualWalletSettingsCache(s),a=Object(O.g)(e),i=null==a?null:this.generated.stores.wallets.getPublicKeyCache(a).plate;return y.a.createElement(A.a,{key:e.getPublicDeriverId(),plateComponent:y.a.createElement(k.a,{plate:i,wallet:n}),onSelect:()=>this.switchToNewWallet(e),isCurrentWallet:e===this.generated.stores.wallets.selected,syncTime:t.lastSyncInfo.Time?T()(t.lastSyncInfo.Time).fromNow():null,detailComponent:y.a.createElement(x.a,{walletAmount:o,onUpdateHideBalance:this.updateHideBalance,shouldHideBalance:r.shouldHideBalance,rewards:this.getRewardBalance(e),getTokenInfo:Object(I.b)(this.generated.stores.tokenInfoStore.tokenInfo),defaultToken:this.generated.stores.tokenInfoStore.getDefaultTokenInfo(e.getParent().getNetworkInfo().NetworkId)})})}),a=y.a.createElement(y.a.Fragment,null,y.a.createElement(A.a,{title:e.formatMessage(M.allWalletsLabel),detailComponent:void 0}),n),i=(()=>y.a.createElement(D.a,{headerComponent:(()=>{const e=o.selected;if(null==e)return y.a.createElement(P.a,null);const t=this.generated.stores.transactions.getTxRequests(e).requests.getBalanceRequest.result||null;return y.a.createElement(x.a,{onUpdateHideBalance:this.updateHideBalance,shouldHideBalance:r.shouldHideBalance,rewards:this.getRewardBalance(e),walletAmount:t,getTokenInfo:Object(I.b)(this.generated.stores.tokenInfoStore.tokenInfo),defaultToken:this.generated.stores.tokenInfoStore.getDefaultTokenInfo(e.getParent().getNetworkInfo().NetworkId)})})(),contentComponents:a,onAddWallet:()=>this.generated.actions.router.goToRoute.trigger({route:R.a.WALLETS.ADD})}))();return y.a.createElement(S.a,{title:this.props.title,walletPlate:(()=>{const e=o.selected;if(null==e)return null;const t=e.getParent(),r=this.generated.stores.walletSettings.getConceptualWalletSettingsCache(t),s=Object(O.g)(e),n=null==s?null:this.generated.stores.wallets.getPublicKeyCache(s).plate;return y.a.createElement(k.a,{plate:n,wallet:r})})(),walletDetails:i})}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("NavBarContainer no way to generated props");const{stores:e,actions:t}=this.props;return g()({stores:{app:{currentRoute:e.app.currentRoute},walletSettings:{getConceptualWalletSettingsCache:e.walletSettings.getConceptualWalletSettingsCache},wallets:{selected:e.wallets.selected,publicDerivers:e.wallets.publicDerivers,getPublicKeyCache:e.wallets.getPublicKeyCache},tokenInfoStore:{tokenInfo:e.tokenInfoStore.tokenInfo,getDefaultTokenInfo:e.tokenInfoStore.getDefaultTokenInfo},profile:{shouldHideBalance:e.profile.shouldHideBalance},delegation:{getDelegationRequests:e.delegation.getDelegationRequests},transactions:{getTxRequests:e.transactions.getTxRequests}},actions:{wallets:{setActiveWallet:{trigger:t.wallets.setActiveWallet.trigger}},profile:{updateHideBalance:{trigger:t.profile.updateHideBalance.trigger}},router:{goToRoute:{trigger:t.router.goToRoute.trigger}}}})}},h()(n,"contextTypes",{intl:v.f.isRequired}),s=a,f()(s.prototype,"generated",[b.computed],l()(s.prototype,"generated"),s.prototype),o=s))||o},478:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var o,s,n,a=r(1),i=r.n(a),l=r(0),c=r.n(l),g=r(5),d=r(690),u=r(9);const p=Object(g.e)({title:{id:"wallet.nowallet.title",defaultMessage:"!!!No wallet selected"},subtitle:{id:"wallet.nowallet.subtitle",defaultMessage:"!!!Please choose a wallet from the top-right dropdown"}});let h=Object(u.a)((n=s=class extends l.Component{render(){const{intl:e}=this.context;return(c.a.createElement(d.a,{title:e.formatMessage(p.title),subtitle:e.formatMessage(p.subtitle)}))}},i()(s,"contextTypes",{intl:g.f.isRequired}),o=n))||o},491:function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));var o,s,n,a,i,l=r(18),c=r.n(l),g=r(12),d=r.n(g),u=(r(1),r(4)),p=r.n(u),h=(r(59),r(3)),m=r(29),f=r.n(m),w=r(109),T=r(16),b=r(21),E=r(38);let y=(o=class e extends w.b{constructor(e){const{certificates:t,ttl:r,metadata:o,withdrawals:l,...c}=e;super(c),d()(this,"certificates",s,this),d()(this,"withdrawals",n,this),d()(this,"ttl",a,this),d()(this,"metadata",i,this),this.certificates=t,this.ttl=r,this.metadata=o,this.withdrawals=l}static fromAnnotatedTx(t){const{addressLookupMap:r,defaultToken:o,tx:s}=t;if(s.transaction.Type!==T.n.CardanoShelley)throw new Error(`CardanoShelleyTransaction::${this.constructor.fromAnnotatedTx} tx type incorrect`);const{Extra:n}=s.transaction;if(null==n)throw new Error(`CardanoShelleyTransaction::${this.constructor.fromAnnotatedTx} missing extra data`);return new e({txid:s.transaction.Hash,block:s.block,type:s.type,fee:new E.a([{identifier:b.c.Cardano,amount:new f.a(n.Fee),networkId:t.network.NetworkId}],o),ttl:null!=n.Ttl?new f.a(n.Ttl):void 0,metadata:n.Metadata,amount:s.amount.joinAddCopy(s.fee),date:null!=s.block?s.block.BlockTime:new Date(s.transaction.LastUpdateTime),addresses:{from:Object(w.c)({rows:s.utxoInputs,addressLookupMap:r,tokens:s.tokens,defaultToken:o}),to:Object(w.c)({rows:s.utxoOutputs,addressLookupMap:r,tokens:s.tokens,defaultToken:o})},withdrawals:Object(w.c)({rows:s.accountingInputs,addressLookupMap:r,tokens:s.tokens,defaultToken:o}),certificates:s.certificates,state:s.transaction.Status,errorMsg:s.transaction.ErrorMessage})}},s=p()(o.prototype,"certificates",[h.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n=p()(o.prototype,"withdrawals",[h.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=p()(o.prototype,"ttl",[h.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=p()(o.prototype,"metadata",[h.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p()(o,"fromAnnotatedTx",[h.action],c()(o,"fromAnnotatedTx"),o),o)},499:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));const o=["en-US","ja-JP"]},501:function(e,t,r){"use strict";r.d(t,"a",(function(){return A}));var o,s,n,a,i=r(18),l=r.n(i),c=r(11),g=r.n(c),d=r(28),u=r.n(d),p=r(32),h=r.n(p),m=r(1),f=r.n(m),w=r(4),T=r.n(w),b=r(0),E=r.n(b),y=r(9),C=r(3),v=(r(17),r(695)),S=r(144),k=r(7),x=r(5),P=r(38),D=r(466);let A=Object(y.a)((a=n=class extends b.Component{render(){const{intl:e}=this.context,{createWithdrawalTx:t}=this.generated.stores.substores.ada.delegationTransaction;if(null==this.generated.stores.profile.selectedNetwork)throw new Error("WithdrawalTxDialogContainer no selected network");const r=this.generated.stores.tokenInfoStore.getDefaultTokenInfo(this.generated.stores.profile.selectedNetwork.NetworkId);return(E.a.createElement(v.a,u()({},this.generated.TransferSendProps,{onClose:{trigger:this.props.onClose,label:e.formatMessage(k.a.cancel)},onSubmit:{trigger:()=>{},label:e.formatMessage(k.a.confirm)},transactionRequest:t,toTransferTx:e=>{if(!(e instanceof S.a))throw new Error("WithdrawalTxDialogContainer incorrect tx type");const t=e.keyDeregistrations(),o=e.withdrawals();return{recoveredBalance:h()(o).call(o,(e,t)=>e.joinAddCopy(t.amount),new P.a([],Object(D.b)(r))),fee:e.fee(),senders:e.uniqueSenderAddresses(),receivers:e.receivers(!0),withdrawals:o,deregistrations:t}}})))}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("WithdrawalTxDialogContainer no way to generated props");const{stores:e,actions:t}=this.props;return g()({TransferSendProps:{actions:t,stores:e},actions:g()({}),stores:{profile:{selectedNetwork:e.profile.selectedNetwork},tokenInfoStore:{getDefaultTokenInfo:e.tokenInfoStore.getDefaultTokenInfo},substores:{ada:{delegationTransaction:{createWithdrawalTx:{error:e.substores.ada.delegationTransaction.createWithdrawalTx.error,result:e.substores.ada.delegationTransaction.createWithdrawalTx.result,reset:e.substores.ada.delegationTransaction.createWithdrawalTx.reset}}}}}})}},f()(n,"contextTypes",{intl:x.f.isRequired}),s=a,T()(s.prototype,"generated",[C.computed],l()(s.prototype,"generated"),s.prototype),o=s))||o},502:function(e,t,r){"use strict";r.d(t,"a",(function(){return A}));var o,s,n,a,i,l,c=r(18),g=r.n(c),d=r(11),u=r.n(d),p=r(12),h=r.n(p),m=r(1),f=r.n(m),w=r(4),T=r.n(w),b=(r(59),r(0)),E=r.n(b),y=r(3),C=r(9),v=r(5),S=r(7),k=r(208),x=r(137),P=r(351);const D=Object(v.e)({title:{id:"wallet.transfer.deregister.title",defaultMessage:"!!!Also deregister the staking key?"},deregisterOption:{id:"wallet.transfer.deregister.deregister",defaultMessage:"!!!Deregister"},keep:{id:"wallet.transfer.deregister.keep",defaultMessage:"!!!Keep registered"},deregisterExplanationLine1:{id:"wallet.transfer.deregister.line1",defaultMessage:"!!!When withdrawing rewards, you also have the option to deregister the staking key"},deregisterExplanationLine2:{id:"wallet.transfer.deregister.line2",defaultMessage:"!!!Deregistering the staking key will give you back your deposit and undelegate the key from any pool"},deregisterExplanationLine3:{id:"wallet.transfer.deregister.line3",defaultMessage:"!!!Keeping the staking key will allow you to withdraw the rewards, but continue delegating to the same pool"},noNeedToDeregister:{id:"wallet.transfer.deregister.noNeedToDeregister",defaultMessage:"!!!You do NOT need to deregister to delegate to a different stake pool. You can change your delegation preference at any time"},deregisterExplanationLine4:{id:"wallet.transfer.deregister.line4",defaultMessage:"!!!You should NOT deregister if this staking key is used as a stake pool's reward account, as this will cause all pool operator rewards to be sent back to the reserved"},deregisterExplanationLine5:{id:"wallet.transfer.deregister.line5",defaultMessage:"!!!Deregistering means this key will no longer receive rewards until you re-register the staking key (usually by delegating to a pool again)"}});let A=Object(C.a)((l=i=class extends b.Component{constructor(...e){super(...e),h()(this,"isChecked",n,this),h()(this,"toggleCheck",a,this)}componentDidMount(){this.generated.actions.ada.delegationTransaction.setShouldDeregister.trigger(!1),!1===this.props.alwaysShowDeregister&&this.generated.stores.profile.selectedComplexityLevel!==k.a.Advanced&&this.props.onNext()}render(){const{intl:e}=this.context;return(E.a.createElement(P.a,{title:e.formatMessage(D.title),checkboxAcknowledge:e.formatMessage(S.a.uriLandingDialogConfirmLabel),isChecked:this.isChecked,toggleCheck:this.toggleCheck,secondaryButton:{label:e.formatMessage(D.keep),onClick:()=>{this.generated.actions.ada.delegationTransaction.setShouldDeregister.trigger(!1),this.props.onNext()},primary:!0},onCancel:this.generated.actions.dialogs.closeActiveDialog.trigger,primaryButton:{label:e.formatMessage(D.deregisterOption),onClick:()=>{this.generated.actions.ada.delegationTransaction.setShouldDeregister.trigger(!0),this.props.onNext()}},isSubmitting:!1,error:void 0},E.a.createElement("p",null,e.formatMessage(D.deregisterExplanationLine1)),E.a.createElement("p",null,e.formatMessage(D.deregisterExplanationLine3)),E.a.createElement("p",null,e.formatMessage(D.deregisterExplanationLine2)),E.a.createElement(x.a,null,E.a.createElement("ol",null,E.a.createElement("br",null),E.a.createElement("li",null,e.formatMessage(D.noNeedToDeregister)),E.a.createElement("br",null),E.a.createElement("li",null,e.formatMessage(D.deregisterExplanationLine4)),E.a.createElement("br",null),E.a.createElement("li",null,e.formatMessage(D.deregisterExplanationLine5)))),E.a.createElement("br",null),E.a.createElement("br",null)))}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("DeregisterDialogContainer no way to generated props");const{actions:e,stores:t}=this.props;return u()({stores:u()({profile:{selectedComplexityLevel:t.profile.selectedComplexityLevel}}),actions:{ada:{delegationTransaction:{setShouldDeregister:{trigger:e.ada.delegationTransaction.setShouldDeregister.trigger}}},dialogs:{closeActiveDialog:{trigger:e.dialogs.closeActiveDialog.trigger}}}})}},f()(i,"contextTypes",{intl:v.f.isRequired}),s=l,n=T()(s.prototype,"isChecked",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=T()(s.prototype,"toggleCheck",[y.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.isChecked=!this.isChecked}}}),T()(s.prototype,"generated",[y.computed],g()(s.prototype,"generated"),s.prototype),o=s))||o},52:function(e,t,r){"use strict";var o=r(11),s=r.n(o);t.a=s()({wallets:s()({ADDRESS_COPY_TOOLTIP_NOTIFICATION_DURATION:2,WALLET_CREATED_NOTIFICATION_DURATION:8,WALLET_RESTORED_NOTIFICATION_DURATION:8,MAX_ALLOWED_UNUSED_ADDRESSES:20,TRANSACTION_REQUEST_SIZE:50,DAEDALUS_RECOVERY_PHRASE_WORD_COUNT:12,DAEDALUS_PAPER_RECOVERY_PHRASE_WORD_COUNT:27,MAX_RECOVERY_PHRASE_WORD_COUNT:24,WALLET_RECOVERY_PHRASE_WORD_COUNT:15,DAEDALUS_SHELLEY_RECOVERY_PHRASE_WORD_COUNT:24,YOROI_PAPER_RECOVERY_PHRASE_WORD_COUNT:21,hardwareWallet:{trezorT:{VENDOR:"trezor.io",MODEL:"T",manifest:{EMAIL:"rnd@emurgo.io",appURL:{CHROME:"https://chrome.google.com/webstore/detail/yoroi/ffnbelfdoeiohenkjibnmadjiehjhajb",FIREFOX:"https://addons.mozilla.org/en-US/firefox/addon/yoroi/"}}},ledgerNano:{DEFAULT_WALLET_NAME:"Yoroi-Ledger",VENDOR:"ledger.com"}}}),forms:s()({FORM_VALIDATION_DEBOUNCE_WAIT:500})})},558:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var o,s,n=r(18),a=r.n(n),i=r(12),l=r.n(i),c=(r(1),r(4)),g=r.n(c),d=(r(59),r(3)),u=r(109);let p=(o=class e extends u.b{constructor(e){const{certificates:t,...r}=e;super(r),l()(this,"certificates",s,this),this.certificates=t}static fromAnnotatedTx(t){const{addressLookupMap:r,defaultToken:o,tx:s}=t;return new e({txid:s.transaction.Hash,block:s.block,type:s.type,amount:s.amount.joinAddCopy(s.fee),fee:s.fee,date:null!=s.block?s.block.BlockTime:new Date(s.transaction.LastUpdateTime),addresses:{from:[...Object(u.c)({rows:s.utxoInputs,addressLookupMap:r,tokens:s.tokens,defaultToken:o}),...Object(u.c)({rows:s.accountingInputs,addressLookupMap:r,tokens:s.tokens,defaultToken:o})],to:[...Object(u.c)({rows:s.utxoOutputs,addressLookupMap:r,tokens:s.tokens,defaultToken:o}),...Object(u.c)({rows:s.accountingOutputs,addressLookupMap:r,tokens:s.tokens,defaultToken:o})]},certificates:s.certificates,state:s.transaction.Status,errorMsg:s.transaction.ErrorMessage})}},s=g()(o.prototype,"certificates",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g()(o,"fromAnnotatedTx",[d.action],a()(o,"fromAnnotatedTx"),o),o)},661:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));const o={DROPBOX:"dropbox"}},666:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var o=r(17),s=r(7),n=r(5),a=r(10);const i=Object(n.e)({signTxError101:{id:"wallet.send.trezor.error.101",defaultMessage:"!!!Signing cancelled on Trezor device. Please retry."}});function l(e){let t=null;if(e instanceof o.b)t=e;else if(e&&e.message)switch(e.message){case"Iframe timeout":t=new o.b(s.a.trezorError101);break;case"Permissions not granted":t=new o.b(s.a.hwError101);break;case"Cancelled":case"Popup closed":t=new o.b(s.a.trezorError103);break;case"Signing cancelled":t=new o.b(i.signTxError101);break;default:a.a.error(`TrezorLocalizedError::convertToLocalizableError::error: ${e.message}`),t=new o.a}return t||(t=new o.a),t}},679:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var o,s,n,a=r(1),i=r.n(a),l=r(0),c=r.n(l),g=r(9),d=r(5),u=r(63),p=r(41),h=r(257);const m=Object(d.e)({title:{id:"yoroiTransfer.waiting.title.label",defaultMessage:"!!!Wallet is being restored"},restoringAddresses:{id:"yoroiTransfer.waiting.progressInfo.restoringAddresses",defaultMessage:"!!!Fetching addresses"},checkingAddresses:{id:"yoroiTransfer.waiting.progressInfo.checkingAddresses",defaultMessage:"!!!Checking addresses funds"},generatingTx:{id:"yoroiTransfer.waiting.checkingAddresses.generatingTx",defaultMessage:"!!!Generating transfer transaction"}});let f=Object(g.a)((n=s=class extends l.Component{render(){const{intl:e}=this.context,{status:t}=this.props;return c.a.createElement(p.a,{closeOnOverlayClick:!1},c.a.createElement(h.a,{title:e.formatMessage(m.title),details:this.getMessage(e,t)}))}getMessage(e,t){switch(t){case u.a.RESTORING_ADDRESSES:return e.formatMessage(m.restoringAddresses);case u.a.CHECKING_ADDRESSES:return e.formatMessage(m.checkingAddresses);case u.a.GENERATING_TX:return e.formatMessage(m.generatingTx);default:throw new Error("TransferWaitingPage::getMessage unexpected status")}}},i()(s,"contextTypes",{intl:d.f.isRequired}),o=n))||o},695:function(e,t,r){"use strict";r.d(t,"a",(function(){return j}));var o,s,n,a,i,l=r(18),c=r.n(l),g=r(11),d=r.n(g),u=r(31),p=r.n(u),h=r(12),m=r.n(h),f=r(1),w=r.n(f),T=r(4),b=r.n(T),E=(r(59),r(0)),y=r.n(E),C=r(9),v=r(3),S=r(5),k=(r(72),r(682)),x=r(278),P=r(696),D=r(145),A=r(41),R=r(96),O=r(354),I=r(60),M=r(7),N=(r(50),r(100),r(17),r(85)),W=r(33),L=r(77),F=r(39);let j=Object(C.a)((i=a=class extends E.Component{constructor(...e){super(...e),m()(this,"spendingPasswordForm",n,this),w()(this,"submit",async()=>{const e=this.generated.stores.wallets.selected;if(null==e)throw new Error("TransferSendPage no wallet selected");if(null==this.spendingPasswordForm){if(null==this.props.transactionRequest.result)return;const t=this.props.transactionRequest.result;Object(L.c)(e.getParent())&&await this.generated.actions.ada.trezorSend.sendUsingTrezor.trigger({params:{signRequest:t},publicDeriver:e}),Object(L.b)(e.getParent())&&await this.generated.actions.ada.ledgerSend.sendUsingLedgerWallet.trigger({params:{signRequest:t},publicDeriver:e}),null==this.generated.stores.wallets.sendMoneyRequest.error&&this.props.onSubmit.trigger()}else this.spendingPasswordForm.submit({onSuccess:async t=>{const{walletPassword:r}=p()(t).call(t);null!=this.props.transactionRequest.result&&(await this.generated.actions.wallets.sendMoney.trigger({signRequest:this.props.transactionRequest.result,password:r,publicDeriver:e}),null==this.generated.stores.wallets.sendMoneyRequest.error&&this.props.onSubmit.trigger())},onError:()=>{}})}),w()(this,"getSpinner",()=>{const{intl:e}=this.context;return(y.a.createElement(A.a,{title:e.formatMessage(M.a.processingLabel),closeOnOverlayClick:!1},y.a.createElement(k.a,null,y.a.createElement(D.a,null,y.a.createElement(R.a,null)))))}),w()(this,"getContent",e=>{var t;const r=this.generated.stores.wallets.selected;if(null==r)throw new Error("TransferSendPage no wallet selected");const o=null==Object(W.h)(r)?void 0:y.a.createElement(O.a,{setForm:e=>this.setSpendingPasswordForm(e),classicTheme:this.generated.stores.profile.isClassicTheme,isSubmitting:this.generated.stores.wallets.sendMoneyRequest.isExecuting}),{intl:s}=this.context;return y.a.createElement(x.a,{header:this.props.header,form:o,selectedExplorer:null!==(t=this.generated.stores.explorers.selectedExplorer.get(r.getParent().getNetworkInfo().NetworkId))&&void 0!==t?t:(()=>{throw new Error("No explorer for wallet network")})(),transferTx:this.props.toTransferTx(e),getTokenInfo:Object(F.b)(this.generated.stores.tokenInfoStore.tokenInfo),onSubmit:{label:this.props.onSubmit.label,trigger:this.submit},isSubmitting:this.generated.stores.wallets.sendMoneyRequest.isExecuting,onCancel:this.props.onClose,error:this.generated.stores.wallets.sendMoneyRequest.error,dialogTitle:s.formatMessage(M.a.walletSendConfirmationDialogTitle),getCurrentPrice:this.generated.stores.coinPriceStore.getCurrentPrice,unitOfAccountSetting:this.generated.stores.profile.unitOfAccount,addressLookup:Object(N.e)(r,s,void 0,this.generated.stores.addresses.addressSubgroupMap),addressToDisplayString:e=>Object(I.a)(e,r.getParent().getNetworkInfo())})})}setSpendingPasswordForm(e){this.spendingPasswordForm=e}componentWillUnmount(){this.generated.stores.wallets.sendMoneyRequest.reset(),this.props.transactionRequest.reset()}render(){return null!=this.props.transactionRequest.error?y.a.createElement(P.a,{error:this.props.transactionRequest.error,onCancel:this.props.onClose.trigger,classicTheme:this.generated.stores.profile.isClassicTheme}):null==this.props.transactionRequest.result?this.getSpinner():this.getContent(this.props.transactionRequest.result)}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("TransferSendPage no way to generated props");const{stores:e,actions:t}=this.props;return d()({stores:{addresses:{addressSubgroupMap:e.addresses.addressSubgroupMap},explorers:{selectedExplorer:e.explorers.selectedExplorer},profile:{isClassicTheme:e.profile.isClassicTheme,unitOfAccount:e.profile.unitOfAccount},wallets:{selected:e.wallets.selected,sendMoneyRequest:{reset:e.wallets.sendMoneyRequest.reset,error:e.wallets.sendMoneyRequest.error,isExecuting:e.wallets.sendMoneyRequest.isExecuting}},tokenInfoStore:{tokenInfo:e.tokenInfoStore.tokenInfo},coinPriceStore:{getCurrentPrice:e.coinPriceStore.getCurrentPrice}},actions:{wallets:{sendMoney:{trigger:t.wallets.sendMoney.trigger}},ada:{ledgerSend:{sendUsingLedgerWallet:{trigger:t.ada.ledgerSend.sendUsingLedgerWallet.trigger}},trezorSend:{sendUsingTrezor:{trigger:t.ada.trezorSend.sendUsingTrezor.trigger}}}}})}},w()(a,"contextTypes",{intl:S.f.isRequired}),w()(a,"defaultProps",{header:void 0}),s=i,n=b()(s.prototype,"spendingPasswordForm",[v.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b()(s.prototype,"setSpendingPasswordForm",[v.action],c()(s.prototype,"setSpendingPasswordForm"),s.prototype),b()(s.prototype,"generated",[v.computed],c()(s.prototype,"generated"),s.prototype),o=s))||o},696:function(e,t,r){"use strict";r.d(t,"a",(function(){return m}));var o,s,n,a=r(1),i=r.n(a),l=r(0),c=r.n(l),g=r(9),d=r(5),u=(r(17),r(347)),p=r(7),h=r(23);let m=Object(g.a)((n=s=class extends l.Component{render(){const{intl:e}=this.context,{error:t,onCancel:r,classicTheme:o}=this.props;return c.a.createElement(u.a,{title:e.formatMessage(new h.c),backButtonLabel:e.formatMessage(p.a.cancel),onCancel:r,error:t,classicTheme:o})}},i()(s,"defaultProps",{error:void 0}),i()(s,"contextTypes",{intl:d.f.isRequired}),o=n))||o},838:function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var o,s=r(18),n=r.n(s),a=r(4),i=r.n(a),l=r(3),c=r(109);let g=(o=class e extends c.b{static fromAnnotatedTx(t){const{addressLookupMap:r,defaultToken:o,tx:s}=t;return new e({txid:s.transaction.Hash,block:s.block,type:s.type,amount:s.amount.joinAddCopy(s.fee),fee:s.fee,date:null!=s.block?s.block.BlockTime:new Date(s.transaction.LastUpdateTime),addresses:{from:Object(c.c)({rows:s.utxoInputs,addressLookupMap:r,tokens:s.tokens,defaultToken:o}),to:Object(c.c)({rows:s.utxoOutputs,addressLookupMap:r,tokens:s.tokens,defaultToken:o})},state:s.transaction.Status,errorMsg:s.transaction.ErrorMessage})}},i()(o,"fromAnnotatedTx",[l.action],n()(o,"fromAnnotatedTx"),o),o)},843:function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var o,s=r(18),n=r.n(s),a=r(4),i=r.n(a),l=r(3),c=r(109);let g=(o=class e extends c.b{static fromAnnotatedTx(t){const{addressLookupMap:r,defaultToken:o,tx:s}=t;return new e({txid:s.transaction.Hash,block:s.block,type:s.type,amount:s.amount.joinAddCopy(s.fee),fee:s.fee,date:null!=s.block?s.block.BlockTime:new Date(s.transaction.LastUpdateTime),addresses:{from:Object(c.c)({rows:s.utxoInputs,addressLookupMap:r,tokens:s.tokens,defaultToken:o}),to:Object(c.c)({rows:s.utxoOutputs,addressLookupMap:r,tokens:s.tokens,defaultToken:o})},state:s.transaction.Status,errorMsg:s.transaction.ErrorMessage})}},i()(o,"fromAnnotatedTx",[l.action],n()(o,"fromAnnotatedTx"),o),o)},894:function(e,t,r){"use strict";r.d(t,"a",(function(){return de}));var o,s,n,a,i,l,c,g,d,u=r(18),p=r.n(u),h=r(11),m=r.n(h),f=r(8),w=r.n(f),T=r(66),b=r.n(T),E=r(58),y=r.n(E),C=r(32),v=r.n(C),S=r(12),k=r.n(S),x=r(1),P=r.n(x),D=r(4),A=r.n(D),R=(r(59),r(0)),O=r.n(R),I=r(9),M=r(3),N=r(5),W=r(1596),L=(r(17),r(41)),F=r(19),j=r(51),q=(r(50),r(7)),B=r(259),_=r(135),U=r(257),H=r(1597),z=(r(100),r(187)),V=r(1598),K=r(702),G=r(342),Y=r.n(G),$=r(92),X=r.n($),Q=r(47),J=r(145),Z=r(96);let ee=Object(I.a)((d=g=class extends R.Component{constructor(e){super(e),k()(this,"iframe",n,this),k()(this,"frameHeight",a,this),k()(this,"messageHandler",i,this),k()(this,"setFrame",l,this),k()(this,"resize",c,this),window.addEventListener("message",this.messageHandler,!1)}componentDidMount(){window.addEventListener("resize",this.resize),this.resize()}componentWillUnmount(){window.removeEventListener("resize",this.resize),window.removeEventListener("message",this.messageHandler)}render(){const{urlTemplate:e,locale:t,totalAda:r}=this.props;if(null==e)throw new Error("Staking undefined POOLS_UI_URL_FOR_YOROI should never happen");const o=this._prepareStakingURL(e,t,r);return null==o?O.a.createElement(J.a,null,O.a.createElement(Z.a,null)):O.a.createElement("iframe",{sandbox:"allow-scripts allow-popups allow-popups-to-escape-sandbox",referrerPolicy:"no-referrer",ref:this.setFrame,title:"Staking",src:`${o}`,frameBorder:"0",width:"100%",height:null!=this.iframe&&null!=this.frameHeight?this.frameHeight+"px":null})}_getBrowserReplacement(){return Q.a.userAgentInfo.isExtension()?Q.a.userAgentInfo.isFirefox()?"firefox&mozId="+location.hostname:"chrome&chromeId="+chrome.runtime.id:Q.a.userAgentInfo.isFirefox()?"firefox&host"+location.host:"chrome&chromeId="+location.host}_prepareStakingURL(e,t,r){let o=e.replace("$$BROWSER$$",this._getBrowserReplacement());return o+=`&lang=${null==t?"en":X()(t).call(t,0,2)}`,o+=`&delegated=${encodeURIComponent(b()(this.props.poolList))}`,o+=null==r?"":`&totalAda=${r}`,o}},P()(g,"defaultProps",{children:void 0}),P()(g,"contextTypes",{intl:N.f.isRequired}),s=d,n=A()(s.prototype,"iframe",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=A()(s.prototype,"frameHeight",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),i=A()(s.prototype,"messageHandler",[M.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{if(null==this.iframe)return;if("null"!==e.origin||e.source!==this.iframe.contentWindow)return;const t=JSON.parse(decodeURI(e.data));if(!Y()(t))throw new Error("SeizaFetcher Server response is not an array");const r=t[0];if("string"!=typeof r)throw new Error("SeizaFetcher Server response is not a string");const o=r;if(56!==o.length)throw new Error(`SeizaFetcher Server response has incorrect pool length. Expected 56, got ${o.length}`);await this.props.stakepoolSelectedAction(r)}}}),l=A()(s.prototype,"setFrame",[M.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.iframe=e}}}),c=A()(s.prototype,"resize",[M.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{null!=this.iframe?this.frameHeight=Math.max(window.innerHeight-this.iframe.getBoundingClientRect().top-30,0):this.frameHeight=0}}}),o=s))||o;var te,re,oe,se,ne,ae=r(370),ie=r(52),le=r(67),ce=r(39),ge=r(38);let de=Object(I.a)((ne=se=class extends R.Component{constructor(...e){super(...e),k()(this,"notificationElementId",oe,this),P()(this,"cancel",()=>{this.generated.actions.ada.delegationTransaction.reset.trigger({justTransaction:!0})}),P()(this,"_getTotalAda",()=>{const e=this.generated.stores.wallets.selected;if(null==e)throw new Error("CardanoStakingPage no public deriver. Should never happen");const t=this.generated.stores.delegation.getDelegationRequests(e);if(null==t)throw new Error("CardanoStakingPage opened for non-reward wallet");const r=this.generated.stores.transactions.getTxRequests(e).requests.getBalanceRequest.result,o=null==t.getDelegatedBalance.result?new ge.a([],e.getParent().getDefaultToken()):t.getDelegatedBalance.result.accountPart,s=Object(ce.b)(this.generated.stores.tokenInfoStore.tokenInfo)(o.getDefaultEntry());if(null==r||null==o)throw new Error("CardanoStakingPage balance or rewardBalance is null");return r.joinAddCopy(o).getDefaultEntry().amount.shiftedBy(-s.Metadata.numberOfDecimals).toNumber()}),P()(this,"_updatePool",async e=>{this.generated.stores.delegation.poolInfoQuery.reset(),null!=e?await this.generated.actions.ada.delegationTransaction.setPools.trigger([e]):await this.generated.actions.ada.delegationTransaction.setPools.trigger([])}),P()(this,"_next",async()=>{const e=this.generated.stores.wallets.selected;if(null==e)return;const{delegationTransaction:t}=this.generated.stores.substores.ada;0!==t.selectedPools.length&&await this.generated.actions.ada.delegationTransaction.createTransaction.trigger({poolRequest:t.selectedPools[0],publicDeriver:e})}),P()(this,"_displayPoolInfo",()=>{var e,t,r,o,s,n;const{intl:a}=this.context,i=this.generated.stores.wallets.selected;if(null==i)return null;const l=this._getPoolInfo(i);if(null==l)return;const c={duration:ie.a.wallets.ADDRESS_COPY_TOOLTIP_NOTIFICATION_DURATION,message:q.a.copyTooltipMessage},g=null!=(null===(e=l.info)||void 0===e?void 0:e.homepage)?{openPoolPage:le.c,url:l.info.homepage}:void 0;return O.a.createElement(K.a,{purpose:"delegation",poolName:null!==(t=null===(r=l.info)||void 0===r?void 0:r.name)&&void 0!==t?t:a.formatMessage(q.a.unknownPoolLabel),data:{description:null!==(o=null===(s=l.info)||void 0===s?void 0:s.description)&&void 0!==o?o:void 0},selectedExplorer:null!==(n=this.generated.stores.explorers.selectedExplorer.get(i.getParent().getNetworkInfo().NetworkId))&&void 0!==n?n:(()=>{throw new Error("No explorer for wallet network")})(),hash:l.poolId,moreInfo:g,classicTheme:this.generated.stores.profile.isClassicTheme,onCopyAddressTooltip:(e,t)=>{this.generated.stores.uiNotifications.isOpen(t)||(Object(M.runInAction)(()=>{this.notificationElementId=t}),this.generated.actions.notifications.open.trigger({id:t,duration:c.duration,message:c.message}))},notification:null==this.notificationElementId?null:this.generated.stores.uiNotifications.getTooltipActiveNotification(this.notificationElementId),undelegate:void 0,reputationInfo:l.reputation,openReputationDialog:()=>this.generated.actions.dialogs.open.trigger({dialog:ae.a,params:{reputation:l.reputation}})})}),P()(this,"_getPoolInfo",e=>{const{delegationTransaction:t}=this.generated.stores.substores.ada;return 0===t.selectedPools.length?void 0:this.generated.stores.delegation.getLocalPoolInfo(e.getParent().getNetworkInfo(),t.selectedPools[0])}),P()(this,"_errorDialog",e=>{const{intl:t}=this.context,r=[{label:t.formatMessage(q.a.backButtonLabel),onClick:this.cancel,primary:!0}];return O.a.createElement(L.a,{title:t.formatMessage(q.a.errorLabel),closeOnOverlayClick:!1,onClose:this.cancel,closeButton:O.a.createElement(j.a,{onClose:this.cancel}),actions:r},O.a.createElement(O.a.Fragment,null,O.a.createElement("center",null,O.a.createElement(B.a,null)),O.a.createElement(_.a,{error:e})))}),P()(this,"getDialog",()=>{var e;const{intl:t}=this.context,{delegationTransaction:r}=this.generated.stores.substores.ada,o=r.createDelegationTx.result,s=this.generated.stores.wallets.selected;if(null==s)return null;if(this.generated.stores.uiDialogs.isOpen(ae.a))return O.a.createElement(ae.a,{close:()=>this.generated.actions.dialogs.closeActiveDialog.trigger(),reputationInfo:this.generated.stores.uiDialogs.getParam("reputation")});const n=s.getParent().getNetworkInfo(),a=v()(e=n.BaseConfig).call(e,(e,t)=>y()(e,t),{}),i=e=>{var t;const r=null===(t=this.generated.stores.tokenInfoStore.tokenInfo.get(e.networkId.toString()))||void 0===t?void 0:t.get(e.identifier);if(null==r)throw new Error(`CardanoStakingPage no token info for ${b()(e)}`);return{amount:e.amount.times(a.PerEpochPercentageReward).div(F.e),token:r}},l=this.generated.stores.wallets.sendMoneyRequest.isExecuting||!this.generated.stores.wallets.sendMoneyRequest.wasExecuted||null!=this.generated.stores.wallets.sendMoneyRequest.error,c=this._getPoolInfo(s);var g,d,u;return null==this.generated.stores.delegation.poolInfoQuery.error?this.generated.stores.delegation.poolInfoQuery.isExecuting?O.a.createElement(L.a,{title:t.formatMessage(q.a.processingLabel),closeOnOverlayClick:!1},O.a.createElement(U.a,{title:t.formatMessage(q.a.processingLabel),details:t.formatMessage(q.a.poolFetching)})):r.createDelegationTx.isExecuting?O.a.createElement(L.a,{title:t.formatMessage(q.a.processingLabel),closeOnOverlayClick:!1},O.a.createElement(U.a,{title:t.formatMessage(q.a.processingLabel),details:t.formatMessage(q.a.txGeneration)})):null!=r.createDelegationTx.error?this._errorDialog(r.createDelegationTx.error):null!=o&&r.selectedPools.length>=1&&l?null==c?null:O.a.createElement(V.a,{staleTx:r.isStale,poolName:null!==(g=null===(d=c.info)||void 0===d?void 0:d.name)&&void 0!==g?g:t.formatMessage(q.a.unknownPoolLabel),poolHash:r.selectedPools[0],transactionFee:o.signTxRequest.fee(),amountToDelegate:o.totalAmountToDelegate,approximateReward:i(o.totalAmountToDelegate.getDefaultEntry()),getTokenInfo:Object(ce.b)(this.generated.stores.tokenInfoStore.tokenInfo),isSubmitting:this.generated.stores.wallets.sendMoneyRequest.isExecuting,isHardware:s.getParent().getWalletType()===z.a.HARDWARE_WALLET,onCancel:this.cancel,onSubmit:({password:e})=>this.generated.actions.ada.delegationTransaction.signTransaction.trigger({password:e,publicDeriver:s}),classicTheme:this.generated.stores.profile.isClassicTheme,error:this.generated.stores.wallets.sendMoneyRequest.error,selectedExplorer:null!==(u=this.generated.stores.explorers.selectedExplorer.get(s.getParent().getNetworkInfo().NetworkId))&&void 0!==u?u:(()=>{throw new Error("No explorer for wallet network")})()}):null==o||l?void 0:O.a.createElement(H.a,{onClose:this.generated.actions.ada.delegationTransaction.complete.trigger,classicTheme:this.generated.stores.profile.isClassicTheme}):void 0})}async componentWillUnmount(){this.generated.actions.ada.delegationTransaction.reset.trigger({justTransaction:!1}),await this.generated.actions.ada.delegationTransaction.setPools.trigger([]),this.generated.stores.delegation.poolInfoQuery.reset()}render(){const{urlTemplate:e}=this.props,t=this.generated.stores.wallets.selected;if(null==t)return null;const r=this.generated.stores.delegation.getDelegationRequests(t);if(null==r)throw new Error("SeizaFetcher opened for non-reward wallet");if(null!=e){var o,s,n,a;const t=this._getTotalAda(),i=this.generated.stores.profile.currentLocale;return O.a.createElement("div",null,this.getDialog(),O.a.createElement(ee,{urlTemplate:e,locale:i,totalAda:t,poolList:null!==(o=null===(s=r.getCurrentDelegation.result)||void 0===s?void 0:null===(n=s.currEpoch)||void 0===n?void 0:w()(a=n.pools).call(a,e=>e[0]))&&void 0!==o?o:[],stakepoolSelectedAction:async e=>{await this._updatePool(e),await this._next()}}))}return(O.a.createElement("div",null,this.getDialog(),O.a.createElement(W.a,{hasAnyPending:this.generated.stores.transactions.hasAnyPending,poolQueryError:this.generated.stores.delegation.poolInfoQuery.error,isProcessing:this.generated.stores.delegation.poolInfoQuery.isExecuting,updatePool:e=>{this._updatePool(e)},onNext:async()=>this._next()}),this._displayPoolInfo()))}get generated(){if(void 0!==this.props.generated)return this.props.generated;if(null==this.props.stores||null==this.props.actions)throw new Error("CardanoStakingPage no way to generated props");const{stores:e,actions:t}=this.props,r=e.substores.ada.delegationTransaction;return m()({stores:{explorers:{selectedExplorer:e.explorers.selectedExplorer},wallets:{selected:e.wallets.selected,sendMoneyRequest:{error:e.wallets.sendMoneyRequest.error,isExecuting:e.wallets.sendMoneyRequest.isExecuting,wasExecuted:e.wallets.sendMoneyRequest.wasExecuted}},profile:{isClassicTheme:e.profile.isClassicTheme,currentLocale:e.profile.currentLocale},transactions:{hasAnyPending:e.transactions.hasAnyPending,getTxRequests:e.transactions.getTxRequests},tokenInfoStore:{tokenInfo:e.tokenInfoStore.tokenInfo},delegation:{getDelegationRequests:e.delegation.getDelegationRequests,getLocalPoolInfo:e.delegation.getLocalPoolInfo,poolInfoQuery:{isExecuting:e.delegation.poolInfoQuery.isExecuting,error:e.delegation.poolInfoQuery.error,reset:e.delegation.poolInfoQuery.reset}},substores:{ada:{delegationTransaction:{selectedPools:r.selectedPools,isStale:r.isStale,createDelegationTx:{result:r.createDelegationTx.result,error:r.createDelegationTx.error,isExecuting:r.createDelegationTx.isExecuting}}}},uiDialogs:{isOpen:e.uiDialogs.isOpen,getParam:e.uiDialogs.getParam},uiNotifications:{isOpen:e.uiNotifications.isOpen,getTooltipActiveNotification:e.uiNotifications.getTooltipActiveNotification}},actions:{notifications:{open:{trigger:t.notifications.open.trigger}},ada:{delegationTransaction:{createTransaction:{trigger:t.ada.delegationTransaction.createTransaction.trigger},signTransaction:{trigger:t.ada.delegationTransaction.signTransaction.trigger},reset:{trigger:t.ada.delegationTransaction.reset.trigger},complete:{trigger:t.ada.delegationTransaction.complete.trigger},setPools:{trigger:t.ada.delegationTransaction.setPools.trigger}}},dialogs:{closeActiveDialog:{trigger:t.dialogs.closeActiveDialog.trigger},open:{trigger:t.dialogs.open.trigger}}}})}},P()(se,"contextTypes",{intl:N.f.isRequired}),re=ne,oe=A()(re.prototype,"notificationElementId",[M.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),A()(re.prototype,"generated",[M.computed],p()(re.prototype,"generated"),re.prototype),te=re))||te}}]);
/*!
 * 
 * Copyright 2021 NAVER Corp. All Rights reserved.
 * All rights, including but not limited to, copyrights,
 * and intellectual property rights of this source code are owned by NAVER Corp.
 * 
 * You may not use, reproduce, modify, or distribute this source code
 * without prior written permission from NAVER Corp.
 * 
 */!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=15)}([function(t,e){t.exports=function(){"use strict";const t={},{whale:e}=window;if(!e||!e.runtime||!e.runtime.onMessage)return!1;return e.runtime.onMessage.addListener((function(e,n,i){e.namespace&&Array.isArray(t[e.namespace])&&t[e.namespace].forEach(t=>{t(e.message,n,i)});return!0})),{broadcast:function(t,n){if(!e.tabs)return new Promise((t,e)=>{e()});const i=[];return e.tabs.query({},r=>{r.forEach(r=>{i.push(new Promise(i=>{e.tabs.sendMessage(r.id,{namespace:t,message:n},t=>{e.runtime.lastError,i(t)})}))})}),Promise.all(i)},listen:function(e,n){t[e]=t[e]||[],t[e].push(n)},send:function(t,n,i,r){return new Promise(s=>{void 0!==i&&i>-1?e.tabs.sendMessage(i,{namespace:t,message:n},void 0!==r&&r>-1?{frameId:r}:{},t=>{e.runtime.lastError,s(t)}):e.runtime.sendMessage({namespace:t,message:n},t=>{e.runtime.lastError,s(t)})})}}}()},function(t,e,n){"use strict";var i=n(2);const r=["ko","en","ja","zh-CN"];e.a={detect:(t,e)=>new Promise(async n=>{const r=new FormData;r.append("image",t),r.append("lang",e);const s=await Object(i.a)("https://apis.naver.com/whale/papago/ocr/detect"),a=new XMLHttpRequest;a.open("POST",s),a.onload=function(){n((t=>{const e=(t=>{const e=[];return void 0===t||0===t.length?[{failed:!0}]:(t.forEach(t=>{if(void 0!==t.text)if(e.length>=1&&((t,e)=>e.LT.y-10<=t.y&&e.LB.y+10>=t.y)(e[e.length-1],t)){const n=e.pop();e.push({x:n.x,y:n.y,width:t.RB.x-n.x,height:t.RB.y-n.y,text:`${n.text} ${t.text}`})}else e.push({x:t.LT.x,y:t.LT.y,width:t.RB.x-t.LT.x,height:t.RB.y-t.LT.y,text:t.text})}),e)})(JSON.parse(t).ocrs);if(!e||0===e.length)return null;if(e[0]&&e[0].failed)return null;const n=[];return e.forEach(t=>{n.push(t.text)}),n})(this.response))},a.send(r)}),isSupportedLanguage:t=>r.includes(t),getSupportedLanguages:()=>r}},function(t,e,n){"use strict";function i(t){return new Promise((e,n)=>{whale&&whale.utility&&whale.utility.getHmacURL?whale.utility.getHmacURL(t,t=>{e(t)}):n()})}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,s=r&&"function"==typeof r.apply?r.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var l=10;function h(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function d(t,e,n,i){var r,s,a,o;if(h(n),void 0===(s=t._events)?(s=t._events=Object.create(null),t._eventsCount=0):(void 0!==s.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),a=s[e]),void 0===a)a=s[e]=n,++t._eventsCount;else if("function"==typeof a?a=s[e]=i?[n,a]:[a,n]:i?a.unshift(n):a.push(n),(r=c(t))>0&&a.length>r&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=a.length,o=l,console&&console.warn&&console.warn(o)}return t}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},r=p.bind(i);return r.listener=n,i.wrapFn=r,r}function u(t,e,n){var i=t._events;if(void 0===i)return[];var r=i[e];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(r):m(r,r.length)}function f(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");l=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var l=r[t];if(void 0===l)return!1;if("function"==typeof l)s(l,this,e);else{var h=l.length,c=m(l,h);for(n=0;n<h;++n)s(c[n],this,e)}return!0},o.prototype.addListener=function(t,e){return d(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return d(this,t,e,!0)},o.prototype.once=function(t,e){return h(e),this.on(t,g(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return h(e),this.prependListener(t,g(this,t,e)),this},o.prototype.removeListener=function(t,e){var n,i,r,s,a;if(h(e),void 0===(i=this._events))return this;if(void 0===(n=i[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(r=-1,s=n.length-1;s>=0;s--)if(n[s]===e||n[s].listener===e){a=n[s].listener,r=s;break}if(r<0)return this;0===r?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,r),1===n.length&&(i[t]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",t,a||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var r,s=Object.keys(n);for(i=0;i<s.length;++i)"removeListener"!==(r=s[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},o.prototype.listeners=function(t){return u(this,t,!0)},o.prototype.rawListeners=function(t){return u(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):f.call(t,e)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(t,e,n){"use strict";var i=n(2);const r="https://apis.naver.com/whale/papago/nsmt/translate",s="https://apis.naver.com/whale/papago/n2mt/translate",a=["ko","en","ja","zh-CN","es","fr","de","ru","vi","th","id","it","pt","hi"],o=["ko","en","ja","zh-CN","es","fr","de","ru","vi","th","id","it"],l={sources:a},h=()=>{l.targets||(l.targets={},a.forEach(t=>{["pt","hi"].includes(t)?l.targets[t]=["en"]:l.targets[t]="en"===t?a.filter(e=>e!==t):a.filter(e=>!["pt","hi",t].includes(e))})),l.nmt||(l.nmt={},o.forEach(t=>{l.nmt[t]=o.filter(e=>e!==t)}))},c=()=>(h(),l),d=(t,e)=>(h(),e?l.sources.includes(t)&&l.targets[t].includes(e):l.sources.includes(t));e.a={run:async(t,e,n)=>{if(0===(n||"").trim().length)return n;if(t===e)throw!1;if(!d(t,e))throw!1;const a=await(async(t,e)=>{const{nmt:n}=c(),a=n[t]&&n[t].includes(e);return await Object(i.a)(a?s:r)})(t,e),o=await fetch(a,{method:"post",mode:"cors",body:[`source=${t}`,`target=${e}`,`text=${encodeURIComponent(n)}`].join("&"),headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"})});if(!o.ok)throw!1;const l=await o.json();if(!l||!l.message||!l.message.result)throw!1;return l.message.result.translatedText},isSupported:d,getSupportedLanguages:c}},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var r=(a=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),s=i.sources.map((function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"}));return[n].concat(s).concat([r]).join("\n")}var a;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var s=this[r][0];"number"==typeof s&&(i[s]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){var i=n(11);t.exports="string"==typeof i?i:i.toString()},function(t,e,n){var i=n(12);t.exports="string"==typeof i?i:i.toString()},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><g fill="none" fill-rule="evenodd"><path d="M0 0h18v18H0z"></path><path fill="#5E5E5E" d="M3 13v.977C3 14.541 3.459 15 4.023 15H7v1H4.023C2.906 16 2 15.095 2 13.977V13h1zm0-6v4H2V7h1zm10.977-5C15.094 2 16 2.905 16 4.023V7h-1V4.023C15 3.459 14.541 3 13.977 3H13V2h.977zM5 2v1h-.977C3.459 3 3 3.459 3 4.023V5H2v-.977C2 2.905 2.906 2 4.023 2H5zm6 0v1H7V2h4zM6.757 6.757l8.486 2.829-3.658 1.192 3.991 3.99-.808.808-3.951-3.95-1.231 3.617-2.829-8.486z"></path></g></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="6" height="4" viewBox="0 0 6 4"><path fill="#6B7075" fill-rule="evenodd" d="M5 5L1 2 5 -1z" transform="rotate(-90 3 2)"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25"><rect x=".5" y=".5" width="24" height="24" rx="12" ry="12" fill="#303030" fill-opacity=".94" stroke="#292929"></rect><g data-name="qs_btn_search_cancel_normal copy"><path data-name="Rectangle 624 copy" d="M16.51 15.94l-.57.57-3.44-3.44-3.44 3.44-.57-.57 3.44-3.44-3.44-3.44.57-.57 3.44 3.44 3.44-3.44.57.57-3.44 3.44z" fill="#fff" fill-rule="evenodd"></path></g></svg>'},function(t,e,n){(t.exports=n(5)(!1)).push([t.i,".popup {\n    position: absolute;\n    top: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    min-height: 14px;\n    background: #fff;\n    font-size: 14px;\n    z-index: 10;\n    cursor: initial;\n    transform-origin: 50% 100%;\n    -webkit-font-smoothing: antialiased;\n    min-width: 210px;\n    border-radius: 5px;\n    border: 1px solid rgba(0, 0, 0, 0.1);\n    box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.14);\n}\n\n.popup.e {\n    opacity: 0.01;\n}\n\n.popup::before {\n    content: \"\";\n    position: absolute;\n    top: -14px;\n    left: calc(50% - 5px);\n    border: 7px solid transparent;\n    border-bottom-color: #fff;\n    z-index: 92;\n}\n\n.popup::after {\n    content: \"\";\n    position: absolute;\n    top: -16px;\n    left: calc(50% - 6px);\n    border: 8px solid transparent;\n    border-bottom-color: rgba(0, 0, 0, 0.3);\n    z-index: 91;\n}\n\n.popup.left-edge::before {\n    left: 21px;\n}\n\n.popup.left-edge::after {\n    left: 20px;\n}\n\n.popup.right-edge::before {\n    left: auto;\n    right: 21px;\n}\n\n.popup.right-edge::after {\n    left: auto;\n    right: 20px;\n}\n\n.popup .warning-text {\n    display: flex;\n    padding: 18px 28px;\n    margin: 0;\n    align-items: center;\n    justify-content: center;\n    white-space: nowrap;\n    user-select: none;\n    cursor: default;\n}\n\n.popup .warning-text:before {\n    content: \"\";\n    width: 14px;\n    height: 14px;\n    background: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='14' height='14' viewBox='0 0 14 14'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M0 0H14V14H0z'/%3E%3Ccircle cx='7' cy='7' r='6.5' stroke='%23FF2828'/%3E%3Cpath fill='%23FF2828' d='M7.5 8c.276 0 .5-.224.5-.5v-4c0-.276-.224-.5-.5-.5h-1c-.276 0-.5.224-.5.5v4c0 .276.224.5.5.5h1zM7 11c.552 0 1-.448 1-1s-.448-1-1-1-1 .448-1 1 .448 1 1 1z'/%3E%3C/g%3E%3C/svg%3E%0A\")\n        no-repeat;\n    background-size: cover;\n    margin-right: 6px;\n}\n\n.popup .loading {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 124px;\n    height: 40px;\n    font-size: 0;\n    padding: 0;\n    box-sizing: border-box;\n    --animation-time: 1.4s;\n    --ball-size: 12px;\n    --ball-space: 4px;\n    --ball-color: #00dc9b;\n}\n\n.popup .loading .ball {\n    display: inline-block;\n    width: var(--ball-size);\n    height: var(--ball-size);\n    background: var(--ball-color);\n    border-radius: 50%;\n    margin-right: var(--ball-space);\n    animation: loading-bounce var(--animation-time) infinite ease-in-out both;\n}\n\n.popup .loading .ball:nth-child(1) {\n    animation-delay: -0.32s;\n}\n\n.popup .loading .ball:nth-child(2) {\n    animation-delay: -0.16s;\n}\n\n.popup .loading .ball:nth-child(3) {\n    margin-right: 0;\n}\n\n.popup .result {\n    flex-direction: column;\n    padding: 0;\n    width: 100%;\n}\n\n.popup .result .origin {\n    padding: 15px 43px 15px 20px;\n    font-size: 13px;\n    color: #555;\n}\n\n.popup .result .translated {\n    border-top: 1px solid #eaeaea;\n    padding: 15px 20px;\n    color: #000;\n    white-space: pre-line;\n}\n\n.popup .result .txt-line {\n    display: block;\n    white-space: nowrap;\n}\n\n.popup .result .btn-cancel {\n    position: absolute;\n    background-position: 50%;\n    border: 0;\n    outline: rgba(0, 0, 0, 0);\n    cursor: pointer;\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 10 10'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M0 0H10V10H0z'/%3E%3Cpath stroke='%238F8F8F' d='M1 1L9 9'/%3E%3Cpath stroke='%238F8F8F' d='M1 1L9 9' transform='matrix(-1 0 0 1 10 0)'/%3E%3C/g%3E%3C/svg%3E%0A\");\n    background-repeat: no-repeat;\n    padding: 0px;\n    top: 10px;\n    right: 10px;\n    width: 10px;\n    height: 10px;\n    background-size: 10px;\n}\n\n/** -- **/\n\n/** close **/\n\n.btn-close {\n    position: absolute;\n    top: 5px;\n    right: 5px;\n    background: transparent;\n    border: 0;\n    cursor: pointer;\n    width: 25px;\n    height: 25px;\n    margin: 0;\n    padding: 0;\n    outline: rgba(0, 0, 0, 0);\n    z-index: 900;\n}\n\n.btn-close svg {\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n}\n\n/** -- **/\n\n/** controls **/\n\n.controls-wrapper {\n    position: absolute;\n    top: -109px;\n    left: calc(50% - 143px);\n    width: 286px;\n    border-radius: 5px;\n    border: 1px solid rgba(0, 0, 0, 0.1);\n    box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.14);\n    height: auto;\n    box-sizing: border-box;\n    padding: 0;\n    margin: 0;\n    user-select: none;\n    cursor: default;\n    background: #fff;\n    font-size: 12px;\n    letter-spacing: -0.3px;\n    color: rgba(95, 95, 95, 0.9);\n    overflow: hidden;\n    z-index: 100;\n}\n\n.controls-wrapper .title-text {\n    display: flex;\n    width: 100%;\n    height: 44px;\n    align-items: center;\n    justify-content: center;\n    cursor: move;\n    padding: 0;\n    margin: 0;\n    z-index: 1;\n    border-top: 1px solid #eaeaea;\n    color: #555;\n}\n\n.controls-wrapper .title-text svg {\n    width: 18px;\n    height: 18px;\n}\n\n.controls-wrapper .title-text span {\n    margin-left: 3px;\n}\n\n.controls-wrapper[data-dragging=\"true\"] .controls {\n    pointer-events: none;\n}\n\n.controls-wrapper .controls {\n    display: flex;\n    height: 54px;\n    justify-content: space-around;\n}\n\n.controls-wrapper .controls .select-wrap {\n    position: relative;\n    display: flex;\n    cursor: pointer;\n    padding: 0;\n    margin: 0;\n    flex: 2;\n    box-sizing: border-box;\n    justify-content: center;\n    align-items: center;\n}\n\n.controls-wrapper .controls .select-spacer {\n    position: relative;\n    display: flex;\n    flex: 1;\n    align-items: center;\n    justify-content: center;\n}\n.controls-wrapper .controls .select-spacer .spacer-btn {\n    width: 28px;\n    height: 28px;\n    background: url(\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20'><g fill='none' fill-rule='evenodd'><path d='M0 0H20V20H0z'/><path fill='%23000' d='M1 11.999L5.24 16.999 6 16.349 3.173 13 19 13 19 11.999zM14.76 4L14 4.65 16.826 8 1 8 1 8.999 19 8.999z'/></g></svg>%0A\")\n        no-repeat;\n    background-size: 20px;\n    background-position: center;\n    border: 0px;\n    outline: none;\n    border-radius: 3px;\n    cursor: pointer;\n}\n\n.controls-wrapper .controls .select-spacer .spacer-btn:active {\n    background-color: rgba(22, 40, 56, 0.12);\n}\n\n.controls-wrapper .controls .select-spacer .spacer-btn:hover {\n    background-color: rgba(22, 40, 56, 0.08);\n}\n\n.controls-wrapper .controls .select-spacer .spacer-btn:disabled {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cpath d='M0 0H20V20H0z'/%3E%3Cpath fill='%23000' d='M1 11.999L5.24 16.999 6 16.349 3.173 13 19 13 19 11.999z' opacity='.3'/%3E%3Cpath fill='%23000' d='M14.76 4L14 4.65 16.826 8 1 8 1 8.999 19 8.999z'/%3E%3C/g%3E%3C/svg%3E%0A\");\n    background-color: transparent !important;\n    cursor: auto;\n}\n\n.controls-wrapper .controls .selected {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    pointer-events: none;\n    padding-top: 2px;\n}\n\n.controls-wrapper .controls .selected .flag {\n    width: 16px;\n    height: 16px;\n    margin-right: 5px;\n}\n\n.controls-wrapper .controls .selected .text {\n    font-size: 13px;\n    font-weight: 400;\n    padding-right: 17px;\n    margin-right: -12px;\n    line-height: 1;\n    color: #303030;\n    padding: 0px;\n    margin-right: 2px;\n}\n\n.controls-wrapper .controls .select {\n    width: 100%;\n    -webkit-appearance: none;\n    background: transparent;\n    border: 0;\n    cursor: pointer;\n    font-size: 13px;\n    margin: 0;\n    outline: none;\n    padding: 10px 15px;\n    opacity: 0;\n}\n\n/** -- **/\n\n/** mask **/\n\n#mask {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    z-index: 0;\n}\n\n/** -- **/\n\n/** animation **/\n\n.appear-scale-ready {\n    opacity: 0;\n    transform: scale3d(0, 0, 1);\n}\n\n.disappear-scale-ready {\n    opacity: 1;\n    transform: scale3d(1, 1, 1);\n}\n\n.controls-wrapper .controls .selected .flag.de {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16'%0A%3E%3Cdefs%3E%3Crect id='a' width='16' height='16' x='0' y='0' rx='3' /%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3CclipPath id='b' fill='%23fff'%3E%3Cuse xlink:href='%23a' /%3E%3C/clipPath%3E%3Cuse fill='%23F01515' xlink:href='%23a' /%3E%3Cpath fill='%23262626' d='M0 0h16v5H0z' clip-path='url(%23b)' /%3E%3Cpath fill='%23FFD133' d='M0 11h16v5H0z' clip-path='url(%23b)' /%3E%3C/g%3E%3C/svg%3E%0A\");\n}\n\n.controls-wrapper .controls .selected .flag.en {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16'%0A%3E%3Cdefs%3E%3Crect id='a' width='16' height='16' x='0' y='0' rx='3' /%3E%3Crect id='e' width='16' height='16' x='0' y='0' rx='3' /%3E%3Crect id='g' width='16' height='16' x='0' y='0' rx='3' /%3E%3Cpath id='c' d='M8 0h8v16H8z' /%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3CclipPath id='b' fill='%23fff'%3E%3Cuse xlink:href='%23a' /%3E%3C/clipPath%3E%3Cuse fill='%23FFF' xlink:href='%23a' /%3E%3Cg clip-path='url(%23b)'%3E%3Cpath fill='%23E1244A' d='M0 11h8v2H0zm0-3h8v2H0zm0 6h8v2H0z' /%3E%3Cpath fill='%230A17A7' d='M0 0h8v8H0z' /%3E%3Cpath fill='%23FFF' fill-opacity='.75' d='M5 6v1h1V6H5zM3 6v1h1V6H3zm1-1v1h1V5H4zM2 5v1h1V5H2zm3-1v1h1V4H5zM3 4v1h1V4H3zm1-1v1h1V3H4zM2 3v1h1V3H2zm1-1v1h1V2H3zm2 0v1h1V2H5z' /%3E%3C/g%3E%3CclipPath id='d' fill='%23fff'%3E%3Cuse xlink:href='%23c' /%3E%3C/clipPath%3E%3Cg clip-path='url(%23d)'%3E%3CclipPath id='f' fill='%23fff'%3E%3Cuse xlink:href='%23e' /%3E%3C/clipPath%3E%3Cuse fill='%230A17A7' xlink:href='%23e' /%3E%3Cpath fill='%23E6273E' stroke='%23FFF' stroke-width='.5' d='M11.332 6.75h5.918v2.5h-5.907l6.377 6.223-1.061 1.06-5.409-5.279v4.996h-2.5V-.25h2.5v4.968l5.408-5.364 1.06 1.06-6.386 6.335z' clip-path='url(%23f)' /%3E%3C/g%3E%3CclipPath id='h' fill='%23fff'%3E%3Cuse xlink:href='%23g' /%3E%3C/clipPath%3E%3Crect width='15.5' height='15.5' x='.25' y='.25' stroke='%23000' stroke-opacity='.12' stroke-width='.5' rx='3' /%3E%3Cpath fill='%23FFF' d='M8 0h1v16H8z' clip-path='url(%23h)' /%3E%3C/g%3E%3C/svg%3E%0A\");\n}\n\n.controls-wrapper .controls .selected .flag.es {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16'%0A%3E%3Cdefs%3E%3Crect id='a' width='16' height='16' x='0' y='0' rx='3' /%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3CclipPath id='b' fill='%23fff'%3E%3Cuse xlink:href='%23a' /%3E%3C/clipPath%3E%3Cuse fill='%23FFD133' xlink:href='%23a' /%3E%3Cpath fill='%23DD172C' d='M0 0h16v5H0zm0 11h16v5H0z' clip-path='url(%23b)' /%3E%3C/g%3E%3C/svg%3E%0A\");\n}\n\n.controls-wrapper .controls .selected .flag.fr {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16'%0A%3E%3Cdefs%3E%3Crect id='a' width='16' height='16' x='0' y='0' rx='3' /%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3CclipPath id='b' fill='%23fff'%3E%3Cuse xlink:href='%23a' /%3E%3C/clipPath%3E%3Cuse fill='%23FFF' xlink:href='%23a' /%3E%3Cpath fill='%231035BB' d='M0 0h5v16H0z' clip-path='url(%23b)' /%3E%3Cpath fill='%23F44653' d='M11 0h5v16h-5z' clip-path='url(%23b)' /%3E%3Crect width='15.5' height='15.5' x='.25' y='.25' stroke='%23000' stroke-opacity='.04' stroke-width='.5' rx='3' /%3E%3C/g%3E%3C/svg%3E%0A\");\n}\n\n.controls-wrapper .controls .selected .flag.hi {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16'%0A%3E%3Cdefs%3E%3Crect id='a' width='16' height='16' x='0' y='0' rx='3' /%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3CclipPath id='b' fill='%23fff'%3E%3Cuse xlink:href='%23a' /%3E%3C/clipPath%3E%3Cuse fill='%23FFF' xlink:href='%23a' /%3E%3Cpath fill='%23FFA44A' d='M0 0h16v5H0z' clip-path='url(%23b)' /%3E%3Cpath fill='%231A9F0B' d='M0 11h16v5H0z' clip-path='url(%23b)' /%3E%3Cpath fill='%23181A93' d='M8 6a2 2 0 11.001 3.999A2 2 0 018 6zm0 1a1 1 0 100 2 1 1 0 000-2z' clip-path='url(%23b)' /%3E%3Crect width='15.5' height='15.5' x='.25' y='.25' stroke='%23000' stroke-opacity='.04' stroke-width='.5' rx='3' /%3E%3C/g%3E%3C/svg%3E%0A\");\n}\n\n.controls-wrapper .controls .selected .flag.id {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16'%0A%3E%3Cdefs%3E%3Crect id='a' width='16' height='16' x='0' y='0' rx='3' /%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3CclipPath id='b' fill='%23fff'%3E%3Cuse xlink:href='%23a' /%3E%3C/clipPath%3E%3Cuse fill='%23FFF' xlink:href='%23a' /%3E%3Cpath fill='%23E12237' d='M0 0h16v8H0z' clip-path='url(%23b)' /%3E%3Crect width='15.5' height='15.5' x='.25' y='.25' stroke='%23000' stroke-opacity='.04' stroke-width='.5' rx='3' /%3E%3Crect width='15.5' height='15.5' x='.25' y='.25' stroke='%23000' stroke-opacity='.24' stroke-width='.5' rx='3' /%3E%3C/g%3E%3C/svg%3E%0A\");\n}\n\n.controls-wrapper .controls .selected .flag.ja {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16'%0A%3E%3Cdefs%3E%3Crect id='a' width='16' height='16' x='0' y='0' rx='3' /%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3CclipPath id='b' color='%23fff'%3E%3Cuse xlink:href='%23a' /%3E%3C/clipPath%3E%3Crect width='15.5' height='15.5' x='.25' y='.25' stroke='%23000' stroke-opacity='.24' stroke-width='.5' rx='3' /%3E%3Ccircle cx='8' cy='8' r='4' fill='%23F44336' clip-path='url(%23b)' /%3E%3C/g%3E%3C/svg%3E%0A\");\n}\n\n.controls-wrapper .controls .selected .flag.ko {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16'%0A%3E%3Cdefs%3E%3Cellipse id='c' cx='3.971' cy='4' rx='3.971' ry='4' /%3E%3Crect id='a' width='16' height='16' x='0' y='0' rx='3' /%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3CclipPath id='b' fill='%23fff'%3E%3Cuse xlink:href='%23a' /%3E%3C/clipPath%3E%3Crect width='15.5' height='15.5' x='.25' y='.25' stroke='%23000' stroke-opacity='.24' stroke-width='.5' rx='3' /%3E%3Cg clip-path='url(%23b)'%3E%3Cg transform='translate(4 4)'%3E%3CclipPath id='d' fill='%23fff'%3E%3Cuse xlink:href='%23c' /%3E%3C/clipPath%3E%3Cuse fill='%23F44336' xlink:href='%23c' /%3E%3Cpath fill='%230C47B7' d='M0 4.402c1.093 1.032 2.732 1.65 3.824 0 1.093-1.65 3.278-1.65 3.824 0 .547 1.65 0 4.635 0 4.635H0S-1.093 3.37 0 4.402z' clip-path='url(%23d)' /%3E%3C/g%3E%3C/g%3E%3Cpath fill='%23515151' d='M12.488 11.296a.601.601 0 01.816-.217l.253.146.006.003a.6.6 0 01.213.821l-.405.69a.6.6 0 01-.815.217l-.254-.146-.006-.003a.6.6 0 01-.213-.821zm-9.117 0l.405.69a.6.6 0 01-.213.821l-.006.003-.253.146a.6.6 0 01-.816-.217l-.405-.69a.598.598 0 01.213-.82l.006-.004.254-.146a.6.6 0 01.815.217zm10-8l.405.69a.6.6 0 01-.213.821l-.006.003-.253.146a.6.6 0 01-.816-.217l-.405-.69a.598.598 0 01.213-.82l.006-.004.254-.146a.6.6 0 01.815.217zm-10.883 0a.601.601 0 01.816-.217l.253.146.006.003a.6.6 0 01.213.821l-.405.69a.6.6 0 01-.815.217l-.254-.146-.006-.003a.6.6 0 01-.213-.821z' clip-path='url(%23b)' /%3E%3C/g%3E%3C/svg%3E%0A\");\n}\n\n.controls-wrapper .controls .selected .flag.pt {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16'%0A%3E%3Cdefs%3E%3Crect id='a' width='16' height='16' x='0' y='0' rx='3' /%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3CclipPath id='b' fill='%23fff'%3E%3Cuse xlink:href='%23a' /%3E%3C/clipPath%3E%3Cuse fill='%23FF2936' xlink:href='%23a' /%3E%3Cpath fill='%23128415' d='M-5 11h16V5H-5z' clip-path='url(%23b)' transform='rotate(90 3 8)' /%3E%3Ccircle cx='6' cy='8' r='2.444' stroke='%23FAF94F' stroke-width='.889' clip-path='url(%23b)' /%3E%3Cpath fill='%23FFF' d='M5 8c0-.552.444-1 1-1 .552 0 1 .444 1 1 0 .552-.444 1-1 1-.552 0-1-.444-1-1z' clip-path='url(%23b)' /%3E%3Cpath fill='%23001EFF' d='M6 7c.513 0 .936.383.993.883L7 8a.997.997 0 01-.883.993L6 9V7z' clip-path='url(%23b)' /%3E%3C/g%3E%3C/svg%3E%0A\");\n}\n\n.controls-wrapper .controls .selected .flag.ru {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16'%0A%3E%3Cdefs%3E%3Crect id='a' width='16' height='16' x='0' y='0' rx='3' /%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3CclipPath id='b' fill='%23fff'%3E%3Cuse xlink:href='%23a' /%3E%3C/clipPath%3E%3Cuse fill='%23FFF' xlink:href='%23a' /%3E%3Cpath fill='%230C47B7' d='M0 5h16v6H0z' clip-path='url(%23b)' /%3E%3Cpath fill='%23E53B35' d='M0 11h16v5H0z' clip-path='url(%23b)' /%3E%3Crect width='15.5' height='15.5' x='.25' y='.25' stroke='%23000' stroke-opacity='.04' stroke-width='.5' rx='3' /%3E%3Crect width='15.5' height='15.5' x='.25' y='.25' stroke='%23000' stroke-opacity='.24' stroke-width='.5' rx='3' /%3E%3C/g%3E%3C/svg%3E%0A\");\n}\n\n.controls-wrapper .controls .selected .flag.th {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16'%0A%3E%3Cdefs%3E%3Crect id='a' width='16' height='16' x='0' y='0' rx='3' /%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3CclipPath id='b' fill='%23fff'%3E%3Cuse xlink:href='%23a' /%3E%3C/clipPath%3E%3Cuse fill='%23FFF' xlink:href='%23a' /%3E%3Cpath fill='%23F12532' d='M0 0h16v4H0zm0 12h16v4H0z' clip-path='url(%23b)' /%3E%3Cpath fill='%23322B6C' d='M0 6h16v4H0z' clip-path='url(%23b)' /%3E%3C/g%3E%3C/svg%3E%0A\");\n}\n\n.controls-wrapper .controls .selected .flag.vi {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16'%0A%3E%3Cdefs%3E%3Crect id='a' width='16' height='16' x='0' y='0' rx='3' /%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3CclipPath id='b' fill='%23fff'%3E%3Cuse xlink:href='%23a' /%3E%3C/clipPath%3E%3Cuse fill='%23F1361D' xlink:href='%23a' /%3E%3Cg fill='%23FFDC42' clip-path='url(%23b)'%3E%3Cpath d='M8 10.2l-2.939 1.845.847-3.365-2.663-2.225 3.462-.235L8 3l1.293 3.22 3.462.235-2.663 2.225.847 3.365z' /%3E%3C/g%3E%3C/g%3E%3C/svg%3E%0A\");\n}\n\n.controls-wrapper .controls .selected .flag.zh-CN {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16'%0A%3E%3Cdefs%3E%3Crect id='a' width='16' height='16' x='0' y='0' rx='3' /%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3CclipPath id='b' fill='%23fff'%3E%3Cuse xlink:href='%23a' /%3E%3C/clipPath%3E%3Cuse fill='%23F1361D' xlink:href='%23a' /%3E%3Cpath fill='%23FFDC42' d='M6 8.76l-2.351 1.476.677-2.692-2.13-1.78 2.769-.188L6 3l1.035 2.576 2.769.188-2.13 1.78.677 2.692zM10.5 10a.5.5 0 110 1 .5.5 0 010-1zm2-2a.5.5 0 110 1 .5.5 0 010-1zm0-3a.5.5 0 110 1 .5.5 0 010-1zm-2-2a.5.5 0 110 1 .5.5 0 010-1z' clip-path='url(%23b)' /%3E%3C/g%3E%3C/svg%3E%0A\");\n}\n\n.controls-wrapper .controls .selected .flag.it {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16'%0A%3E%3Cdefs%3E%3Crect id='a' width='16' height='16' x='0' y='0' rx='3' /%3E%3C/defs%3E%3Cg fill='none' fill-rule='evenodd'%3E%3CclipPath id='b' fill='%23fff'%3E%3Cuse xlink:href='%23a' /%3E%3C/clipPath%3E%3Cuse fill='%23FFF' xlink:href='%23a' /%3E%3Cpath fill='%231DBE49' d='M0 0h5v16H0z' clip-path='url(%23b)' /%3E%3Cpath fill='%23F44653' d='M11 0h5v16h-5z' clip-path='url(%23b)' /%3E%3Crect width='15.5' height='15.5' x='.25' y='.25' stroke='%23000' stroke-opacity='.04' stroke-width='.5' rx='3' /%3E%3C/g%3E%3C/svg%3E\");\n}\n",""])},function(t,e,n){(t.exports=n(5)(!1)).push([t.i,"@keyframes loading-bounce {\r\n    0%,\r\n    80%,\r\n    100% {\r\n        transform: scale(0);\r\n    }\r\n    40% {\r\n        transform: scale(1);\r\n    }\r\n}\r\n\r\n@keyframes appear-scale {\r\n    0% {\r\n        opacity: 0;\r\n        transform: scale3d(0, 0, 1);\r\n    }\r\n    100% {\r\n        opacity: 1;\r\n        transform: scale3d(1, 1, 1);\r\n    }\r\n}\r\n\r\n@keyframes disappear-scale {\r\n    0% {\r\n        opacity: 1;\r\n        transform: scale3d(1, 1, 1);\r\n    }\r\n    100% {\r\n        opacity: 0;\r\n        transform: scale3d(0, 0, 1);\r\n    }\r\n}\r\n",""])},,,function(t,e,n){"use strict";n.r(e);var i=n(0),r=n.n(i),s=n(1);const a=()=>{const t=["script","style","link","iframe","template"].map(t=>`:not(${t})`).join("");return Array.from(document.body.querySelectorAll(t)).reduce((t,e)=>(t||"")+e.textContent,"").trim()};var o=async()=>await r.a.send("language",{url:location.href,charset:document.characterSet,htmlLang:document.documentElement.lang,content:a(),meta:Array.from(document.querySelectorAll("meta[content]")).filter(t=>{const e=t.getAttribute("property")||t.getAttribute("name")||"";return e.includes("title")||e.includes("description")}).reduce((t,e)=>(t||"")+e.getAttribute("content"),"").trim()}),l=n(6),h=n.n(l),c=n(7),d=n.n(c);const p=[],g=t=>u(t.toString()),u=t=>{let e=t;return e=e.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,""),e=e.replace(/ {2,}/g," "),e=e.replace(/ ([{:}]) /g,"$1"),e=e.replace(/([;,]) /g,"$1"),e=e.replace(/ !/g,"!"),e};g(h.a).split("}").forEach(t=>{(t||"").trim().length&&p.push(`${t}}`)}),g(d.a).split("@keyframes ").forEach(t=>{(t||"").trim().length&&p.push(`@keyframes ${t}`)});var f=p;var m=n(3),w=n.n(m);function v(t){const e=document.createElement("div");return e.innerHTML=t,e.firstElementChild}class x extends w.a{constructor(t){super(),this.options=t||{},this.cache={},this.dragging=!1,this.dragData={},this.element={box:t.box,root:t.root},this._offset(t.offset),this._initElement(),this._attachEvent()}_attachEvent(){this.cache.onMouseDown=this.startDrag.bind(this),this.cache.onMouseMove=this.moveDrag.bind(this),this.cache.onMouseUp=this.endDrag.bind(this),this.element.root.addEventListener("mousedown",this.cache.onMouseDown),this.element.root.addEventListener("mouseup",this.cache.onMouseUp)}_initElement(){const{width:t,height:e}=this.options,n=v(`\n        <svg xmlns="http://www.w3.org/2000/svg"\n            id="mask" width="${t}" height="${e}">\n            <mask id="wl-translate-mask">\n                <rect fill="white" width="100%" height="100%" />\n                <rect class="selectarea" width="0" height="0" stroke="black" stroke-width="2" fill="black" />\n            </mask>\n            <rect mask="url(#wl-translate-mask)" x="0" y="0" width="100%" height="100%" style="fill: #737373; opacity: 0.55;" />\n        </svg>`);this.element.mask=n,this.element.dragBox=n.querySelector(".selectarea"),this.element.root.appendChild(this.element.mask)}_destroyElement(){this.element.mask&&(this.element.mask.remove(),this.element.dragBox=void 0)}update(t){const{width:e,height:n,offset:i}=t;this.options.width===e&&this.options.height===n&&this.options.offset.top===i.top&&this.options.offset.left===i.left||(this.options.width=e,this.options.height=n,this.options.offset=i,this._destroyElement(),this._offset(i),this._initElement())}_offset(t){const e="BackCompat"===document.compatMode?document.body:document.scrollingElement||document.documentElement;this.offsetX=t.left-e.scrollLeft,this.offsetY=t.top-e.scrollTop}startDrag(t){this.dragging||t.target.closest('[capture="no"]')||(this.dragging=!0,this.emit("start"),this.reset(),this._offset(this.options.offset),this.dragData.startX=t.clientX,this.dragData.startY=t.clientY,this.element.dragBox.setAttribute("x",t.clientX-this.offsetX),this.element.dragBox.setAttribute("y",t.clientY-this.offsetY),this.element.box.addEventListener("mousemove",this.cache.onMouseMove))}moveDrag(t){const e=t.clientX-this.dragData.startX,n=t.clientY-this.dragData.startY;this.element.dragBox.setAttribute("width",Math.abs(e)),this.element.dragBox.setAttribute("height",Math.abs(n)),e<0&&this.element.dragBox.setAttribute("x",t.clientX-this.offsetX),n<0&&this.element.dragBox.setAttribute("y",t.clientY-this.offsetY),this.dragData.width=e,this.dragData.height=n}endDrag(){if(!this.dragging)return;this.element.box.removeEventListener("mousemove",this.cache.onMouseMove),this.dragging=!1;const t=this.getDragBound();void 0!==this.maxWidth&&Math.abs(this.dragData.width)>this.options.maxWidth||void 0!==this.maxHeight&&Math.abs(this.dragData.height)>this.options.maxHeight?this.emit("error",{type:"big",bound:t}):this.emit("end",t)}getDragBound(){return{x:this.dragData.width>0?this.dragData.startX-this.offsetX:this.dragData.startX-this.offsetX+this.dragData.width,y:this.dragData.height>0?this.dragData.startY-this.offsetY:this.dragData.startY-this.offsetY+this.dragData.height,width:Math.abs(this.dragData.width),height:Math.abs(this.dragData.height)}}reset(){this.dragData.width=0,this.dragData.height=0,this.element.dragBox.setAttribute("x",0),this.element.dragBox.setAttribute("y",0),this.element.dragBox.setAttribute("width",0),this.element.dragBox.setAttribute("height",0)}destroy(){this.element.mask.remove(),this.element.root.removeEventListener("mousedown",this.cache.onMouseDown),this.element.root.removeEventListener("mouseup",this.cache.onMouseUp)}}var E=n(4),C=n(8),b=n.n(C),y=n(9),L=n.n(y);const k={OCR:s.a.getSupportedLanguages(),TRANSLATE:E.a.getSupportedLanguages()},M=(t,e)=>t.map(t=>{const n=t.substr(0,2).toUpperCase(),i=e.toUpperCase()===t.toUpperCase()||e.toUpperCase()===n;return`<option value="${t}" ${i?"selected":""}>${whale.i18n.getMessage(`LANG_${n}`)}</option>`}).join(""),z=(t,e)=>{const n=t.querySelector("option:checked"),i=n?n.textContent:"",r=t.value;e.innerHTML=`\n        <span class="flag ${r}"></span>\n        <span class="text">${i}</span>\n        ${L.a}\n    `};var A=t=>{const e=k.OCR,n=k.TRANSLATE.targets[t.srcLang],i=v(`\n        <div capture="no" translate="no" class="controls-wrapper">\n            <div class="controls">\n                <div class="select-wrap">\n                    <div class="selected srcLang"></div>\n                    <select class="select" name="srcLang">\n                        ${M(e,t.srcLang)}\n                    </select>\n                </div>\n                <div class="select-spacer">\n                    <button class="spacer-btn"></button>\n                </div>\n                <div class="select-wrap">\n                    <div class="selected tarLang"></div>\n                    <select class="select" name="tarLang">\n                        ${M(n,t.tarLang)}\n                    </select>\n                </div>\n            </div>\n            <span class="title-text" draghandle>\n                ${b.a}<span>${whale.i18n.getMessage("HELP_INSTRUCTION")}</span>\n            </span>\n        </div>\n    `),r=i.querySelector('[name="srcLang"]'),s=i.querySelector('[name="tarLang"]'),a=i.querySelector(".selected.srcLang"),o=i.querySelector(".selected.tarLang"),l=i.querySelector(".spacer-btn"),h=()=>{const t=r.value,e=s.value,n=k.TRANSLATE.targets[t];s.innerHTML=M(n,e)},c=()=>{p(r.value,s.value),d()},d=()=>{z(r,a),z(s,o),(({value:t})=>{l.disabled=!e.includes(t)})(s),localStorage.whale_ocr_srcLang=r.value,localStorage.whale_ocr_tarLang=s.value},p=(t,e)=>{i.dispatchEvent(new CustomEvent("update",{detail:{srcLang:t,tarLang:e}}))};return r.addEventListener("change",h,!0),r.addEventListener("change",c,!0),s.addEventListener("change",c,!0),l.addEventListener("click",()=>{const[t,e]=[r.value,s.value];r.value=e,h(),s.value=t,p(e,t),d()},!0),d(),i},F=n(10),_=n.n(F),P=class extends w.a{constructor(){super(),this.element=v(`<button class="btn-close">${_.a}</button>`),this.element.addEventListener("click",()=>{this.emit("click")})}};function H(t,e){if(!t)return Promise.resolve();const{animation:n,duration:i,fillMode:r="",easing:s="ease-in-out",resolveAt:a=i,transformOrigin:o="center"}=e;return new Promise(e=>{t.addEventListener("animationend",()=>{t.style.animation="",t.style.transformOrigin=""},{once:!0}),t.style.transformOrigin=o,t.style.animation=`${n} ${i}ms ${s} ${r}`,setTimeout(()=>{e(t)},a)})}var R=class extends w.a{constructor(t){super(),this.container=t,this.element=v('<div capture="no" translate="no" class="popup"></div>'),this.isVisible=!1,this.element.addEventListener("click",t=>{t.target.dataset&&"cancel"===t.target.dataset.role&&(t.preventDefault(),t.stopPropagation(),this.emit("cancel"))})}show(t,e,n=!1){this.element.innerHTML=t,this.isVisible?this.position(e,!1):(this.isVisible=!0,this.element.classList.add("e"),this.container.append(this.element),setTimeout(()=>this.position(e,!0),10)),n&&setTimeout(()=>this.emit("cancel"),5e3)}async position(t,e){const n=this.element.getBoundingClientRect(),i={top:t.y+t.height+15,left:t.x-n.width/2+t.width/2};i.left<0?(i.left=0,this.element.classList.add("left-edge")):this.element.classList.remove("left-edge"),i.left+n.width>window.innerWidth-15?(i.left=t.x-n.width+t.width,this.element.classList.add("right-edge")):this.element.classList.remove("right-edge"),this.element.style.cssText=`\n                top: ${i.top}px;\n                left: ${i.left}px;\n            `,this.element.classList.add("appear-scale-ready"),this.element.classList.remove("e"),!1!==e&&await H(this.element,{animation:"appear-scale",easing:"ease-out",duration:100,resolveAt:50}),this.element.classList.remove("appear-scale-ready")}async hide(){this.element.classList.add("disappear-scale-ready"),await H(this.element,{animation:"disappear-scale",easing:"ease-out",duration:100,resolveAt:50}),this.element.classList.remove("disappear-scale-ready"),this.element.remove(),this.isVisible=!1}};const S=async(t,e,n)=>{let i=n&&t.getElementById(n);i&&i.remove(),i=document.createElement("style"),n&&i.setAttribute("id",n),t.appendChild(i);try{await D(()=>i.sheet,{timeout:3e3,interval:10}),e.forEach(t=>i.sheet.insertRule(t))}catch(t){console.debug(t)}return i},D=(t,e={})=>{const n=e.timeout||1e4,i=e.interval||20,r=Date.now();return new Promise((e,s)=>{const a=setInterval(()=>{const i=t();i&&(clearInterval(a),e(i)),Date.now()-r>n&&(clearInterval(a),s())},i)})};class T{constructor(t){this.options=t,this.req={bound:void 0,imageUrl:t.imageUrl||t.image.url,srcLang:t.srcLang,tarLang:t.tarLang},this.requests=[],this.initElement(),this.initPosition(),this.initControl(),this.initBtnClose(),this.initCapture(),this.element.setAttribute("ready","ready")}initElement(){this.element=document.createElement("whale-ocr"),this.root=this.element.attachShadow({mode:"closed"}),document.documentElement.appendChild(this.element),S(this.root,f)}initPosition(){const{target:t,rect:e}=this.options,n=t?t.getBoundingClientRect():e;this.updatePosition(n),t&&(this.ro=new ResizeObserver(()=>{this.updatePosition(t.getBoundingClientRect())}),this.ro.observe(t))}async updatePosition(t){t.width||t.height||this.hide();const e=document.documentElement.getBoundingClientRect();this.targetRect=t,this.offset={top:t.top-e.top,left:t.left-e.left},await S(this.root,[`:host {\n            top: ${this.offset.top}px !important;\n            left: ${this.offset.left}px !important;\n            width: ${this.targetRect.width}px !important;\n            height: ${this.targetRect.height}px !important;\n        }`],"poz"),this.mask&&this.mask.update({width:this.targetRect.width,height:this.targetRect.height,offset:this.offset}),t.width&&t.height&&this.show()}show(){this.clearAutoDestructionTimer(),this.element.hidden=!1}hide(){this.clearAutoDestructionTimer(),this.element.hidden=!0,this.setAutoDestructionTimer()}setAutoDestructionTimer(){this.element.hidden&&(this._autoDestruction=setTimeout(()=>{this.destroy()},6e4))}clearAutoDestructionTimer(){this._autoDestruction&&(clearTimeout(this._autoDestruction),this._autoDestruction=void 0)}initControl(){const t=A({srcLang:this.req.srcLang,tarLang:this.req.tarLang});t.addEventListener("update",t=>{const{srcLang:e,tarLang:n}=t.detail;this.req.srcLang=e,this.req.tarLang=n,this.update()}),this.root.append(t),setTimeout(()=>{const e=t.getBoundingClientRect(),n=this.element.getBoundingClientRect();e.top<0&&(e.height+n.bottom+10<=window.innerHeight?t.style.top=`${n.height+10}px`:t.style.top=`${10-n.top}px`),function(t,e){const n={clientX:0,clientY:0},i={x:void 0,y:void 0},r=r=>{const s=-1*(n.clientX-r.clientX),a=-1*(n.clientY-r.clientY),o=e?Math.min(Math.max(e.minY,i.y+a),e.maxY):i.y+a,l=e?Math.min(Math.max(e.minX,i.x+s),e.maxX):i.x+s;t.style.top=`${o}px`,t.style.left=`${l}px`},s=()=>{t.dataset.dragging="",window.removeEventListener("mousemove",r,!0),window.removeEventListener("mouseup",s,!0),window.removeEventListener("mouseleave",s,!0)};t.addEventListener("dblclick",t=>{t.preventDefault(),t.stopPropagation()},!0),t.querySelector("[draghandle]").addEventListener("mousedown",e=>{"true"!==t.dataset.dragging&&(t.dataset.dragging="true",n.clientX=e.clientX,n.clientY=e.clientY,i.x=t.offsetLeft,i.y=t.offsetTop,window.addEventListener("mousemove",r,!0),window.addEventListener("mouseup",s,!0),window.addEventListener("mouseleave",s,!0))},!0)}(t,{minX:0,maxX:this.targetRect.width-e.width,minY:-1*(e.height+5),maxY:this.targetRect.height+5})},50)}initBtnClose(){const t=new P;this.root.append(t.element),t.on("click",()=>{this.destroy()})}initCapture(){const t=new x({box:this.element,root:this.root,maxWidth:700,maxHeight:400,width:this.targetRect.width,height:this.targetRect.height,offset:this.offset});t.on("start",()=>{this.clearPopup()}),t.on("end",t=>{this.req.bound=t,this.update()}),t.on("error",t=>{this.showError(whale.i18n.getMessage("ERR_MAX_SIZE",[700,400]),t.bound)}),this.mask=t}update(){if(this.requests.forEach(t=>{t.cancel()}),!this.req.bound)return;if(0===this.req.bound.width&&0===this.req.bound.height)return;const t=(t=>{let e=!1;const n={isCanceled:!0};return{promise:new Promise((i,r)=>{t.then(t=>e?r(n):i(t)).catch(t=>r(e?n:t))}),cancel(){e=!0}}})((async()=>{this.showLoading(this.req.bound);const{target:t,image:e}=this.options,n={x:t?t.naturalWidth/t.clientWidth:e.scaleX,y:t?t.naturalHeight/t.clientHeight:e.scaleY},i=await r.a.send("ocr.translate",{bound:this.req.bound,imageUrl:this.req.imageUrl,srcLang:this.req.srcLang,tarLang:this.req.tarLang,scaleX:n.x,scaleY:n.y});if(null===i.texts)throw i;return i})());t.promise.then(t=>{this.showResult(t,this.req.bound,!1)}).catch(t=>{t.isCanceled||this.showError(whale.i18n.getMessage("ERR_FAILED"),this.req.bound,!1)}),this.requests.push(t)}showLoading(t){this.setPopup('<div class="loading">\n                <i class="ball"></i><i class="ball"></i><i class="ball"></i>\n            </div>',t)}stringToHTML(t){const e=document.createElement("div");return e.innerHTML=t.trim(),e.firstChild}showResult(t,e){const{texts:n,translated:i}=t,r=this.stringToHTML('<div class="result">\n                <button type="button" class="btn-cancel" data-role="cancel"></button>\n                <div class="origin"></div>\n                <div class="translated"></div>\n            </div>'),s=(document.createElement("div"),r.querySelector(".origin")),a=r.querySelector(".translated");i&&(a.innerText=i),n.forEach(t=>{const e=document.createElement("span");e.classList.add("txt-line"),e.innerText=t,s.append(e),i||a.append(e)}),this.setPopup(r.outerHTML,e)}showError(t,e){this.setPopup(`<span class="warning-text">${t}</span>`,e,!0)}setPopup(t,e,n=!1){e&&(this.popup||(this.popup=new R(this.root),this.popup.on("cancel",()=>{this.popup.hide(),this.mask&&this.mask.reset()})),this.popup.show(t,e,n))}async clearPopup(){this.popup&&(await this.popup.hide(),this.popup=void 0)}destroy(){this.clearPopup(),this.mask&&this.mask.destroy(),this.element&&this.element.remove(),this.ro&&this.ro.disconnect()}}const B=[],j={},$=(t,e,n)=>{let i=!1;const r=document.querySelectorAll("iframe"),s=t=>{const{data:e}=t;if(!e||"frameFind"!==e.action)return;const a=r[t.data.index];a&&(i=!0,window.removeEventListener("message",s,!0),n(a.getBoundingClientRect()))};window.addEventListener("message",s,!0),i||r.forEach((t,e)=>{t.contentWindow.postMessage({action:"frameFind",index:e},"*")})},O=()=>({lsSrcLang:localStorage.whale_ocr_srcLang,lsTarLang:localStorage.whale_ocr_tarLang}),q=()=>{B.forEach(t=>t.destroy()),B.length=0,window.removeEventListener("resize",q,!0)};var V=()=>{window.addEventListener("contextmenu",t=>{"IMG"===t.target.tagName&&(j.target=t.target)},!0),r.a.listen("ocr.start",async t=>{if(t.srcUrl!==j.target.currentSrc)return;0===B.length&&window.addEventListener("resize",q,!0);const{srcLang:e,tarLang:n}=await(async()=>{let t=await o();s.a.isSupportedLanguage(t)||(t="en");let e=whale.i18n.getUILanguage();return e.startsWith("en-")&&(e="en"),t===e&&(e="en"),"en"===t&&"en"===e&&(e="ko"),{srcLang:t,tarLang:e}})(),{lsSrcLang:i,lsTarLang:r}=O();B.push(new T({target:j.target,imageUrl:t.srcUrl,srcLang:i||e,tarLang:r||n}))}),r.a.listen("bubble",t=>{const{targetRect:e,frameRect:n}=t,i={top:e.top+n.top,left:e.left+n.left,width:e.width,height:e.height},{lsSrcLang:r,lsTarLang:s}=O();B.push(new T({rect:i,image:t.image,srcLang:r||t.srcLang,tarLang:s||t.tarLang}))}),r.a.listen("frameFind",$)};const U={};var X=()=>{window.addEventListener("contextmenu",t=>{"IMG"===t.target.tagName&&(U.target=t.target)},!0),r.a.listen("ocr.start",async t=>{if(t.srcUrl!==U.target.src)return;const{srcLang:e,tarLang:n}=await(async()=>{let t=await o();s.a.isSupportedLanguage(t)||(t="en");let e=whale.i18n.getUILanguage();return e.startsWith("en-")&&(e="en"),t===e&&(e="en"),"en"===t&&"en"===e&&(e="ko"),{srcLang:t,tarLang:e}})(),{lsSrcLang:i,lsTarLang:a}={lsSrcLang:localStorage.whale_ocr_srcLang,lsTarLang:localStorage.whale_ocr_tarLang},l=await(async()=>{if(window.frameElement)return window.frameElement.getBoundingClientRect();const t=e=>{const{data:n}=e;n&&"frameFind"===n.action&&(e.source.postMessage(n,e.origin),window.removeEventListener("message",t,!0))};return window.addEventListener("message",t,!0),await r.a.send("frameRect")})();r.a.send("bubble",{image:{url:t.srcUrl,scaleX:U.target.naturalWidth/U.target.clientWidth,scaleY:U.target.naturalHeight/U.target.clientHeight},targetRect:U.target.getBoundingClientRect(),frameRect:l,srcLang:i||e,tarLang:a||n})})};(async()=>{(t=>window===window.top||(!t||t&&t.height===window.innerHeight))(await(async()=>{const t=await r.a.send("whomi");return t&&t.tab})())?await V():await X()})()}]);